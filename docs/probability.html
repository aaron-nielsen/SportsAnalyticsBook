<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Probability | Sports Analytics</title>
  <meta name="description" content="Chapter 2 Probability | Sports Analytics Notes" />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Probability | Sports Analytics" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://aaron-nielsen.github.io/SportsAnalyticsBook/images/csu.png" />
  <meta property="og:description" content="Chapter 2 Probability | Sports Analytics Notes" />
  <meta name="github-repo" content="aaron-nielsen.github.io/SportsAnalyticsBook/" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Probability | Sports Analytics" />
  
  <meta name="twitter:description" content="Chapter 2 Probability | Sports Analytics Notes" />
  <meta name="twitter:image" content="https://aaron-nielsen.github.io/SportsAnalyticsBook/images/csu.png" />

<meta name="author" content="Aaron Nielsen, Department of Statistics, Colorado State University" />


<meta name="date" content="2023-03-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<link rel="prev" href="exploratory-data-analysis.html"/>
<link rel="next" href="odds-and-bets.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="lib/css/bootstrap.min.css" type="text/css" />
<link rel="stylesheet" href="lib/css/style.css" type="text/css" />
<link rel="stylesheet" href="lib/css/lesson.css" type="text/css" />
<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Sports Analytics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="" data-path="preliminaries.html"><a href="preliminaries.html"><i class="fa fa-check"></i>Preliminaries</a>
<ul>
<li class="chapter" data-level="" data-path="preliminaries.html"><a href="preliminaries.html#getting-started-with-r"><i class="fa fa-check"></i>Getting Started With R</a>
<ul>
<li class="chapter" data-level="" data-path="preliminaries.html"><a href="preliminaries.html#installing-r"><i class="fa fa-check"></i>Installing R</a></li>
<li class="chapter" data-level="" data-path="preliminaries.html"><a href="preliminaries.html#some-r-basics"><i class="fa fa-check"></i>Some R Basics</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preliminaries.html"><a href="preliminaries.html#which-sports"><i class="fa fa-check"></i>Which Sports?</a></li>
<li class="chapter" data-level="" data-path="preliminaries.html"><a href="preliminaries.html#challenges"><i class="fa fa-check"></i>Challenges</a></li>
<li class="chapter" data-level="" data-path="preliminaries.html"><a href="preliminaries.html#ethical-concerns"><i class="fa fa-check"></i>Ethical Concerns</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>1</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="1.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#descriptive-statistics"><i class="fa fa-check"></i><b>1.1</b> Descriptive Statistics</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#definitions"><i class="fa fa-check"></i><b>1.1.1</b> Definitions</a></li>
<li class="chapter" data-level="1.1.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#descriptive-statistics-1"><i class="fa fa-check"></i><b>1.1.2</b> Descriptive Statistics</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#visualizations"><i class="fa fa-check"></i><b>1.2</b> Visualizations</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#histograms"><i class="fa fa-check"></i><b>1.2.1</b> Histograms</a></li>
<li class="chapter" data-level="1.2.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#bar-plots"><i class="fa fa-check"></i><b>1.2.2</b> Bar Plots</a></li>
<li class="chapter" data-level="1.2.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#scatter-plots"><i class="fa fa-check"></i><b>1.2.3</b> Scatter Plots</a></li>
<li class="chapter" data-level="1.2.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#kable-tables"><i class="fa fa-check"></i><b>1.2.4</b> Kable Tables</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#baseball"><i class="fa fa-check"></i><b>1.3</b> Baseball</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#hitting-statistics"><i class="fa fa-check"></i><b>1.3.1</b> Hitting Statistics</a></li>
<li class="chapter" data-level="1.3.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#pitching-statistics"><i class="fa fa-check"></i><b>1.3.2</b> Pitching Statistics</a></li>
<li class="chapter" data-level="1.3.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#wins-above-replacement"><i class="fa fa-check"></i><b>1.3.3</b> Wins Above Replacement</a></li>
<li class="chapter" data-level="1.3.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#calculating-hitting-statistics"><i class="fa fa-check"></i><b>1.3.4</b> Calculating Hitting Statistics</a></li>
<li class="chapter" data-level="1.3.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#evaluating-pitching-statistics"><i class="fa fa-check"></i><b>1.3.5</b> Evaluating Pitching Statistics</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#football"><i class="fa fa-check"></i><b>1.4</b> Football</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#basic-football-statistics"><i class="fa fa-check"></i><b>1.4.1</b> Basic Football Statistics</a></li>
<li class="chapter" data-level="1.4.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#advanced-football-statistics"><i class="fa fa-check"></i><b>1.4.2</b> Advanced Football Statistics</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#basketball"><i class="fa fa-check"></i><b>1.5</b> Basketball</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#basic-basketball-statistics"><i class="fa fa-check"></i><b>1.5.1</b> Basic Basketball Statistics</a></li>
<li class="chapter" data-level="1.5.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#advanced-basketball-statistics"><i class="fa fa-check"></i><b>1.5.2</b> Advanced Basketball Statistics</a></li>
<li class="chapter" data-level="1.5.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#four-factors"><i class="fa fa-check"></i><b>1.5.3</b> Four Factors</a></li>
<li class="chapter" data-level="1.5.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#shot-charts"><i class="fa fa-check"></i><b>1.5.4</b> Shot Charts</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#hockey"><i class="fa fa-check"></i><b>1.6</b> Hockey</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#basic-hockey-statistics"><i class="fa fa-check"></i><b>1.6.1</b> Basic Hockey Statistics</a></li>
<li class="chapter" data-level="1.6.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#advanced-hockey-statistics"><i class="fa fa-check"></i><b>1.6.2</b> Advanced Hockey Statistics</a></li>
<li class="chapter" data-level="1.6.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#actual-vs.-expected-goals"><i class="fa fa-check"></i><b>1.6.3</b> Actual vs. Expected Goals</a></li>
<li class="chapter" data-level="1.6.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#goalie-statistics"><i class="fa fa-check"></i><b>1.6.4</b> Goalie Statistics</a></li>
<li class="chapter" data-level="1.6.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#correlation-plots"><i class="fa fa-check"></i><b>1.6.5</b> Correlation Plots</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#volleyball"><i class="fa fa-check"></i><b>1.7</b> Volleyball</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#basic-volleyball-statistics"><i class="fa fa-check"></i><b>1.7.1</b> Basic Volleyball Statistics</a></li>
<li class="chapter" data-level="1.7.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#scatter-plot"><i class="fa fa-check"></i><b>1.7.2</b> Scatter Plot</a></li>
<li class="chapter" data-level="1.7.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#box-plot"><i class="fa fa-check"></i><b>1.7.3</b> Box Plot</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#soccer"><i class="fa fa-check"></i><b>1.8</b> Soccer</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#basic-soccer-statistics"><i class="fa fa-check"></i><b>1.8.1</b> Basic Soccer Statistics</a></li>
<li class="chapter" data-level="1.8.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#advanced-soccer-statistics"><i class="fa fa-check"></i><b>1.8.2</b> Advanced Soccer Statistics</a></li>
<li class="chapter" data-level="1.8.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#bar-plot"><i class="fa fa-check"></i><b>1.8.3</b> Bar Plot</a></li>
<li class="chapter" data-level="1.8.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#scatter-plot-1"><i class="fa fa-check"></i><b>1.8.4</b> Scatter Plot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="probability.html"><a href="probability.html"><i class="fa fa-check"></i><b>2</b> Probability</a>
<ul>
<li class="chapter" data-level="2.1" data-path="probability.html"><a href="probability.html#definitions-1"><i class="fa fa-check"></i><b>2.1</b> Definitions</a></li>
<li class="chapter" data-level="2.2" data-path="probability.html"><a href="probability.html#set-theory"><i class="fa fa-check"></i><b>2.2</b> Set Theory</a></li>
<li class="chapter" data-level="2.3" data-path="probability.html"><a href="probability.html#axioms-properties-and-laws"><i class="fa fa-check"></i><b>2.3</b> Axioms, Properties, and Laws</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="probability.html"><a href="probability.html#axioms-of-probability"><i class="fa fa-check"></i><b>2.3.1</b> Axioms of Probability</a></li>
<li class="chapter" data-level="2.3.2" data-path="probability.html"><a href="probability.html#properties-of-probability"><i class="fa fa-check"></i><b>2.3.2</b> Properties of Probability</a></li>
<li class="chapter" data-level="2.3.3" data-path="probability.html"><a href="probability.html#laws-of-probability"><i class="fa fa-check"></i><b>2.3.3</b> Laws of Probability</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="probability.html"><a href="probability.html#combinatorics"><i class="fa fa-check"></i><b>2.4</b> Combinatorics</a></li>
<li class="chapter" data-level="2.5" data-path="probability.html"><a href="probability.html#random-variables"><i class="fa fa-check"></i><b>2.5</b> Random Variables</a></li>
<li class="chapter" data-level="2.6" data-path="probability.html"><a href="probability.html#common-random-variables"><i class="fa fa-check"></i><b>2.6</b> Common Random Variables</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="probability.html"><a href="probability.html#binomial-rvs"><i class="fa fa-check"></i><b>2.6.1</b> Binomial RVs</a></li>
<li class="chapter" data-level="2.6.2" data-path="probability.html"><a href="probability.html#geometric-rvs"><i class="fa fa-check"></i><b>2.6.2</b> Geometric RVs</a></li>
<li class="chapter" data-level="2.6.3" data-path="probability.html"><a href="probability.html#poisson-rvs"><i class="fa fa-check"></i><b>2.6.3</b> Poisson RVs</a></li>
<li class="chapter" data-level="2.6.4" data-path="probability.html"><a href="probability.html#negative-binomial-rvs"><i class="fa fa-check"></i><b>2.6.4</b> Negative Binomial RVs</a></li>
<li class="chapter" data-level="2.6.5" data-path="probability.html"><a href="probability.html#normal-rvs"><i class="fa fa-check"></i><b>2.6.5</b> Normal RVs</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="probability.html"><a href="probability.html#win-probability-models"><i class="fa fa-check"></i><b>2.7</b> Win Probability Models</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="probability.html"><a href="probability.html#estimating-pregame-win-probability"><i class="fa fa-check"></i><b>2.7.1</b> Estimating Pregame Win Probability</a></li>
<li class="chapter" data-level="2.7.2" data-path="probability.html"><a href="probability.html#estimating-in-game-win-probability"><i class="fa fa-check"></i><b>2.7.2</b> Estimating In-Game Win Probability</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="odds-and-bets.html"><a href="odds-and-bets.html"><i class="fa fa-check"></i><b>3</b> Odds and Bets</a>
<ul>
<li class="chapter" data-level="3.1" data-path="odds-and-bets.html"><a href="odds-and-bets.html#odds"><i class="fa fa-check"></i><b>3.1</b> Odds</a></li>
<li class="chapter" data-level="3.2" data-path="odds-and-bets.html"><a href="odds-and-bets.html#gambling-odds"><i class="fa fa-check"></i><b>3.2</b> Gambling Odds</a></li>
<li class="chapter" data-level="3.3" data-path="odds-and-bets.html"><a href="odds-and-bets.html#types-of-bets"><i class="fa fa-check"></i><b>3.3</b> Types of Bets</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html"><i class="fa fa-check"></i><b>4</b> Monte Carlo Simulation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#basics"><i class="fa fa-check"></i><b>4.1</b> Basics</a></li>
<li class="chapter" data-level="4.2" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#estimating-probabilities"><i class="fa fa-check"></i><b>4.2</b> Estimating Probabilities</a></li>
<li class="chapter" data-level="4.3" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#simulating-streaks"><i class="fa fa-check"></i><b>4.3</b> Simulating Streaks</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#winning-streak-simulation"><i class="fa fa-check"></i><b>4.3.1</b> Winning Streak Simulation</a></li>
<li class="chapter" data-level="4.3.2" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#hitting-streak-simulation"><i class="fa fa-check"></i><b>4.3.2</b> Hitting Streak Simulation</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#gambling-simulations"><i class="fa fa-check"></i><b>4.4</b> Gambling Simulations</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#martingale-system"><i class="fa fa-check"></i><b>4.4.1</b> Martingale System</a></li>
<li class="chapter" data-level="4.4.2" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#gamblers-ruin"><i class="fa fa-check"></i><b>4.4.2</b> Gambler’s Ruin</a></li>
<li class="chapter" data-level="4.4.3" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#simulating-a-winning-system"><i class="fa fa-check"></i><b>4.4.3</b> Simulating a Winning System</a></li>
<li class="chapter" data-level="4.4.4" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#using-the-kelly-growth-criterion"><i class="fa fa-check"></i><b>4.4.4</b> Using the Kelly Growth Criterion</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#simulating-censored-data"><i class="fa fa-check"></i><b>4.5</b> Simulating Censored Data</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#tony-gwynn-1994-batting-average-simulation"><i class="fa fa-check"></i><b>4.5.1</b> Tony Gwynn 1994 Batting Average Simulation</a></li>
<li class="chapter" data-level="4.5.2" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#matt-williams-1994-home-run-simulation"><i class="fa fa-check"></i><b>4.5.2</b> Matt Williams 1994 Home Run Simulation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="inferential-statistics.html"><a href="inferential-statistics.html"><i class="fa fa-check"></i><b>5</b> Inferential Statistics</a>
<ul>
<li class="chapter" data-level="5.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#defining-a-population"><i class="fa fa-check"></i><b>5.1</b> Defining a Population</a></li>
<li class="chapter" data-level="5.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#statistical-inference"><i class="fa fa-check"></i><b>5.2</b> Statistical Inference</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#confidence-intervals"><i class="fa fa-check"></i><b>5.2.1</b> Confidence Intervals</a></li>
<li class="chapter" data-level="5.2.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#hypothesis-tests"><i class="fa fa-check"></i><b>5.2.2</b> Hypothesis Tests</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="inferential-statistics.html"><a href="inferential-statistics.html#inference-for-population-mean"><i class="fa fa-check"></i><b>5.3</b> Inference for Population Mean</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#confidence-interval-for-population-mean"><i class="fa fa-check"></i><b>5.3.1</b> Confidence Interval for Population Mean</a></li>
<li class="chapter" data-level="5.3.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#hypothesis-test-for-population-mean"><i class="fa fa-check"></i><b>5.3.2</b> Hypothesis Test for Population Mean</a></li>
<li class="chapter" data-level="5.3.3" data-path="inferential-statistics.html"><a href="inferential-statistics.html#test-for-difference-in-means"><i class="fa fa-check"></i><b>5.3.3</b> Test for Difference in Means</a></li>
<li class="chapter" data-level="5.3.4" data-path="inferential-statistics.html"><a href="inferential-statistics.html#confidence-interval-for-difference-in-means"><i class="fa fa-check"></i><b>5.3.4</b> Confidence Interval for Difference in Means</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="inferential-statistics.html"><a href="inferential-statistics.html#inference-for-population-proportion"><i class="fa fa-check"></i><b>5.4</b> Inference for Population Proportion</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#confidence-interval-for-population-proportion"><i class="fa fa-check"></i><b>5.4.1</b> Confidence Interval for Population Proportion</a></li>
<li class="chapter" data-level="5.4.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#test-for-population-proportion"><i class="fa fa-check"></i><b>5.4.2</b> Test for Population Proportion</a></li>
<li class="chapter" data-level="5.4.3" data-path="inferential-statistics.html"><a href="inferential-statistics.html#confidence-interval-for-difference-in-proportions"><i class="fa fa-check"></i><b>5.4.3</b> Confidence Interval for Difference in Proportions</a></li>
<li class="chapter" data-level="5.4.4" data-path="inferential-statistics.html"><a href="inferential-statistics.html#test-for-difference-in-proportions"><i class="fa fa-check"></i><b>5.4.4</b> Test for Difference in Proportions</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="inferential-statistics.html"><a href="inferential-statistics.html#bootstrap"><i class="fa fa-check"></i><b>5.5</b> Bootstrap</a></li>
<li class="chapter" data-level="5.6" data-path="inferential-statistics.html"><a href="inferential-statistics.html#margin-of-error-calcuations"><i class="fa fa-check"></i><b>5.6</b> Margin of Error Calcuations</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#moe-for-probabilities"><i class="fa fa-check"></i><b>5.6.1</b> MOE for Probabilities</a></li>
<li class="chapter" data-level="5.6.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#moe-for-averages"><i class="fa fa-check"></i><b>5.6.2</b> MOE for Averages</a></li>
<li class="chapter" data-level="5.6.3" data-path="inferential-statistics.html"><a href="inferential-statistics.html#moe-estimation-using-simulation"><i class="fa fa-check"></i><b>5.6.3</b> MOE estimation using simulation</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="inferential-statistics.html"><a href="inferential-statistics.html#one-sample-and-two-sample-t-tests-and-confidence-intervals"><i class="fa fa-check"></i><b>5.7</b> One Sample and Two Sample t-tests and confidence intervals</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#hockey-faceoffs"><i class="fa fa-check"></i><b>5.7.1</b> Hockey Faceoffs</a></li>
<li class="chapter" data-level="5.7.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#hockey-penalty-scoring"><i class="fa fa-check"></i><b>5.7.2</b> Hockey Penalty Scoring</a></li>
<li class="chapter" data-level="5.7.3" data-path="inferential-statistics.html"><a href="inferential-statistics.html#nfl-overtime-winners"><i class="fa fa-check"></i><b>5.7.3</b> NFL Overtime Winners</a></li>
<li class="chapter" data-level="5.7.4" data-path="inferential-statistics.html"><a href="inferential-statistics.html#icing-the-kicker"><i class="fa fa-check"></i><b>5.7.4</b> Icing the Kicker</a></li>
<li class="chapter" data-level="5.7.5" data-path="inferential-statistics.html"><a href="inferential-statistics.html#example-football-one-vs.-two-point-conversion"><i class="fa fa-check"></i><b>5.7.5</b> Example: Football One vs. Two Point Conversion</a></li>
<li class="chapter" data-level="5.7.6" data-path="inferential-statistics.html"><a href="inferential-statistics.html#two-sample-tests"><i class="fa fa-check"></i><b>5.7.6</b> Two Sample Tests</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="inferential-statistics.html"><a href="inferential-statistics.html#permutation-tests"><i class="fa fa-check"></i><b>5.8</b> Permutation Tests</a></li>
<li class="chapter" data-level="5.9" data-path="inferential-statistics.html"><a href="inferential-statistics.html#bootstrap-1"><i class="fa fa-check"></i><b>5.9</b> Bootstrap</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="measures-of-association.html"><a href="measures-of-association.html"><i class="fa fa-check"></i><b>6</b> Measures of Association</a>
<ul>
<li class="chapter" data-level="6.1" data-path="measures-of-association.html"><a href="measures-of-association.html#pearson-correlation-coefficient"><i class="fa fa-check"></i><b>6.1</b> Pearson Correlation Coefficient</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="measures-of-association.html"><a href="measures-of-association.html#partial-correlation-and-confounding-variables"><i class="fa fa-check"></i><b>6.1.1</b> Partial Correlation and Confounding Variables</a></li>
<li class="chapter" data-level="6.1.2" data-path="measures-of-association.html"><a href="measures-of-association.html#properties-of-the-linear-correlation-coefficient"><i class="fa fa-check"></i><b>6.1.2</b> Properties of the Linear Correlation Coefficient</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="measures-of-association.html"><a href="measures-of-association.html#association-of-categorical-variables"><i class="fa fa-check"></i><b>6.2</b> Association of Categorical Variables</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="measures-of-association.html"><a href="measures-of-association.html#odds-ratios"><i class="fa fa-check"></i><b>6.2.1</b> Odds Ratios</a></li>
<li class="chapter" data-level="6.2.2" data-path="measures-of-association.html"><a href="measures-of-association.html#yules-q"><i class="fa fa-check"></i><b>6.2.2</b> Yule’s Q</a></li>
<li class="chapter" data-level="6.2.3" data-path="measures-of-association.html"><a href="measures-of-association.html#chi-squared-test-of-independence"><i class="fa fa-check"></i><b>6.2.3</b> Chi-Squared Test of Independence</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="measures-of-association.html"><a href="measures-of-association.html#rank-correlation"><i class="fa fa-check"></i><b>6.3</b> Rank Correlation</a></li>
<li class="chapter" data-level="6.4" data-path="measures-of-association.html"><a href="measures-of-association.html#serial-correlation"><i class="fa fa-check"></i><b>6.4</b> Serial Correlation</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="measures-of-association.html"><a href="measures-of-association.html#autocorrelation"><i class="fa fa-check"></i><b>6.4.1</b> Autocorrelation</a></li>
<li class="chapter" data-level="6.4.2" data-path="measures-of-association.html"><a href="measures-of-association.html#run-lengths"><i class="fa fa-check"></i><b>6.4.2</b> Run Lengths</a></li>
<li class="chapter" data-level="6.4.3" data-path="measures-of-association.html"><a href="measures-of-association.html#wald-wolfowitz-runs-test"><i class="fa fa-check"></i><b>6.4.3</b> Wald-Wolfowitz Runs Test</a></li>
<li class="chapter" data-level="6.4.4" data-path="measures-of-association.html"><a href="measures-of-association.html#hot-hand"><i class="fa fa-check"></i><b>6.4.4</b> Hot Hand</a></li>
<li class="chapter" data-level="6.4.5" data-path="measures-of-association.html"><a href="measures-of-association.html#streakiness-in-sports"><i class="fa fa-check"></i><b>6.4.5</b> Streakiness in Sports</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="measures-of-association.html"><a href="measures-of-association.html#pythagorean-record"><i class="fa fa-check"></i><b>6.5</b> Pythagorean Record</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-acquisition.html"><a href="data-acquisition.html"><i class="fa fa-check"></i><b>7</b> Data Acquisition</a>
<ul>
<li class="chapter" data-level="7.1" data-path="data-acquisition.html"><a href="data-acquisition.html#tabular-data-from-sports-reference"><i class="fa fa-check"></i><b>7.1</b> Tabular Data From Sports Reference</a></li>
<li class="chapter" data-level="7.2" data-path="data-acquisition.html"><a href="data-acquisition.html#downloading-datasets-from-internet"><i class="fa fa-check"></i><b>7.2</b> Downloading Datasets From Internet</a></li>
<li class="chapter" data-level="7.3" data-path="data-acquisition.html"><a href="data-acquisition.html#importing-data-using-r-libraries"><i class="fa fa-check"></i><b>7.3</b> Importing Data Using R Libraries</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="data-acquisition.html"><a href="data-acquisition.html#baseballr-package"><i class="fa fa-check"></i><b>7.3.1</b> BaseballR package</a></li>
<li class="chapter" data-level="7.3.2" data-path="data-acquisition.html"><a href="data-acquisition.html#nflfastr-package"><i class="fa fa-check"></i><b>7.3.2</b> nflfastR package</a></li>
<li class="chapter" data-level="7.3.3" data-path="data-acquisition.html"><a href="data-acquisition.html#hoopr-package"><i class="fa fa-check"></i><b>7.3.3</b> hoopR package</a></li>
<li class="chapter" data-level="7.3.4" data-path="data-acquisition.html"><a href="data-acquisition.html#hockeyr-package"><i class="fa fa-check"></i><b>7.3.4</b> hockeyR package</a></li>
<li class="chapter" data-level="7.3.5" data-path="data-acquisition.html"><a href="data-acquisition.html#worldfootballr"><i class="fa fa-check"></i><b>7.3.5</b> worldfootballR</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="data-acquisition.html"><a href="data-acquisition.html#data-scraping"><i class="fa fa-check"></i><b>7.4</b> Data Scraping</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="data-acquisition.html"><a href="data-acquisition.html#general-tips"><i class="fa fa-check"></i><b>7.4.1</b> General Tips</a></li>
<li class="chapter" data-level="7.4.2" data-path="data-acquisition.html"><a href="data-acquisition.html#introduction-to-html"><i class="fa fa-check"></i><b>7.4.2</b> Introduction to HTML</a></li>
<li class="chapter" data-level="7.4.3" data-path="data-acquisition.html"><a href="data-acquisition.html#rvest-package"><i class="fa fa-check"></i><b>7.4.3</b> rvest Package</a></li>
<li class="chapter" data-level="7.4.4" data-path="data-acquisition.html"><a href="data-acquisition.html#css-gadget-selector"><i class="fa fa-check"></i><b>7.4.4</b> CSS Gadget Selector</a></li>
<li class="chapter" data-level="7.4.5" data-path="data-acquisition.html"><a href="data-acquisition.html#scraping-examples"><i class="fa fa-check"></i><b>7.4.5</b> Scraping Examples</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>8</b> Linear Regression</a>
<ul>
<li class="chapter" data-level="8.1" data-path="linear-regression.html"><a href="linear-regression.html#simple-linear-regression"><i class="fa fa-check"></i><b>8.1</b> Simple Linear Regression</a></li>
<li class="chapter" data-level="8.2" data-path="linear-regression.html"><a href="linear-regression.html#residual-analysis"><i class="fa fa-check"></i><b>8.2</b> Residual Analysis</a></li>
<li class="chapter" data-level="8.3" data-path="linear-regression.html"><a href="linear-regression.html#polynomial-regression"><i class="fa fa-check"></i><b>8.3</b> Polynomial Regression</a></li>
<li class="chapter" data-level="8.4" data-path="linear-regression.html"><a href="linear-regression.html#variable-transformations"><i class="fa fa-check"></i><b>8.4</b> Variable Transformations</a></li>
<li class="chapter" data-level="8.5" data-path="linear-regression.html"><a href="linear-regression.html#multiple-regression-and-model-selection"><i class="fa fa-check"></i><b>8.5</b> Multiple Regression and Model Selection</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="linear-regression.html"><a href="linear-regression.html#model-selection-using-bic"><i class="fa fa-check"></i><b>8.5.1</b> Model Selection using BIC</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="linear-regression.html"><a href="linear-regression.html#confounding-variables"><i class="fa fa-check"></i><b>8.6</b> Confounding Variables</a></li>
<li class="chapter" data-level="8.7" data-path="linear-regression.html"><a href="linear-regression.html#interaction"><i class="fa fa-check"></i><b>8.7</b> Interaction</a></li>
<li class="chapter" data-level="8.8" data-path="linear-regression.html"><a href="linear-regression.html#weighted-least-squares-regression"><i class="fa fa-check"></i><b>8.8</b> Weighted Least Squares Regression</a></li>
<li class="chapter" data-level="8.9" data-path="linear-regression.html"><a href="linear-regression.html#stepwise-regression-using-cross-validation"><i class="fa fa-check"></i><b>8.9</b> Stepwise Regression using Cross-Validation</a></li>
<li class="chapter" data-level="8.10" data-path="linear-regression.html"><a href="linear-regression.html#ridge-regression"><i class="fa fa-check"></i><b>8.10</b> Ridge Regression</a></li>
<li class="chapter" data-level="8.11" data-path="linear-regression.html"><a href="linear-regression.html#lasso-regression"><i class="fa fa-check"></i><b>8.11</b> Lasso Regression</a></li>
<li class="chapter" data-level="8.12" data-path="linear-regression.html"><a href="linear-regression.html#elastic-net"><i class="fa fa-check"></i><b>8.12</b> Elastic Net</a></li>
<li class="chapter" data-level="8.13" data-path="linear-regression.html"><a href="linear-regression.html#mixed-effects-models"><i class="fa fa-check"></i><b>8.13</b> Mixed Effects Models</a></li>
<li class="chapter" data-level="8.14" data-path="linear-regression.html"><a href="linear-regression.html#logistic-regression"><i class="fa fa-check"></i><b>8.14</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="8.14.1" data-path="linear-regression.html"><a href="linear-regression.html#sack-and-interception-probability-models"><i class="fa fa-check"></i><b>8.14.1</b> Sack and Interception Probability Models</a></li>
<li class="chapter" data-level="8.14.2" data-path="linear-regression.html"><a href="linear-regression.html#soccer-goal-logistic-model"><i class="fa fa-check"></i><b>8.14.2</b> Soccer Goal Logistic Model</a></li>
<li class="chapter" data-level="8.14.3" data-path="linear-regression.html"><a href="linear-regression.html#field-goal-success"><i class="fa fa-check"></i><b>8.14.3</b> Field Goal Success</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="principal-component-analysis.html"><a href="principal-component-analysis.html"><i class="fa fa-check"></i><b>9</b> Principal Component Analysis</a></li>
<li class="chapter" data-level="10" data-path="clustering.html"><a href="clustering.html"><i class="fa fa-check"></i><b>10</b> Clustering</a></li>
<li class="chapter" data-level="11" data-path="classification.html"><a href="classification.html"><i class="fa fa-check"></i><b>11</b> Classification</a></li>
<li class="chapter" data-level="12" data-path="nonparametric-methods.html"><a href="nonparametric-methods.html"><i class="fa fa-check"></i><b>12</b> Nonparametric Methods</a></li>
<li class="chapter" data-level="13" data-path="sports-drafts.html"><a href="sports-drafts.html"><i class="fa fa-check"></i><b>13</b> Sports Drafts</a></li>
<li class="chapter" data-level="14" data-path="baseball-1.html"><a href="baseball-1.html"><i class="fa fa-check"></i><b>14</b> Baseball</a></li>
<li class="chapter" data-level="15" data-path="football-1.html"><a href="football-1.html"><i class="fa fa-check"></i><b>15</b> Football</a></li>
<li class="chapter" data-level="16" data-path="basketball-1.html"><a href="basketball-1.html"><i class="fa fa-check"></i><b>16</b> Basketball</a></li>
<li class="chapter" data-level="17" data-path="hockey-1.html"><a href="hockey-1.html"><i class="fa fa-check"></i><b>17</b> Hockey</a></li>
<li class="chapter" data-level="18" data-path="soccer-1.html"><a href="soccer-1.html"><i class="fa fa-check"></i><b>18</b> Soccer</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Sports Analytics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="probability" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Probability<a href="probability.html#probability" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="definitions-1" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Definitions<a href="probability.html#definitions-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="definition">
<p><span id="def:unlabeled-div-41" class="definition"><strong>Definition 2.1  </strong></span>An <strong><em>experiment</em></strong> is any activity or process whose outcome is subject to uncertainty.</p>
</div>
<div class="definition">
<p><span id="def:unlabeled-div-42" class="definition"><strong>Definition 2.2  </strong></span>The <strong><em>sample space</em></strong> of an experiment, denoted by <span class="math inline">\(\Omega\)</span> or <span class="math inline">\(\mathcal{S}\)</span>, is the set of all possible outcomes of that experiment.</p>
</div>
<div class="definition">
<p><span id="def:unlabeled-div-43" class="definition"><strong>Definition 2.3  </strong></span>An <strong><em>event</em></strong> is any collection (subset) of outcomes contained in the sample space, <span class="math inline">\(\Omega\)</span>.</p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-44" class="example"><strong>Example 2.1  </strong></span>Give some examples of discrete random variables in sports.</p>
</div>
<p><br />
<br />
<br />
<br />
<br />
</p>
<div class="example">
<p><span id="exm:unlabeled-div-45" class="example"><strong>Example 2.2  </strong></span>Give some examples of continuous random variables in sports.</p>
</div>
<p> <br />
<br />
<br />
<br />
</p>
<div style="page-break-after: always;"></div>
</div>
<div id="set-theory" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Set Theory<a href="probability.html#set-theory" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For the following examples, suppose that we are interested in the batting outcomes of a plate appearance in baseball.</p>
<p>Let <span class="math inline">\(A\)</span> be the event that the batter gets walked, let <span class="math inline">\(B\)</span> be the event that the batter gets a hit, let <span class="math inline">\(C\)</span> be the event that the batter strikes out, and let <span class="math inline">\(D\)</span> be the event that the batter makes it to first base at the end of their at bat.</p>
<p>We will define a handful of set operations to help us when we begin calculating the probability of different events occurring.</p>
<div class="definition">
<p><span id="def:unlabeled-div-46" class="definition"><strong>Definition 2.4  </strong></span>The <strong><em>compliment</em></strong> of an event <span class="math inline">\(A\)</span>, denoted by <span class="math inline">\(A^c\)</span> or <span class="math inline">\(A&#39;\)</span>, is the set of all outcomes in <span class="math inline">\(\Omega\)</span> that are not contained in <span class="math inline">\(A\)</span>.</p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-47" class="example"><strong>Example 2.3  </strong></span>Draw a Venn diagram illustrating <span class="math inline">\(A^c\)</span> and describe the event.</p>
</div>
<p><br />
<br />
<br />
<br />
<br />
</p>
<div class="definition">
<p><span id="def:unlabeled-div-48" class="definition"><strong>Definition 2.5  </strong></span>The <strong><em>union</em></strong> of two events <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>, denoted by <span class="math inline">\(A \cup B\)</span> and read “<span class="math inline">\(A\)</span> or <span class="math inline">\(B\)</span>”, is the event consisting of all outcomes that are either in <span class="math inline">\(A\)</span> or <span class="math inline">\(B\)</span> or in both.</p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-49" class="example"><strong>Example 2.4  </strong></span>Draw a Venn diagram illustrating <span class="math inline">\(A \cup D\)</span> and describe the event.</p>
</div>
<p><br />
<br />
<br />
<br />
<br />
</p>
<div style="page-break-after: always;"></div>
<div class="definition">
<p><span id="def:unlabeled-div-50" class="definition"><strong>Definition 2.6  </strong></span>The <strong><em>intersection</em></strong> of two events <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>, denoted by <span class="math inline">\(A \cap B\)</span> and read “<span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>”, is the event consisting of all outcomes that are in both <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>.</p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-51" class="example"><strong>Example 2.5  </strong></span>Draw a Venn diagram illustrating <span class="math inline">\(A \cap D\)</span> and describe the event.</p>
</div>
<p><br />
<br />
<br />
<br />
<br />
</p>
<div class="definition">
<p><span id="def:unlabeled-div-52" class="definition"><strong>Definition 2.7  </strong></span>The <strong><em>difference</em></strong> of two events <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>, denoted by <span class="math inline">\(A \mathbin{/} B\)</span> and read “difference of <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>”, is
the event consisting of all outcomes that are in <span class="math inline">\(A\)</span> but not in <span class="math inline">\(B\)</span>.</p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-53" class="example"><strong>Example 2.6  </strong></span>Draw a Venn diagram illustrating <span class="math inline">\(D \mathbin{/} A\)</span> and describe the event.</p>
</div>
<p><br />
<br />
<br />
<br />
<br />
</p>
<div class="definition">
<p><span id="def:unlabeled-div-54" class="definition"><strong>Definition 2.8  </strong></span>Two events <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are said to be <strong><em>disjoint</em></strong> (or <strong><em>mutually exclusive</em></strong>) if <span class="math inline">\(A \cap B = \emptyset\)</span></p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-55" class="example"><strong>Example 2.7  </strong></span>Are the events <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> disjoint? How about <span class="math inline">\(A\)</span> and <span class="math inline">\(D\)</span>?</p>
</div>
<p><br />
<br />
<br />
<br />
<br />
</p>
<div style="page-break-after: always;"></div>
</div>
<div id="axioms-properties-and-laws" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Axioms, Properties, and Laws<a href="probability.html#axioms-properties-and-laws" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are some basic assumptions or “axioms” which are the foundation of the theory of probability. Andrey Kolmogorov first described these axioms in 1933.</p>
<div id="axioms-of-probability" class="section level3 hasAnchor" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Axioms of Probability<a href="probability.html#axioms-of-probability" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(P(A) \geq 0\)</span>, for any event <span class="math inline">\(A\)</span><br />
</li>
<li><span class="math inline">\(P(\Omega) = 1\)</span><br />
</li>
<li>If <span class="math inline">\(A_1, A_2, A_3, \ldots\)</span> is a collection of disjoint events, then:<br />
<span class="math inline">\(P(\cup_{i=1}^{\infty} A_i) = P(A_1 \cup A_2 \cup \ldots ) = \sum_{i=1}^{\infty} P(A_i)\)</span><br />
</li>
</ol>
<p>Note that all probabilities are between 0 and 1, that is, for any event <span class="math inline">\(A\)</span>, <span class="math inline">\(0 \leq P(A) \leq 1\)</span>.</p>
<p>We can convert to percentages by multiplying probabilities by 100, however, this is a set that is only done after all calculations have been completed.</p>
</div>
<div id="properties-of-probability" class="section level3 hasAnchor" number="2.3.2">
<h3><span class="header-section-number">2.3.2</span> Properties of Probability<a href="probability.html#properties-of-probability" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p><span class="math inline">\(P(\emptyset) = 0\)</span><br />
</p></li>
<li><p><span class="math inline">\(P(A^c) = 1 - P(A)\)</span><br />
</p></li>
<li><p><span class="math inline">\(P(A \cup B) = P(A) + P(B) - P(A \cap B)\)</span><br />
</p></li>
<li><p><span class="math inline">\(P(A \cup B \cup C) = \\ P(A) + P(B) + P(C) - P(A \cap B) - P(A \cap C) - P(B \cap C) + P(A \cap B \cap C)\)</span><br />
</p></li>
<li><p><span class="math inline">\(P([A \cup B]^c) = P(A^c \cap B^c)\)</span><br />
</p></li>
<li><p><span class="math inline">\(P([A \cap B]^c) = P(A^c \cup B^c)\)</span><br />
</p></li>
</ul>
<div style="page-break-after: always;"></div>
<div class="example">
<p><span id="exm:unlabeled-div-56" class="example"><strong>Example 2.8  </strong></span>In 2001, Barry Bonds broke the single season home run record with 73 home runs. In this season, he had 664 plate appearances (476 at-bats), 156 hits, 177 walks, 9 hit by pitches, and 2 sacrifice flies. Use this information to answer the following questions.</p>
</div>
<ol style="list-style-type: lower-alpha">
<li><p>Plate appearances that result in a walk, hit by pitch, or sacrifice fly are not counted towards a player’s at-bats. Confirm that Bonds had 476 official at-bats.<br />
<br />
<br />
<br />
</p></li>
<li><p>Suppose an at-bat is chosen at random. What is the probability that Bonds got a hit? (This is his batting average.)<br />
<br />
<br />
<br />
</p></li>
</ol>
<p><em>For the following examples, assume that one of Bonds’ plate appearances is chosen at random.</em><br />
</p>
<ol start="3" style="list-style-type: lower-alpha">
<li><p>What is the probability that Bonds reached base via a hit, walk, or hit by pitch? (This is his on-base average/percentage.)<br />
<br />
<br />
<br />
</p></li>
<li><p>What is the probability that Bonds did not reach base?<br />
<br />
<br />
<br />
</p></li>
<li><p>Calculate <span class="math inline">\(P\left(HBP \cup Walk\right)\)</span><br />
<br />
<br />
<br />
</p></li>
<li><p>Calculate <span class="math inline">\(P\left(HBP^c \cap Walk^c\right)\)</span><br />
<br />
<br />
<br />
</p></li>
</ol>
<div style="page-break-after: always;"></div>
</div>
<div id="laws-of-probability" class="section level3 hasAnchor" number="2.3.3">
<h3><span class="header-section-number">2.3.3</span> Laws of Probability<a href="probability.html#laws-of-probability" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="definition">
<p><span id="def:unlabeled-div-57" class="definition"><strong>Definition 2.9  </strong></span>Let <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> be two events such that <span class="math inline">\(P(B)&gt;0\)</span>. Then the <strong><em>conditional probability</em></strong> of <span class="math inline">\(A\)</span> given <span class="math inline">\(B\)</span>, written <span class="math inline">\(P(A|B)\)</span>, is given by:
<span class="math inline">\(P(A|B) = \frac{P(A \cap B)}{P(B)}\)</span></p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-58" class="example"><strong>Example 2.9  </strong></span>In 1998, Sammy Sosa hit 66 home runs in 722 plate appearances, the third highest single season homework total ever. During June 1998, Sosa 20 home runs in 121 plate appearances. Suppose a randomly selected plate appearance is selected. Calculate the following probabilities.</p>
</div>
<ol style="list-style-type: lower-alpha">
<li><span class="math inline">\(P(HR)\)</span><br />
</li>
</ol>
<ol start="2" style="list-style-type: lower-alpha">
<li><span class="math inline">\(P(HR \cap June)\)</span><br />
</li>
</ol>
<ol start="3" style="list-style-type: lower-alpha">
<li><span class="math inline">\(P(June)\)</span><br />
</li>
</ol>
<ol start="4" style="list-style-type: lower-alpha">
<li><span class="math inline">\(P(HR|June)\)</span><br />
</li>
</ol>
<ol start="5" style="list-style-type: lower-alpha">
<li><span class="math inline">\(P(June|HR)\)</span><br />
</li>
</ol>
<ol start="6" style="list-style-type: lower-alpha">
<li><span class="math inline">\(P(HR|June^c)\)</span><br />
</li>
</ol>
<div style="page-break-after: always;"></div>
<div class="theorem">
<p><span id="thm:unlabeled-div-59" class="theorem"><strong>Theorem 2.1  (Multiplication Rule) </strong></span>For any two events <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>, <span class="math inline">\(P(A \cap B) = P(B|A) \cdot P(A)\)</span>.</p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-60" class="example"><strong>Example 2.10  </strong></span>Calculate the probability that a randomly selected plate appearance from Sosa’s 1998 season is a home run in June.</p>
</div>
<div class="definition">
<p><span id="def:unlabeled-div-61" class="definition"><strong>Definition 2.10  </strong></span>Events <span class="math inline">\(A_1, A_2, \ldots, A_n\)</span> are said to form a <strong><em>partition</em></strong> of a sample space <span class="math inline">\(\Omega\)</span> if both:<br />
(i) <span class="math inline">\(A_i \cap A_j = \emptyset\)</span> (<span class="math inline">\(i \neq j\)</span>)<br />
(ii) <span class="math inline">\(\cup_{i=1}^n A_i = \Omega\)</span><br />
</p>
</div>
<div class="theorem">
<p><span id="thm:unlabeled-div-62" class="theorem"><strong>Theorem 2.2  (Law of Total Probability) </strong></span>Suppose events <span class="math inline">\(A_1, A_2, \ldots, A_n\)</span> form a partition of <span class="math inline">\(\Omega\)</span>, then:
<span class="math inline">\(P(B) = P(B|A_1)P(A_1) + P(B|A_2)P(A_2) + \ldots P(B|A_n)P(A_n)\)</span></p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-63" class="example"><strong>Example 2.11  </strong></span>What is one possible way to partition Sosa’s plate appearances in 1998?</p>
</div>
<div class="theorem">
<p><span id="thm:unlabeled-div-64" class="theorem"><strong>Theorem 2.3  (Bayes Theorem: simple version) </strong></span>Suppose events <span class="math inline">\(B\)</span> and <span class="math inline">\(C\)</span> form a partition of <span class="math inline">\(\Omega\)</span>, then:
<span class="math inline">\(P(B|A) = \frac{P(B \cap A)}{P(A)} = \frac{P(A|B)P(B)}{P(A|B)P(B)+P(A|C)P(C)}\)</span></p>
</div>
<div class="theorem">
<p><span id="thm:unlabeled-div-65" class="theorem"><strong>Theorem 2.4  (Bayes Theorem) </strong></span>Suppose events <span class="math inline">\(B_1, B_2, \ldots, B_n\)</span> form a partition of <span class="math inline">\(\Omega\)</span>, then:
<span class="math inline">\(P(B_k|A) = \frac{P(B_k \cap A)}{P(A)} = \frac{P(A|B_k)P(B_k)}{P(A|B_1)P(B_1)+P(A|B_2)P(B_2) + \ldots + P(A|B_n)P(B_n)}\)</span></p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-66" class="example"><strong>Example 2.12  </strong></span>Given that Sosa hit a home run in 1998, what is the probability that he hit it in June?</p>
</div>
<div style="page-break-after: always;"></div>
<div class="example">
<p><span id="exm:unlabeled-div-67" class="example"><strong>Example 2.13  </strong></span>Over the course of a season, a hockey player scored a goal 30% of the time during a home game, and 18%. Assume all games are either home or away. Use this information to answer the following questions.</p>
</div>
<ol style="list-style-type: lower-alpha">
<li>What is the probability the player scored a goal in any game if there were an equal number of home and away games?<br />
</li>
</ol>
<ol start="2" style="list-style-type: lower-alpha">
<li>What is the probability the player scored a goal in any game if there were twice as many home games as away games?<br />
</li>
</ol>
<ol start="3" style="list-style-type: lower-alpha">
<li>What is the probability the player scored a goal in any game if the ratio of home games to away games is 2:3?<br />
</li>
</ol>
<div style="page-break-after: always;"></div>
</div>
</div>
<div id="combinatorics" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Combinatorics<a href="probability.html#combinatorics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Combinatorics is the mathematical study of counting, particularly with respect to permutations and combinations.</p>
<div class="definition">
<p><span id="def:unlabeled-div-68" class="definition"><strong>Definition 2.11  </strong></span>The <strong><em>factorial function (<span class="math inline">\(n!\)</span>)</em></strong> is defined for all positive integers by: <span class="math inline">\(n! = n \cdot (n-1) \cdot \ldots 2 \cdot 1\)</span></p>
</div>
<p>Note that <span class="math inline">\(0! \equiv 1\)</span> and <span class="math inline">\(1! \equiv 1\)</span>.</p>
<div class="example">
<p><span id="exm:unlabeled-div-69" class="example"><strong>Example 2.14  </strong></span>A baseball/softball batting lineup has nine ordered players. Suppose the manager has selected the nine players to bat. How many different batting orders are there possible?</p>
</div>
<div class="definition">
<p><span id="def:unlabeled-div-70" class="definition"><strong>Definition 2.12  </strong></span>An ordered subset is called a <strong><em>permutation</em></strong>. The number of permutations of size <span class="math inline">\(k\)</span> that can be formed from the <span class="math inline">\(n\)</span> elements in a set is given by: <span class="math inline">\(P_{n,k} = \frac{n!}{(n-k)!}\)</span></p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-71" class="example"><strong>Example 2.15  </strong></span>In MLB, each team has a 26-person roster, of which about 13 are hitters. Assuming one of the batters is the designated hitter, how many different batting lineups of 9 players can a manager create?</p>
</div>
<div class="definition">
<p><span id="def:unlabeled-div-72" class="definition"><strong>Definition 2.13  </strong></span>An unordered subset is called a <strong><em>combination</em></strong>. The number of combinations of size <span class="math inline">\(k\)</span> that can be formed from the <span class="math inline">\(n\)</span> elements in a set is given by: <span class="math inline">\(C_{n,k} = {n \choose k} = \frac{n!}{k! \cdot (n-k)!}\)</span></p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-73" class="example"><strong>Example 2.16  </strong></span>Suppose a manager has 13 hitters to choose from to fill out a starting lineup of 9 players. Ignoring positions, how many different ways can the manager pick a 9-person lineup from 13 possible hitters?</p>
</div>
<div style="page-break-after: always;"></div>
<div class="theorem">
<p><span id="thm:unlabeled-div-74" class="theorem"><strong>Theorem 2.5  (Product Rule for Ordered Pairs) </strong></span>If the first element of an ordered pair can be selected in <span class="math inline">\(n_1\)</span> ways and for each of the these <span class="math inline">\(n_1\)</span> ways the second element of the pair can be selected in <span class="math inline">\(n_2\)</span> ways, then the number of pairs is <span class="math inline">\(n_1 \cdot n_2\)</span>.</p>
</div>
<div class="theorem">
<p><span id="thm:unlabeled-div-75" class="theorem"><strong>Theorem 2.6  (Generalized Product Rule) </strong></span>Suppose a set consists of <span class="math inline">\(k\)</span> elements (k-tuples) and that there are <span class="math inline">\(n_1\)</span> possible choices for the first element, <span class="math inline">\(n_2\)</span> possible choices for the second element, … , and <span class="math inline">\(n_k\)</span> possible choices for the <span class="math inline">\(k^\text{th}\)</span> element, then there are <span class="math inline">\(n_1 \cdot n_2 \cdot \ldots \cdot n_k\)</span> possible k-tuples.</p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-76" class="example"><strong>Example 2.17  </strong></span>A baseball manager selects nine hitters and one pitcher for a starting lineup. Suppose they can choose from 13 hitters and 13 hitters. How many different possible lineups can the manager choose from?</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div id="random-variables" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Random Variables<a href="probability.html#random-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="definition">
<p><span id="def:unlabeled-div-77" class="definition"><strong>Definition 2.14  </strong></span>Let <span class="math inline">\(\Omega\)</span> be the sample space of an experiment. A <strong><em>random variable</em></strong> is a rule that associates a number with each outcome in <span class="math inline">\(\Omega\)</span>. In other words, a random variable is a function whose domain is <span class="math inline">\(\Omega\)</span> and whose range is the set of real numbers.</p>
</div>
<p>Random variables are be broken down into subcategories:<br />
1. <strong><em>Discrete random variables</em></strong> - random variables which have a sample space that is finite or countably infinite.<br />
2. <strong><em>Continuous random variables</em></strong> - random variables which have a sample space that is uncountably infinite (such as an interval of real numbers)<br />
</p>
<p><strong><em>Discrete</em></strong> and <strong><em>Continuous</em></strong> random variables use similar yet slightly different mathematical tools. Discrete random variables involve working with “sums” and continuous random variables involve working with “integrals”.<br />
</p>
<div class="example">
<p><span id="exm:unlabeled-div-78" class="example"><strong>Example 2.18  </strong></span>Give an example of a discrete random variable in hockey.</p>
</div>
<p><br />
<br />
<br />
</p>
<div class="example">
<p><span id="exm:unlabeled-div-79" class="example"><strong>Example 2.19  </strong></span>Give an example of a continuous random variable in hockey.</p>
</div>
<p><br />
<br />
<br />
</p>
<div class="definition">
<p><span id="def:unlabeled-div-80" class="definition"><strong>Definition 2.15  </strong></span>A <strong><em>probability distribution</em></strong> is a function that gives probabilities of different possible outcomes for a given experiment.</p>
</div>
<p>The probability distribution for a discrete random variable, <span class="math inline">\(p(x)\)</span>, is called a <strong><em>probability mass function (pmf)</em></strong>.</p>
<p>The probability distribution for a continuous random variable, <span class="math inline">\(f(x)\)</span>, is called a <strong><em>probability density function (pdf)</em></strong>.</p>
<div style="page-break-after: always;"></div>
<div class="example">
<p><span id="exm:unlabeled-div-81" class="example"><strong>Example 2.20  </strong></span>Suppose the Colorado Rockies are playing a four game series against the Chicago Cubs and that the Rockies have a 65% chance of winning an individual game. Further, assume that the games are independent. The following PMF describes the outcomes (number of Rockies wins) and their probabilities.</p>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<tbody>
<tr>
<td style="text-align:left;">
Rockies wins, X
</td>
<td style="text-align:right;">
0.000
</td>
<td style="text-align:right;">
1.000
</td>
<td style="text-align:right;">
2.000
</td>
<td style="text-align:right;">
3.000
</td>
<td style="text-align:right;">
4.000
</td>
</tr>
<tr>
<td style="text-align:left;">
Probability, p(X)
</td>
<td style="text-align:right;">
0.015
</td>
<td style="text-align:right;">
0.111
</td>
<td style="text-align:right;">
0.311
</td>
<td style="text-align:right;">
0.384
</td>
<td style="text-align:right;">
0.179
</td>
</tr>
</tbody>
</table>
<p>What is the probability that the Rockies win zero games? What is the probability that the Rockies win at least two games? Why might the independence assumption be false?</p>
</div>
<p>We may be interested in describing the center or average value of our random variable. We can do this with the following definitions.</p>
<div class="definition">
<p><span id="def:unlabeled-div-82" class="definition"><strong>Definition 2.16  </strong></span>The <strong><em>expected value</em></strong> (or <strong><em>population mean</em></strong> or <strong><em>average</em></strong>) of a random variable <span class="math inline">\(X\)</span> is given by:</p>
<ol style="list-style-type: lower-roman">
<li><p><span class="math inline">\(E[X] = \mu = \sum_{x \in \Omega} x \cdot p(x)\)</span> (for discrete random variables)</p></li>
<li><p><span class="math inline">\(E[X] = \mu = \int_{x \in \Omega} x \cdot f(x) dx\)</span> (for continuous random variables)</p></li>
</ol>
</div>
<p>For this class, evaluating integrals is not essential, so we will avoid using Calculus (integrals and derivatives) when possible.</p>
<p>Sometimes, it makes sense to calculate the expected value of a function of a random variable. This can be easily done with a slight modification to the previous definition. Let <span class="math inline">\(h(X)\)</span> be some function of a random variable <span class="math inline">\(X\)</span>. The expected value of <span class="math inline">\(h(X)\)</span>, <span class="math inline">\(E[h(X)]\)</span>, is given by:</p>
<ol style="list-style-type: lower-roman">
<li><p><span class="math inline">\(E[h(X)] = \sum_{x \in \Omega} h(x) \cdot p(x)\)</span> (for discrete random variables)</p></li>
<li><p><span class="math inline">\(E[h(X)] = \int_{x \in \Omega} h(x) \cdot f(x) dx\)</span> (for continuous random variables)</p></li>
</ol>
<div class="example">
<p><span id="exm:unlabeled-div-83" class="example"><strong>Example 2.21  </strong></span>For the Rockies/Cubs four game series example, calculate <span class="math inline">\(E[X]\)</span> and <span class="math inline">\(E[X^2]\)</span>.</p>
</div>
<div style="page-break-after: always;"></div>
<p>The spread or variability associated with a random variable can be calculated using expected values as well.</p>
<div class="definition">
<p><span id="def:unlabeled-div-84" class="definition"><strong>Definition 2.17  </strong></span>The <strong><em>population variance</em></strong> of a random variable <span class="math inline">\(X\)</span> is given by:<br />
</p>
<ol style="list-style-type: lower-roman">
<li><p><span class="math inline">\(Var(X) = \sum_{x \in \Omega} (x-\mu)^2 \cdot p(x)\)</span> (for discrete random variables)</p></li>
<li><p><span class="math inline">\(Var(X) = \int_{x \in \Omega} (x-\mu)^2 \cdot f(x) dx\)</span> (for continuous random variables)</p></li>
</ol>
</div>
<p>There is also a shortcut formula for calculating variance:</p>
<div class="theorem">
<p><span id="thm:unlabeled-div-85" class="theorem"><strong>Theorem 2.7  </strong></span><span class="math inline">\(Var(X) = E[X^2] - (E[X])^2\)</span></p>
</div>
<div class="definition">
<p><span id="def:unlabeled-div-86" class="definition"><strong>Definition 2.18  </strong></span>The <strong><em>population standard deviation</em></strong> of a random variable <span class="math inline">\(X\)</span> is given by:<br />
</p>
<p><span class="math inline">\(SD(X) = \sigma = \sqrt{Var(X)} = \sqrt{E[X^2]-(E[X])^2}\)</span></p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-87" class="example"><strong>Example 2.22  </strong></span>For the Rockies/Cubs four game series example, calculate <span class="math inline">\(Var(X)\)</span>.</p>
</div>
<div style="page-break-after: always;"></div>
<div class="definition">
<p><span id="def:unlabeled-div-88" class="definition"><strong>Definition 2.19  </strong></span>A <strong><em>quantile-quantile plot</em></strong> (QQ plot) can be used to compare an empirical probability distribution against a theoretical distribution.</p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-89" class="example"><strong>Example 2.23  </strong></span>Let’s generate two simulated datasets. The first dataset will follow a normal distribution with mean 10 and variance 4 and the second dataset will follow a Poisson distribution with rate 5. We’ll use QQ-plots to match each simulation with the correct distribution.</p>
</div>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="probability.html#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2022</span>)</span>
<span id="cb119-2"><a href="probability.html#cb119-2" aria-hidden="true" tabindex="-1"></a>sim1.df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x=</span><span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">1000</span>,<span class="at">mean =</span> <span class="dv">10</span>,<span class="at">sd =</span> <span class="dv">2</span>))</span>
<span id="cb119-3"><a href="probability.html#cb119-3" aria-hidden="true" tabindex="-1"></a>sim2.df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x=</span><span class="fu">rpois</span>(<span class="at">n =</span> <span class="dv">1000</span>,<span class="at">lambda =</span> <span class="dv">5</span>))</span>
<span id="cb119-4"><a href="probability.html#cb119-4" aria-hidden="true" tabindex="-1"></a>jitter_width <span class="ot">&lt;-</span> <span class="fl">0.2</span></span>
<span id="cb119-5"><a href="probability.html#cb119-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-6"><a href="probability.html#cb119-6" aria-hidden="true" tabindex="-1"></a>fig1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(sim1.df, <span class="fu">aes</span>(<span class="at">sample =</span> x)) <span class="sc">+</span></span>
<span id="cb119-7"><a href="probability.html#cb119-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq</span>(<span class="at">position=</span><span class="fu">position_jitter</span>(<span class="at">width =</span> jitter_width,<span class="at">height =</span> jitter_width)) <span class="sc">+</span></span>
<span id="cb119-8"><a href="probability.html#cb119-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq_line</span>() <span class="sc">+</span></span>
<span id="cb119-9"><a href="probability.html#cb119-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Sim 1 vs. Normal&quot;</span>) <span class="sc">+</span></span>
<span id="cb119-10"><a href="probability.html#cb119-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Theoretical Quantiles&quot;</span>) <span class="sc">+</span></span>
<span id="cb119-11"><a href="probability.html#cb119-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Empirical Quantiles&quot;</span>)</span>
<span id="cb119-12"><a href="probability.html#cb119-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-13"><a href="probability.html#cb119-13" aria-hidden="true" tabindex="-1"></a>fig2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(sim2.df, <span class="fu">aes</span>(<span class="at">sample =</span> x)) <span class="sc">+</span></span>
<span id="cb119-14"><a href="probability.html#cb119-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq</span>(<span class="at">position=</span><span class="fu">position_jitter</span>(<span class="at">width =</span> jitter_width,<span class="at">height =</span> jitter_width)) <span class="sc">+</span></span>
<span id="cb119-15"><a href="probability.html#cb119-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq_line</span>() <span class="sc">+</span></span>
<span id="cb119-16"><a href="probability.html#cb119-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Sim 2 vs. Normal&quot;</span>) <span class="sc">+</span></span>
<span id="cb119-17"><a href="probability.html#cb119-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Theoretical Quantiles&quot;</span>) <span class="sc">+</span></span>
<span id="cb119-18"><a href="probability.html#cb119-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Empirical Quantiles&quot;</span>)</span>
<span id="cb119-19"><a href="probability.html#cb119-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-20"><a href="probability.html#cb119-20" aria-hidden="true" tabindex="-1"></a>fig3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(sim1.df, <span class="fu">aes</span>(<span class="at">sample =</span> x)) <span class="sc">+</span></span>
<span id="cb119-21"><a href="probability.html#cb119-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq</span>(<span class="at">distribution =</span> qpois, <span class="at">dparams =</span> <span class="dv">5</span>,<span class="at">position=</span><span class="fu">position_jitter</span>(<span class="at">width =</span> jitter_width,<span class="at">height =</span> jitter_width)) <span class="sc">+</span></span>
<span id="cb119-22"><a href="probability.html#cb119-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq_line</span>(<span class="at">distribution =</span> qpois, <span class="at">dparams =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb119-23"><a href="probability.html#cb119-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Sim 1 vs. Poisson&quot;</span>) <span class="sc">+</span></span>
<span id="cb119-24"><a href="probability.html#cb119-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Theoretical Quantiles&quot;</span>) <span class="sc">+</span></span>
<span id="cb119-25"><a href="probability.html#cb119-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Empirical Quantiles&quot;</span>)</span>
<span id="cb119-26"><a href="probability.html#cb119-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-27"><a href="probability.html#cb119-27" aria-hidden="true" tabindex="-1"></a>fig4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(sim2.df, <span class="fu">aes</span>(<span class="at">sample =</span> x)) <span class="sc">+</span></span>
<span id="cb119-28"><a href="probability.html#cb119-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq</span>(<span class="at">distribution =</span> qpois, <span class="at">dparams =</span> <span class="dv">5</span>,<span class="at">position=</span><span class="fu">position_jitter</span>(<span class="at">width =</span> jitter_width,<span class="at">height =</span> jitter_width)) <span class="sc">+</span></span>
<span id="cb119-29"><a href="probability.html#cb119-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq_line</span>(<span class="at">distribution =</span> qpois, <span class="at">dparams =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb119-30"><a href="probability.html#cb119-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Sim 2 vs. Poisson&quot;</span>) <span class="sc">+</span></span>
<span id="cb119-31"><a href="probability.html#cb119-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Theoretical Quantiles&quot;</span>) <span class="sc">+</span></span>
<span id="cb119-32"><a href="probability.html#cb119-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Empirical Quantiles&quot;</span>)</span></code></pre></div>
<div style="page-break-after: always;"></div>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="probability.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;gridExtra&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     combine</code></pre>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="probability.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(fig1,fig2,fig3,fig4,<span class="at">ncol=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-50-1.png" width="672" /></p>
<p>What do you conclude from the four QQ plots?</p>
<div style="page-break-after: always;"></div>
</div>
<div id="common-random-variables" class="section level2 hasAnchor" number="2.6">
<h2><span class="header-section-number">2.6</span> Common Random Variables<a href="probability.html#common-random-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are several families of random variables that show up frequently in applications. Some of these random variables include:
- Binomial
- Geometric
- Poisson
- Normal</p>
<div id="binomial-rvs" class="section level3 hasAnchor" number="2.6.1">
<h3><span class="header-section-number">2.6.1</span> Binomial RVs<a href="probability.html#binomial-rvs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="definition">
<p><span id="def:unlabeled-div-90" class="definition"><strong>Definition 2.20  </strong></span>A <strong><em>binomial(n,p) random variable</em></strong> is a discrete random variable that counts the numbers of “successes” over a fixed number of trials, <span class="math inline">\(n\)</span>, with each trial having an equal probability of success, <span class="math inline">\(p\)</span>.</p>
<p><span class="math inline">\(P(X=k) = \binom{n}{k} p^k(1-p)^{n-k} = \frac{n!}{k!\ \cdot\ (n-k)!} p^k(1-p)^{n-k}\)</span>, where <span class="math inline">\(0 \leq k \leq n, 0 \leq p \leq 1\)</span></p>
<p>If <span class="math inline">\(X \sim Binomial(n,p)\)</span>, then <span class="math inline">\(E[X]=np\)</span> and <span class="math inline">\(Var(X)=np(1-p)\)</span></p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-91" class="example"><strong>Example 2.24  </strong></span>The Cubs and Rockies are playing a 4-game series. The Rockies have a 0.65 probability of winning each game, and the Cubs have a 0.35 probability. Assume each game is independent. Solve for the following quantities.</p>
</div>
<ol style="list-style-type: lower-alpha">
<li><p>The Cubs win exactly 1 game.<br />
<br />
<br />
<br />
</p></li>
<li><p>The Rockies win exactly 2 games.<br />
<br />
<br />
<br />
</p></li>
<li><p>The Cubs win at least 2 games.<br />
<br />
<br />
<br />
</p></li>
<li><p>The series ends in a sweep.<br />
<br />
<br />
<br />
</p></li>
<li><p>The expected number of wins for the Rockies.<br />
<br />
<br />
<br />
</p></li>
<li><p>The variance and standard deviations of wins for the Rockies.<br />
<br />
<br />
<br />
</p></li>
</ol>
<div class="example">
<p><span id="exm:unlabeled-div-92" class="example"><strong>Example 2.25  </strong></span>Complete 10,000 simulations of the four game series between the Rockies and Cubs. For the number of Rockies wins, calculate the sample mean and sample variance and compare these to the population values. Also, plot a histogram of the sample data.</p>
</div>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="probability.html#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2022</span>)</span>
<span id="cb124-2"><a href="probability.html#cb124-2" aria-hidden="true" tabindex="-1"></a>rockies_wins <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(<span class="at">n=</span><span class="dv">10000</span>,<span class="at">size=</span><span class="dv">4</span>,<span class="at">prob=</span><span class="fl">0.65</span>)</span>
<span id="cb124-3"><a href="probability.html#cb124-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(rockies_wins)</span></code></pre></div>
<pre><code>## [1] 2.6036</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="probability.html#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(rockies_wins)</span></code></pre></div>
<pre><code>## [1] 0.9121583</code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="probability.html#cb128-1" aria-hidden="true" tabindex="-1"></a>rockies_wins_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Wins=</span>rockies_wins)</span>
<span id="cb128-2"><a href="probability.html#cb128-2" aria-hidden="true" tabindex="-1"></a>rockies_wins_df <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(Wins)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>,<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;purple&quot;</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-51-1.png" width="672" /></p>
<div style="page-break-after: always;"></div>
<div id="binomial-coefficient-symmetry" class="section level4 hasAnchor" number="2.6.1.1">
<h4><span class="header-section-number">2.6.1.1</span> Binomial Coefficient Symmetry<a href="probability.html#binomial-coefficient-symmetry" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Playoff series for a certain sports league are played as a best-of-seven series, with one team hosting four games and the opposing team hosing three. An executive for the league wishes to know the number of ways the home and away games can be assigned. (One such combination is A-A-B-B-A-B-A, the format used by the NBA and NHL for their best-of-seven series.) What is the total number of combinations?<br />
<br />
<br />
<br />
</p>
<p>However, instead of thinking about the number of ways to assign the games to the team that gets four home games, what if we thought about the number of ways to assign games to the team that gets three home games?</p>
<p>That would be <span class="math inline">\(\binom{7}{3}\)</span>. We can use the <code>choose</code> command in R to find this quantity.</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="probability.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">choose</span>(<span class="dv">7</span>,<span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 35</code></pre>
<p>It turns out that this binomial coefficient is also equal to 35.</p>
<p>Theorem: <span class="math inline">\(\binom{n}{k} = \binom{n}{n-k}\)</span></p>
<p><span class="math inline">\(\binom{n}{k} = \frac{n!}{k!\ \cdot\ (n-k)!}\)</span></p>
<p><span class="math inline">\(\binom{n}{n-k} = \frac{n!}{(n-k)!\ \cdot\ (n-(n-k))!} = \frac{n!}{(n-k)!\ \cdot\ k!} = \binom{n}{k}\)</span></p>
<div style="page-break-after: always;"></div>
</div>
</div>
<div id="geometric-rvs" class="section level3 hasAnchor" number="2.6.2">
<h3><span class="header-section-number">2.6.2</span> Geometric RVs<a href="probability.html#geometric-rvs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="definition">
<p><span id="def:unlabeled-div-93" class="definition"><strong>Definition 2.21  </strong></span>A <strong><em>Geometric(p) random variable</em></strong> is a discrete random variable that counts the numbers of trials until a “success” occurs, where the probability of success, <span class="math inline">\(p\)</span>, is constant across all trials.</p>
<p><span class="math inline">\(P(X=k) = p(1-p)^{k-1}\)</span>, where <span class="math inline">\(k \geq 1, 0 \leq p \leq 1\)</span></p>
<p>If <span class="math inline">\(X \sim Geometric(p)\)</span>, then <span class="math inline">\(E[X]=\frac{1}{p}\)</span> and <span class="math inline">\(Var(X)=\frac{p}{1-p}\)</span></p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-94" class="example"><strong>Example 2.26  </strong></span>Suppose the number of shots needed by a hockey team in order to score their first goal, X, is modeled by a Geometric(<span class="math inline">\(\frac{1}{10}\)</span>) random variable. Use this information to answer the following questions.</p>
</div>
<ol style="list-style-type: lower-alpha">
<li><p>What is the probability that it takes exactly 3 shots to score the first goal?<br />
<br />
<br />
<br />
</p></li>
<li><p>What is the probability that it takes less than 3 shots to score the first goal?<br />
<br />
<br />
<br />
</p></li>
<li><p>What is the probability that it takes more than 3 shots to score the first goal?<br />
<br />
<br />
<br />
</p></li>
</ol>
<p><strong>Caution:</strong> Some references parameterize the Geometric distribution based on the number of failures before the first success, rather than the trial on which the first success occurs. This changes the PMF, mean, and variance, so be careful.</p>
<p>Let’s simulate the number of shot attempts required to score the first goal (Geometric(<span class="math inline">\(p=1/10\)</span>)) from the previous example.</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="probability.html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2020</span>)</span>
<span id="cb131-2"><a href="probability.html#cb131-2" aria-hidden="true" tabindex="-1"></a>geometric <span class="ot">&lt;-</span> <span class="fu">rgeom</span>(<span class="dv">10000</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)</span>
<span id="cb131-3"><a href="probability.html#cb131-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(geometric, <span class="dv">20</span>)</span></code></pre></div>
<pre><code>##  [1]  2  2  7 55  6 11  2 11  2  5  0 50 17  2  7  0  7 19 17  1</code></pre>
<p>Some of the values were 0, which could not happen if R was considering the number of the trial on which the first success occurred. You can add 1 to the values given by <code>R</code> to arrive at the first success distribution.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="probability.html#cb133-1" aria-hidden="true" tabindex="-1"></a>first_success <span class="ot">&lt;-</span> geometric <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb133-2"><a href="probability.html#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(first_success, <span class="dv">20</span>)</span></code></pre></div>
<pre><code>##  [1]  3  3  8 56  7 12  3 12  3  6  1 51 18  3  8  1  8 20 18  2</code></pre>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="probability.html#cb135-1" aria-hidden="true" tabindex="-1"></a>(mean_success <span class="ot">&lt;-</span> <span class="fu">mean</span>(first_success))</span></code></pre></div>
<pre><code>## [1] 10.0669</code></pre>
<p>The mean of this sample of variables is 10.0669, which is close to the expected mean of <span class="math inline">\(\frac{1}{p} = 10\)</span>.</p>
<p>Let’s plot the sample distribution of shots required to score a goal from the simulation as well.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="probability.html#cb137-1" aria-hidden="true" tabindex="-1"></a>first_success_df <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">Shots =</span> first_success)</span>
<span id="cb137-2"><a href="probability.html#cb137-2" aria-hidden="true" tabindex="-1"></a>first_success_df <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Shots)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-55-1.png" width="672" /></p>
<div style="page-break-after: always;"></div>
</div>
<div id="poisson-rvs" class="section level3 hasAnchor" number="2.6.3">
<h3><span class="header-section-number">2.6.3</span> Poisson RVs<a href="probability.html#poisson-rvs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="definition">
<p><span id="def:unlabeled-div-95" class="definition"><strong>Definition 2.22  </strong></span>A <strong><em>Poisson(<span class="math inline">\(\lambda\)</span>) random variable</em></strong> is a discrete random variable that counts the numbers of “successes” for a given rate parameter, <span class="math inline">\(\lambda\)</span>, for a given interval.</p>
<p><span class="math inline">\(P(X=k) = \frac{e^{-\lambda}\lambda^k}{k!}\)</span>, where <span class="math inline">\(k \geq 0,\)</span></p>
<p>If <span class="math inline">\(X \sim Poisson(\lambda)\)</span>, then <span class="math inline">\(E[X]=\lambda\)</span> and <span class="math inline">\(Var(X)=\lambda\)</span></p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-96" class="example"><strong>Example 2.27  </strong></span>During the 2021 Major League Soccer season, the Colorado Rapids scored 51 goals in 34 games on their way to a first-place finish in the Western Conference regular season standings.</p>
<p>The team scored <span class="math inline">\(\frac{51}{34} = 1.5\)</span> goals per game. Let’s model the distribution of Rapids goals using a Poisson(1.5) random variable that we’ll call Y.</p>
</div>
<ol style="list-style-type: lower-alpha">
<li>Which is more likely: Y taking on the value 0 or Y taking on the value 2?<br />
<br />
<br />
<br />
</li>
</ol>
<p>We can calculate these probabilities in R using the <code>dpois</code> command.</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="probability.html#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dpois</span>(<span class="at">x=</span><span class="dv">0</span>, <span class="at">lambda=</span><span class="fl">1.5</span>)</span></code></pre></div>
<pre><code>## [1] 0.2231302</code></pre>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="probability.html#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dpois</span>(<span class="at">x=</span><span class="dv">2</span>, <span class="at">lambda=</span><span class="fl">1.5</span>)</span></code></pre></div>
<pre><code>## [1] 0.2510214</code></pre>
<div style="page-break-after: always;"></div>
<p>We can also plot the PMF of Y to check visually.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="probability.html#cb142-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">8</span></span>
<span id="cb142-2"><a href="probability.html#cb142-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">dpois</span>(x, <span class="at">lambda =</span> <span class="fl">1.5</span>)</span>
<span id="cb142-3"><a href="probability.html#cb142-3" aria-hidden="true" tabindex="-1"></a>poisson.pmf <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(x,y)</span>
<span id="cb142-4"><a href="probability.html#cb142-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">transform</span>(poisson.pmf), <span class="fu">aes</span>(x, y)) <span class="sc">+</span> </span>
<span id="cb142-5"><a href="probability.html#cb142-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>) <span class="sc">+</span> </span>
<span id="cb142-6"><a href="probability.html#cb142-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Probability mass function of Poisson(1.5) random variable&quot;</span>) <span class="sc">+</span></span>
<span id="cb142-7"><a href="probability.html#cb142-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Value&quot;</span>) <span class="sc">+</span></span>
<span id="cb142-8"><a href="probability.html#cb142-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Probability&quot;</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-57-1.png" width="672" /></p>
<div style="page-break-after: always;"></div>
<p>Let’s check whether using a Poisson distribution was appropriate by comparing it to the actual 2021 Colorado Rapids match results.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="probability.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data: https://www.espn.com/soccer/team/results/_/id/184/season/2021</span></span>
<span id="cb143-2"><a href="probability.html#cb143-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-3"><a href="probability.html#cb143-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;kableExtra&quot;</span>)</span>
<span id="cb143-4"><a href="probability.html#cb143-4" aria-hidden="true" tabindex="-1"></a>rapids21 <span class="ot">&lt;-</span> </span>
<span id="cb143-5"><a href="probability.html#cb143-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">3</span>,<span class="dv">0</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">5</span>)</span>
<span id="cb143-6"><a href="probability.html#cb143-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-7"><a href="probability.html#cb143-7" aria-hidden="true" tabindex="-1"></a>goals <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">4</span>, <span class="st">&quot;5+&quot;</span>)</span>
<span id="cb143-8"><a href="probability.html#cb143-8" aria-hidden="true" tabindex="-1"></a>actual_frequency <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">14</span>, <span class="dv">7</span>, <span class="dv">6</span>, <span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb143-9"><a href="probability.html#cb143-9" aria-hidden="true" tabindex="-1"></a>actual_proportion <span class="ot">&lt;-</span> actual_frequency <span class="sc">/</span> <span class="fu">sum</span>(actual_frequency)</span>
<span id="cb143-10"><a href="probability.html#cb143-10" aria-hidden="true" tabindex="-1"></a>expected_proportion <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">dpois</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">lambda=</span><span class="fl">1.5</span>), </span>
<span id="cb143-11"><a href="probability.html#cb143-11" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">ppois</span>(<span class="dv">4</span>, <span class="at">lambda=</span><span class="fl">1.5</span>, <span class="at">lower.tail=</span><span class="cn">FALSE</span>))</span>
<span id="cb143-12"><a href="probability.html#cb143-12" aria-hidden="true" tabindex="-1"></a>expected_frequency <span class="ot">&lt;-</span> <span class="fu">round</span>(expected_proportion <span class="sc">*</span> <span class="dv">34</span>, <span class="dv">1</span>)</span>
<span id="cb143-13"><a href="probability.html#cb143-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-14"><a href="probability.html#cb143-14" aria-hidden="true" tabindex="-1"></a>rapids.data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(goals, actual_frequency, actual_proportion, </span>
<span id="cb143-15"><a href="probability.html#cb143-15" aria-hidden="true" tabindex="-1"></a>                          expected_frequency, expected_proportion)</span>
<span id="cb143-16"><a href="probability.html#cb143-16" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(rapids.data) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;Goals&quot;</span>,<span class="st">&quot;Actual Frequency&quot;</span>,<span class="st">&quot;Actual Proportion&quot;</span>,<span class="st">&quot;Expected Frequency&quot;</span>,<span class="st">&quot;Expected Proportion&quot;</span>)</span>
<span id="cb143-17"><a href="probability.html#cb143-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-18"><a href="probability.html#cb143-18" aria-hidden="true" tabindex="-1"></a>rapids.data <span class="sc">%&gt;%</span> <span class="fu">kt</span>()</span></code></pre></div>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Goals
</th>
<th style="text-align:right;">
Actual Frequency
</th>
<th style="text-align:right;">
Actual Proportion
</th>
<th style="text-align:right;">
Expected Frequency
</th>
<th style="text-align:right;">
Expected Proportion
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
0
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0.176
</td>
<td style="text-align:right;">
7.6
</td>
<td style="text-align:right;">
0.223
</td>
</tr>
<tr>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
0.412
</td>
<td style="text-align:right;">
11.4
</td>
<td style="text-align:right;">
0.335
</td>
</tr>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0.206
</td>
<td style="text-align:right;">
8.5
</td>
<td style="text-align:right;">
0.251
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0.176
</td>
<td style="text-align:right;">
4.3
</td>
<td style="text-align:right;">
0.126
</td>
</tr>
<tr>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.000
</td>
<td style="text-align:right;">
1.6
</td>
<td style="text-align:right;">
0.047
</td>
</tr>
<tr>
<td style="text-align:left;">
5+
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.029
</td>
<td style="text-align:right;">
0.6
</td>
<td style="text-align:right;">
0.019
</td>
</tr>
</tbody>
</table>
<ol start="2" style="list-style-type: lower-alpha">
<li>What differences do you notice between the actual results and the expected values based on the Poisson random variable?<br />
<br />
<br />
<br />
</li>
</ol>
<!-- There were fewer games in which the Rapids scored 4 or more goals than the model would indicate, yet the Rapids were shut out less often than the model would indicate. -->
<ol start="3" style="list-style-type: lower-alpha">
<li>Even if the true population distribution of 2021 Rapids goals was truly a Poisson(1.5) random variable, why might the actual distribution of their goals differ from the probability mass function?<br />
<br />
<br />
<br />
</li>
</ol>
<!-- 34 is a relatively small sample size; random variables may not coincide with their expected values for finite sample sizes. -->
<div style="page-break-after: always;"></div>
<ol start="4" style="list-style-type: lower-alpha">
<li>Use a QQ plot to compare the probability distribution of the 2021 Rapids goals to a Poisson distribution.<br />
</li>
</ol>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="probability.html#cb144-1" aria-hidden="true" tabindex="-1"></a>rapids21 <span class="sc">%&gt;%</span> </span>
<span id="cb144-2"><a href="probability.html#cb144-2" aria-hidden="true" tabindex="-1"></a>  as.data.frame <span class="sc">%&gt;%</span> </span>
<span id="cb144-3"><a href="probability.html#cb144-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">sample =</span> rapids21)) <span class="sc">+</span></span>
<span id="cb144-4"><a href="probability.html#cb144-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq</span>(<span class="at">distribution =</span> qpois,</span>
<span id="cb144-5"><a href="probability.html#cb144-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">dparams =</span> <span class="fl">1.5</span>,<span class="at">position=</span><span class="fu">position_jitter</span>(<span class="at">width =</span> <span class="fl">0.1</span>,<span class="at">height =</span> <span class="fl">0.1</span>)) <span class="sc">+</span></span>
<span id="cb144-6"><a href="probability.html#cb144-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq_line</span>(<span class="at">distribution =</span> qpois, <span class="at">dparams =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb144-7"><a href="probability.html#cb144-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;QQ-plot for Rapids 2021 Goals vs. Poisson Distribution&quot;</span>) <span class="sc">+</span></span>
<span id="cb144-8"><a href="probability.html#cb144-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Theoretical Quantiles&quot;</span>) <span class="sc">+</span></span>
<span id="cb144-9"><a href="probability.html#cb144-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Empirical Quantiles&quot;</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-59-1.png" width="672" /></p>
<ol start="5" style="list-style-type: lower-alpha">
<li>What are the advantages of using the Poisson distribution to model Major League soccer goals? What are the disadvantages?<br />
<br />
<br />
<br />
</li>
</ol>
<!-- Poisson random variables can take on the natural numbers (including zero), which aligns with the number of goals that can be scored in a match. One disadvantage is that it is possible for a Poisson to take on values that are not realistic for the situation, such as double-digit integers or higher. Only one game in MLS history has had a team score more than seven goals in a game. However, when $\lambda$ is small (such as 1.5), these extreme values are relatively unlikely. -->
<div style="page-break-after: always;"></div>
<div class="example">
<p><span id="exm:unlabeled-div-97" class="example"><strong>Example 2.28  </strong></span>In 1997-1998 with the Los Angeles Lakers, Shaquille O’Neal attempted an average of 11.35 free throws per game with a standard deviation of 4.04. Is it appropriate to model Shaq’s per game free throw attempts as a Poisson(11.35) random variable?</p>
</div>
<ol style="list-style-type: lower-alpha">
<li>Plot the data.</li>
</ol>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="probability.html#cb145-1" aria-hidden="true" tabindex="-1"></a>shaq9798 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/shaq9798.csv&quot;</span>)</span>
<span id="cb145-2"><a href="probability.html#cb145-2" aria-hidden="true" tabindex="-1"></a>shaq9798 <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>FTA))  <span class="sc">+</span> </span>
<span id="cb145-3"><a href="probability.html#cb145-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">color =</span> <span class="st">&quot;yellow&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;purple&quot;</span>) <span class="sc">+</span></span>
<span id="cb145-4"><a href="probability.html#cb145-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Per Game FT Attempt Totals by Shaq in 1997-1998&quot;</span>) <span class="sc">+</span></span>
<span id="cb145-5"><a href="probability.html#cb145-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>,<span class="dv">25</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-60-1.png" width="672" /></p>
<div style="page-break-after: always;"></div>
<ol start="2" style="list-style-type: lower-alpha">
<li>Plot the PMF of a Poisson(11.35) random variable.</li>
</ol>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="probability.html#cb146-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">25</span></span>
<span id="cb146-2"><a href="probability.html#cb146-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">dpois</span>(x, <span class="at">lambda =</span> <span class="fl">11.35</span>)</span>
<span id="cb146-3"><a href="probability.html#cb146-3" aria-hidden="true" tabindex="-1"></a>poisson.pmf <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(x,y)</span>
<span id="cb146-4"><a href="probability.html#cb146-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(poisson.pmf, <span class="fu">aes</span>(x, y)) <span class="sc">+</span> </span>
<span id="cb146-5"><a href="probability.html#cb146-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>) <span class="sc">+</span> </span>
<span id="cb146-6"><a href="probability.html#cb146-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Probability mass function of Poisson(11.35) random variable&quot;</span>) <span class="sc">+</span></span>
<span id="cb146-7"><a href="probability.html#cb146-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Value&quot;</span>) <span class="sc">+</span></span>
<span id="cb146-8"><a href="probability.html#cb146-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Probability&quot;</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-61-1.png" width="672" /></p>
<ol start="3" style="list-style-type: lower-alpha">
<li>What similarities and what differences do you notice?<br />
<br />
<br />
<br />
</li>
</ol>
<div style="page-break-after: always;"></div>
<ol start="4" style="list-style-type: lower-alpha">
<li>Calculate the variance of the two distributions and compare them.</li>
</ol>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="probability.html#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(shaq9798<span class="sc">$</span>FTA)</span></code></pre></div>
<pre><code>## [1] 16.33305</code></pre>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="probability.html#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Var(Poisson(11.35)) = 11.35</span></span></code></pre></div>
<ol start="5" style="list-style-type: lower-alpha">
<li>Calculate the probability that Shaq had 20 or more free throws and compare it to <span class="math inline">\(P(Poisson(11.35) \geq 20)\)</span></li>
</ol>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="probability.html#cb150-1" aria-hidden="true" tabindex="-1"></a>shaqFTA <span class="ot">&lt;-</span> shaq9798<span class="sc">$</span>FTA</span>
<span id="cb150-2"><a href="probability.html#cb150-2" aria-hidden="true" tabindex="-1"></a>shaq20 <span class="ot">&lt;-</span> <span class="fu">sum</span>(shaqFTA <span class="sc">&gt;=</span> <span class="dv">20</span>)<span class="sc">/</span><span class="fu">length</span>(shaqFTA); shaq20</span></code></pre></div>
<pre><code>## [1] 0.06666667</code></pre>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="probability.html#cb152-1" aria-hidden="true" tabindex="-1"></a>poisson20 <span class="ot">&lt;-</span> <span class="fu">ppois</span>(<span class="dv">20</span>, <span class="at">lambda=</span><span class="fl">11.35</span>, <span class="at">lower.tail=</span><span class="cn">FALSE</span>); poisson20</span></code></pre></div>
<pre><code>## [1] 0.006536079</code></pre>
<div style="page-break-after: always;"></div>
<ol start="6" style="list-style-type: lower-alpha">
<li>Create a QQ-plot of Shaq’s per game free throw attempts and a Poisson distribution.</li>
</ol>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="probability.html#cb154-1" aria-hidden="true" tabindex="-1"></a>shaq9798 <span class="sc">%&gt;%</span> </span>
<span id="cb154-2"><a href="probability.html#cb154-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">sample =</span> FTA)) <span class="sc">+</span></span>
<span id="cb154-3"><a href="probability.html#cb154-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq</span>(<span class="at">distribution =</span> qpois,<span class="at">dparams =</span> <span class="fl">11.35</span>,<span class="at">position=</span><span class="fu">position_jitter</span>(<span class="at">width=</span><span class="fl">0.2</span>,<span class="at">height=</span><span class="fl">0.2</span>)) <span class="sc">+</span></span>
<span id="cb154-4"><a href="probability.html#cb154-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq_line</span>(<span class="at">distribution =</span> qpois, <span class="at">dparams =</span> <span class="fl">11.35</span>) <span class="sc">+</span></span>
<span id="cb154-5"><a href="probability.html#cb154-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;QQ-plot for Shaq&#39;s Free Throw Attempts vs. Poisson Distribution&quot;</span>) <span class="sc">+</span></span>
<span id="cb154-6"><a href="probability.html#cb154-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Theoretical Quantiles&quot;</span>) <span class="sc">+</span></span>
<span id="cb154-7"><a href="probability.html#cb154-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Empirical Quantiles&quot;</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-64-1.png" width="672" /></p>
<ol start="7" style="list-style-type: lower-alpha">
<li>Is the Poisson distribution appropriate to model Shaq’s FTA per game? Explain.<br />
<br />
<br />
<br />
</li>
</ol>
<div style="page-break-after: always;"></div>
</div>
<div id="negative-binomial-rvs" class="section level3 hasAnchor" number="2.6.4">
<h3><span class="header-section-number">2.6.4</span> Negative Binomial RVs<a href="probability.html#negative-binomial-rvs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="definition">
<p><span id="def:unlabeled-div-98" class="definition"><strong>Definition 2.23  </strong></span>A <strong><em>Negative Binomial(<span class="math inline">\(r\)</span>,<span class="math inline">\(p\)</span>) random variable</em></strong> is a discrete random variable that counts the numbers of “successes” for given parameters, <span class="math inline">\(r\)</span> and <span class="math inline">\(p\)</span>.</p>
<p><span class="math inline">\(P(X=k) = {k+r-1 \choose k}(1-p)^rp^k\)</span>, where <span class="math inline">\(k = 0, 1, 2, ...\)</span></p>
<p>If <span class="math inline">\(X \sim NB(r,p)\)</span>, then <span class="math inline">\(E[X]=\frac{rp}{1-p}\)</span> and <span class="math inline">\(Var(X)=\frac{rp}{(1-p)^2}\)</span></p>
</div>
<p>The Negative Binomial distribution is often used to model count data that is “overdispersed”. A property of the Poisson distribution is that the mean and variance are equal. If you are analyzing count data such that the variance is much greater than the mean (i.e., overdispersed), then the Negative Binomial distribution may be an appropriate substitute.</p>
<p>Given sample count data, we can estimate appropriate parameters for a Negative Binomial in many ways. One such way is to use the “method of moments” estimator.</p>
<p>These estimators are given by:</p>
<p><span class="math inline">\(\hat{p} = \frac{s^2-\bar{x}}{s^2}\)</span> and <span class="math inline">\(\hat{r} = \frac{\bar{x}^2}{s^2-\bar{x}}\)</span></p>
<div class="example">
<p><span id="exm:unlabeled-div-99" class="example"><strong>Example 2.29  </strong></span>Using Shaq’s 1997-1998 data, model his per game free throw attempts as a Negative Binomial random variable.</p>
</div>
<ol style="list-style-type: lower-alpha">
<li>Find an appropriate choice of parameters, <span class="math inline">\(r\)</span> and <span class="math inline">\(p\)</span>.</li>
</ol>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="probability.html#cb155-1" aria-hidden="true" tabindex="-1"></a>shaq.mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(shaqFTA)</span>
<span id="cb155-2"><a href="probability.html#cb155-2" aria-hidden="true" tabindex="-1"></a>shaq.var <span class="ot">&lt;-</span> <span class="fu">var</span>(shaqFTA)</span>
<span id="cb155-3"><a href="probability.html#cb155-3" aria-hidden="true" tabindex="-1"></a>rhat <span class="ot">&lt;-</span> shaq.mean<span class="sc">^</span><span class="dv">2</span><span class="sc">/</span>(shaq.var<span class="sc">-</span>shaq.mean)</span>
<span id="cb155-4"><a href="probability.html#cb155-4" aria-hidden="true" tabindex="-1"></a>phat <span class="ot">&lt;-</span> (shaq.var<span class="sc">-</span>shaq.mean)<span class="sc">/</span>shaq.var</span>
<span id="cb155-5"><a href="probability.html#cb155-5" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(rhat,phat)</span></code></pre></div>
<pre><code>## [1] 25.85213  0.30509</code></pre>
<ol start="2" style="list-style-type: lower-alpha">
<li>Plot the Negative Binomial distribution. Note that R uses an alternative parameterization for <span class="math inline">\(p\)</span>. Use <span class="math inline">\(prob = 1-p\)</span>.</li>
</ol>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="probability.html#cb157-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">25</span></span>
<span id="cb157-2"><a href="probability.html#cb157-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">dnbinom</span>(x,<span class="at">size=</span>rhat,<span class="at">prob=</span><span class="dv">1</span><span class="sc">-</span>phat)</span>
<span id="cb157-3"><a href="probability.html#cb157-3" aria-hidden="true" tabindex="-1"></a>geom.pmf <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(x,y)</span>
<span id="cb157-4"><a href="probability.html#cb157-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(geom.pmf, <span class="fu">aes</span>(x, y)) <span class="sc">+</span> </span>
<span id="cb157-5"><a href="probability.html#cb157-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>) <span class="sc">+</span> </span>
<span id="cb157-6"><a href="probability.html#cb157-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Value&quot;</span>, <span class="at">y=</span><span class="st">&quot;Frequency&quot;</span>, <span class="at">title=</span><span class="st">&quot;Probability mass function of NB(r=25.852,p=0.305) random variable&quot;</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-66-1.png" width="672" /></p>
<ol start="3" style="list-style-type: lower-alpha">
<li>Calculate the mean and variance of the Negative Binomial and Shaq’s dataset.</li>
</ol>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="probability.html#cb158-1" aria-hidden="true" tabindex="-1"></a>shaq.mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(shaqFTA)</span>
<span id="cb158-2"><a href="probability.html#cb158-2" aria-hidden="true" tabindex="-1"></a>shaq.var <span class="ot">&lt;-</span> <span class="fu">var</span>(shaqFTA)</span>
<span id="cb158-3"><a href="probability.html#cb158-3" aria-hidden="true" tabindex="-1"></a>NB.mean <span class="ot">&lt;-</span> (rhat<span class="sc">*</span>phat)<span class="sc">/</span>(<span class="dv">1</span><span class="sc">-</span>phat)</span>
<span id="cb158-4"><a href="probability.html#cb158-4" aria-hidden="true" tabindex="-1"></a>NB.var <span class="ot">&lt;-</span> (rhat<span class="sc">*</span>phat)<span class="sc">/</span>(<span class="dv">1</span><span class="sc">-</span>phat)<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb158-5"><a href="probability.html#cb158-5" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(shaq.mean,shaq.var)</span></code></pre></div>
<pre><code>## [1] 11.35000 16.33305</code></pre>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="probability.html#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(NB.mean,NB.var)</span></code></pre></div>
<pre><code>## [1] 11.35000 16.33305</code></pre>
<ol start="4" style="list-style-type: lower-alpha">
<li>Calculate the probability that Shaq had 20 or more free throws and compare it to <span class="math inline">\(P(NB(r=25.852,p=0.305) \geq 20)\)</span></li>
</ol>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="probability.html#cb162-1" aria-hidden="true" tabindex="-1"></a>shaq20 <span class="ot">&lt;-</span> <span class="fu">sum</span>(shaqFTA <span class="sc">&gt;=</span> <span class="dv">20</span>)<span class="sc">/</span><span class="fu">length</span>(shaqFTA); shaq20</span></code></pre></div>
<pre><code>## [1] 0.06666667</code></pre>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="probability.html#cb164-1" aria-hidden="true" tabindex="-1"></a>nb20 <span class="ot">&lt;-</span> <span class="fu">pnbinom</span>(<span class="dv">20</span>,<span class="at">size=</span>rhat,<span class="at">prob=</span><span class="dv">1</span><span class="sc">-</span>phat,<span class="at">lower.tail=</span><span class="cn">FALSE</span>); nb20</span></code></pre></div>
<pre><code>## [1] 0.0208711</code></pre>
<div style="page-break-after: always;"></div>
<ol start="5" style="list-style-type: lower-alpha">
<li>Create a QQ-plot of Shaq’s per game free throw attempts and a Negative Binomial distribution.</li>
</ol>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="probability.html#cb166-1" aria-hidden="true" tabindex="-1"></a>shaq9798 <span class="sc">%&gt;%</span> </span>
<span id="cb166-2"><a href="probability.html#cb166-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">sample =</span> FTA)) <span class="sc">+</span></span>
<span id="cb166-3"><a href="probability.html#cb166-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq</span>(<span class="at">distribution =</span> qnbinom,<span class="at">dparams =</span> <span class="fu">list</span>(<span class="at">size=</span><span class="fl">25.852</span>,<span class="at">mu=</span><span class="fl">11.35</span>),<span class="at">position=</span><span class="fu">position_jitter</span>(<span class="at">width=</span><span class="fl">0.2</span>,<span class="at">height=</span><span class="fl">0.2</span>)) <span class="sc">+</span></span>
<span id="cb166-4"><a href="probability.html#cb166-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq_line</span>(<span class="at">distribution =</span> qnbinom, <span class="at">dparams =</span> <span class="fu">list</span>(<span class="at">size=</span><span class="fl">25.852</span>,<span class="at">mu=</span><span class="fl">11.35</span>)) <span class="sc">+</span></span>
<span id="cb166-5"><a href="probability.html#cb166-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;QQ-plot for Shaq&#39;s Free Throw Attempts vs. Negative Binomial Distribution&quot;</span>) <span class="sc">+</span></span>
<span id="cb166-6"><a href="probability.html#cb166-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Theoretical Quantiles&quot;</span>) <span class="sc">+</span></span>
<span id="cb166-7"><a href="probability.html#cb166-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Empirical Quantiles&quot;</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-69-1.png" width="672" /></p>
<ol start="6" style="list-style-type: lower-alpha">
<li>Is the Negative Binomial distribution appropriate to model Shaq’s FTA per game? How does it compare to using the Poisson distribution? Explain.<br />
<br />
<br />
<br />
</li>
</ol>
<div style="page-break-after: always;"></div>
</div>
<div id="normal-rvs" class="section level3 hasAnchor" number="2.6.5">
<h3><span class="header-section-number">2.6.5</span> Normal RVs<a href="probability.html#normal-rvs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="definition">
<p><span id="def:unlabeled-div-100" class="definition"><strong>Definition 2.24  </strong></span>A <strong><em>Normal(<span class="math inline">\(\mu\)</span>,<span class="math inline">\(\sigma^2\)</span>) random variable</em></strong> is a continuous random variable that is bell-shaped with mean <span class="math inline">\(\mu\)</span> and variance <span class="math inline">\(\sigma^2\)</span>.</p>
<p>To calculate probabilities under the normal curve, you need either to integrate, use a table, or a computer.</p>
<p>Note that a normal random variable can be standardized by using: <span class="math inline">\(z = \frac{x-\mu}{\sigma}\)</span></p>
</div>
<div class="theorem">
<p><span id="thm:unlabeled-div-101" class="theorem"><strong>Theorem 2.8  </strong></span>For a normal(<span class="math inline">\(\mu\)</span>,<span class="math inline">\(\sigma^2\)</span>) random variable, we have the following approximations:<br />
- About 68% of the data falls within one standard deviation of the mean (i.e., <span class="math inline">\(\mu \pm \sigma\)</span>)<br />
- About 95% of the data falls within two standard deviations of the mean (i.e., <span class="math inline">\(\mu \pm 2\sigma\)</span>)<br />
- About 99.7% of the data falls within three standard deviations of the mean (i.e., <span class="math inline">\(\mu \pm 3\sigma\)</span>)</p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-102" class="example"><strong>Example 2.30  </strong></span>The skills (or tools) of a baseball player are often rated on a scale of 20-80, where 50 is an average grade, 20 is the lowest grade, and 80 is the highest grade. The distribution of tool grades is approximately normally distributed (<span class="math inline">\(\mu=50, \sigma =10\)</span>).</p>
<p>See <a href="https://blogs.fangraphs.com/scouting-explained-the-20-80-scouting-scale/">https://blogs.fangraphs.com/scouting-explained-the-20-80-scouting-scale/</a> for more details. Calculate the following probabilities.</p>
</div>
<ol style="list-style-type: lower-alpha">
<li><p>Former Rockie Nolan Arenado has been graded to have game power of 70. Game power estimates a player’s ability to hit home runs. Approximately what percentage of baseball players have equal or greater game power than Arenado?<br />
<br />
<br />
<br />
</p></li>
<li><p>Mike Trout has been graded to have raw power of 55. Raw power estimates a player’s ability to hit baseballs hard (i.e., hard hit rate). Approximately what percentage of baseball players have equal or less raw power than Trout?<br />
<br />
<br />
<br />
</p></li>
<li><p>Suppose a Rockies prospect is said to be in the top 10% of all baseball players in terms of their speed. What approximate speed grade would correspond to the player?<br />
<br />
<br />
<br />
</p></li>
</ol>
<div style="page-break-after: always;"></div>
<ol start="4" style="list-style-type: lower-alpha">
<li><p>Suppose a Rockies prospect is said to be in the bottom 20% of all baseball players in terms of their hit ability. What approximate hit grade would correspond to the player?<br />
<br />
<br />
<br />
</p></li>
<li><p>Between what two grades do approximately 95% of all players lie for a given tool?<br />
<br />
<br />
<br />
</p></li>
</ol>
<p>Let’s check our answers:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="probability.html#cb167-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span><span class="fu">pnorm</span>(<span class="at">q=</span><span class="dv">70</span>,<span class="at">mean=</span><span class="dv">50</span>,<span class="at">sd=</span><span class="dv">10</span>); a</span></code></pre></div>
<pre><code>## [1] 0.02275013</code></pre>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="probability.html#cb169-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="at">q=</span><span class="dv">55</span>,<span class="at">mean=</span><span class="dv">50</span>,<span class="at">sd=</span><span class="dv">10</span>); b</span></code></pre></div>
<pre><code>## [1] 0.6914625</code></pre>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="probability.html#cb171-1" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(<span class="fl">0.1</span>,<span class="at">mean=</span><span class="dv">50</span>,<span class="at">sd=</span><span class="dv">10</span>,<span class="at">lower.tail =</span> F); c</span></code></pre></div>
<pre><code>## [1] 62.81552</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="probability.html#cb173-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(<span class="fl">0.2</span>,<span class="at">mean=</span><span class="dv">50</span>,<span class="at">sd=</span><span class="dv">10</span>,<span class="at">lower.tail =</span> T); d</span></code></pre></div>
<pre><code>## [1] 41.58379</code></pre>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="probability.html#cb175-1" aria-hidden="true" tabindex="-1"></a>e <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="at">q=</span><span class="dv">70</span>,<span class="at">mean=</span><span class="dv">50</span>,<span class="at">sd=</span><span class="dv">10</span>) <span class="sc">-</span> <span class="fu">pnorm</span>(<span class="at">q=</span><span class="dv">30</span>,<span class="at">mean=</span><span class="dv">50</span>,<span class="at">sd=</span><span class="dv">10</span>); e</span></code></pre></div>
<pre><code>## [1] 0.9544997</code></pre>
<div style="page-break-after: always;"></div>
<div class="example">
<p><span id="exm:unlabeled-div-103" class="example"><strong>Example 2.31  </strong></span>Player X has a projected mean WAR of 3 with standard deviation of 2 and player Y has a projected mean WAR of 1.5 with a standard deviation of 3. Assume projected WAR is normally distributed. What is the probability that Player X outperforms Player Y?</p>
<p>Link to WAR explanation: <a href="https://www.mlb.com/glossary/advanced-stats/wins-above-replacement" class="uri">https://www.mlb.com/glossary/advanced-stats/wins-above-replacement</a></p>
</div>
<p>We want <span class="math inline">\(P(X&gt;Y)\)</span> or <span class="math inline">\(P(X-Y&gt;0)\)</span><br />
</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="probability.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate probability Z&lt;=0</span></span>
<span id="cb177-2"><a href="probability.html#cb177-2" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="dv">0</span>,<span class="fl">1.5</span>,<span class="fu">sqrt</span>(<span class="dv">5</span>),<span class="at">lower.tail =</span> F); p</span></code></pre></div>
<pre><code>## [1] 0.7488325</code></pre>
<div style="page-break-after: always;"></div>
</div>
</div>
<div id="win-probability-models" class="section level2 hasAnchor" number="2.7">
<h2><span class="header-section-number">2.7</span> Win Probability Models<a href="probability.html#win-probability-models" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The probability an NFL team will win can be modeled as a normal random variable using the Vegas line. This method is outlined by Wayne Winston in <em>Mathletics</em> building on previous research by Hal Stern.</p>
<div id="estimating-pregame-win-probability" class="section level3 hasAnchor" number="2.7.1">
<h3><span class="header-section-number">2.7.1</span> Estimating Pregame Win Probability<a href="probability.html#estimating-pregame-win-probability" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Winston estimates that the final margin of victory is approximately a normal random variable with a mean of the Vegas line and a standard deviation between 13-14. Winston and Stern estimated the standard deviation to be <strong>13.86</strong> based on data from the 1981, 1983, and 1984 NFL seasons.</p>
<p>This estimated standard deviation has since been updated to be <strong>13.45</strong> based on data from 1978 – 2012 NFL seasons.</p>
<p>Reference: <a href="https://www.pro-football-reference.com/about/win_prob.htm" class="uri">https://www.pro-football-reference.com/about/win_prob.htm</a></p>
<div class="example">
<p><span id="exm:unlabeled-div-104" class="example"><strong>Example 2.32  </strong></span>Sketch the distribution of the final margin of victory for an NFL team that is favored by 7 points. Shade the area for a win in regulation (for the favorite) and a tie in regulation.</p>
</div>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="probability.html#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb179-2"><a href="probability.html#cb179-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span>
<span id="cb179-3"><a href="probability.html#cb179-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-4"><a href="probability.html#cb179-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-5"><a href="probability.html#cb179-5" aria-hidden="true" tabindex="-1"></a>final_margin_full <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">21</span>, <span class="dv">42</span>)), <span class="fu">aes</span>(<span class="at">x =</span> x)) <span class="sc">+</span></span>
<span id="cb179-6"><a href="probability.html#cb179-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">stat_function</span>(<span class="at">fun =</span> dnorm, <span class="at">args =</span> <span class="fu">list</span>(<span class="at">mean =</span> <span class="dv">7</span>, <span class="at">sd =</span> <span class="fl">13.45</span>)) <span class="sc">+</span> </span>
<span id="cb179-7"><a href="probability.html#cb179-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Final Margin (for favorite)&quot;</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Full Distribution&quot;</span>)</span>
<span id="cb179-8"><a href="probability.html#cb179-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-9"><a href="probability.html#cb179-9" aria-hidden="true" tabindex="-1"></a>final_margin_zoom <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">10</span>)), <span class="fu">aes</span>(<span class="at">x =</span> x)) <span class="sc">+</span></span>
<span id="cb179-10"><a href="probability.html#cb179-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">stat_function</span>(<span class="at">fun =</span> dnorm, <span class="at">args =</span> <span class="fu">list</span>(<span class="at">mean =</span> <span class="dv">7</span>, <span class="at">sd =</span> <span class="fl">13.45</span>)) <span class="sc">+</span> </span>
<span id="cb179-11"><a href="probability.html#cb179-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Final Margin (for favorite)&quot;</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Zoomed Distribution&quot;</span>) <span class="sc">+</span> </span>
<span id="cb179-12"><a href="probability.html#cb179-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">seq</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">10</span>, <span class="dv">1</span>))</span>
<span id="cb179-13"><a href="probability.html#cb179-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-14"><a href="probability.html#cb179-14" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(final_margin_full, final_margin_zoom, <span class="at">ncol=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-72-1.png" width="672" /></p>
<div style="page-break-after: always;"></div>
<div class="example">
<p><span id="exm:unlabeled-div-105" class="example"><strong>Example 2.33  </strong></span>In Super Bowl 50, the Denver Broncos were 5.5 point underdogs (+5.5) against the Carolina Panthers. Estimate the pregame win probability for the Denver Broncos.<br />
</p>
</div>
<p><img src="textbook_files/figure-html/unnamed-chunk-73-1.png" width="672" /></p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="probability.html#cb180-1" aria-hidden="true" tabindex="-1"></a>fav_line <span class="ot">&lt;-</span> <span class="fl">5.5</span></span>
<span id="cb180-2"><a href="probability.html#cb180-2" aria-hidden="true" tabindex="-1"></a>full_sd <span class="ot">&lt;-</span> <span class="fl">13.45</span></span>
<span id="cb180-3"><a href="probability.html#cb180-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-4"><a href="probability.html#cb180-4" aria-hidden="true" tabindex="-1"></a>win_prob <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="at">q =</span> <span class="fl">0.5</span>, <span class="at">mean =</span> fav_line, <span class="at">sd =</span> full_sd, <span class="at">lower.tail =</span> <span class="cn">FALSE</span>)</span>
<span id="cb180-5"><a href="probability.html#cb180-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-6"><a href="probability.html#cb180-6" aria-hidden="true" tabindex="-1"></a>tie_prob <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="at">q =</span> <span class="fl">0.5</span>, <span class="at">mean =</span> fav_line, <span class="at">sd =</span> full_sd, <span class="at">lower.tail =</span> <span class="cn">TRUE</span>) <span class="sc">-</span></span>
<span id="cb180-7"><a href="probability.html#cb180-7" aria-hidden="true" tabindex="-1"></a>            <span class="fu">pnorm</span>(<span class="at">q =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">mean =</span> fav_line, <span class="at">sd =</span> full_sd, <span class="at">lower.tail =</span> <span class="cn">TRUE</span>)</span>
<span id="cb180-8"><a href="probability.html#cb180-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-9"><a href="probability.html#cb180-9" aria-hidden="true" tabindex="-1"></a><span class="co"># win probability for favorite (panthers)</span></span>
<span id="cb180-10"><a href="probability.html#cb180-10" aria-hidden="true" tabindex="-1"></a>win_prob <span class="ot">&lt;-</span> win_prob <span class="sc">+</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span> <span class="sc">*</span> tie_prob</span>
<span id="cb180-11"><a href="probability.html#cb180-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-12"><a href="probability.html#cb180-12" aria-hidden="true" tabindex="-1"></a><span class="co"># win probability for underdog (broncos)</span></span>
<span id="cb180-13"><a href="probability.html#cb180-13" aria-hidden="true" tabindex="-1"></a>(broncos_win_prob <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> win_prob)</span></code></pre></div>
<pre><code>## [1] 0.3414021</code></pre>
<div style="page-break-after: always;"></div>
</div>
<div id="estimating-in-game-win-probability" class="section level3 hasAnchor" number="2.7.2">
<h3><span class="header-section-number">2.7.2</span> Estimating In-Game Win Probability<a href="probability.html#estimating-in-game-win-probability" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Winston proposed an updated method to calculate in-game win probabilities based on the time remaining in the game, current score margin, and Vegas line.</p>
<p>In this proposed method, the pregame mean (Vegas line) and pregame variance (13.45) are scaled down linearly as a function of time remaining in the game.</p>
<p>For instance, since there are four 15-minute quarters (total regulation game time is 60 minutes), then the in-game mean and standard deviation are calculated as follows.</p>
<p><span class="math inline">\(\mu_{updated} = Line \cdot \frac{\text{time remaining}}{60}\)</span></p>
<p><span class="math inline">\(\sigma_{updated} = \frac{13.45}{\sqrt{60/\text{time remaining}}}\)</span></p>
<p><strong>Note:</strong> This model assumes perfectly neutral possession, down, distance, and field-position conditions.</p>
<p>Reference: <a href="https://www.pro-football-reference.com/about/win_prob.htm" class="uri">https://www.pro-football-reference.com/about/win_prob.htm</a></p>
<div class="example">
<p><span id="exm:unlabeled-div-106" class="example"><strong>Example 2.34  </strong></span>In Super Bowl 50, the Denver Broncos led the Carolina Panthers 10-0 after the first quarter. The Broncos were 5.5 point underdogs at the start of the game. Use Winston’s method to estimate the probability of a Broncos win after one quarter.<br />
</p>
</div>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="probability.html#cb182-1" aria-hidden="true" tabindex="-1"></a>fav_margin <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">10</span></span>
<span id="cb182-2"><a href="probability.html#cb182-2" aria-hidden="true" tabindex="-1"></a>fav_line <span class="ot">&lt;-</span> <span class="fl">5.5</span></span>
<span id="cb182-3"><a href="probability.html#cb182-3" aria-hidden="true" tabindex="-1"></a>full_sd <span class="ot">&lt;-</span> <span class="fl">13.45</span></span>
<span id="cb182-4"><a href="probability.html#cb182-4" aria-hidden="true" tabindex="-1"></a>full_min <span class="ot">&lt;-</span> <span class="dv">60</span></span>
<span id="cb182-5"><a href="probability.html#cb182-5" aria-hidden="true" tabindex="-1"></a>new_min <span class="ot">&lt;-</span> <span class="dv">45</span></span>
<span id="cb182-6"><a href="probability.html#cb182-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-7"><a href="probability.html#cb182-7" aria-hidden="true" tabindex="-1"></a>new_mean <span class="ot">&lt;-</span> fav_line <span class="sc">*</span> new_min<span class="sc">/</span>full_min</span>
<span id="cb182-8"><a href="probability.html#cb182-8" aria-hidden="true" tabindex="-1"></a>new_sd <span class="ot">&lt;-</span> full_sd <span class="sc">/</span> <span class="fu">sqrt</span>(full_min<span class="sc">/</span>new_min)</span>
<span id="cb182-9"><a href="probability.html#cb182-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-10"><a href="probability.html#cb182-10" aria-hidden="true" tabindex="-1"></a>win_prob <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="at">q =</span> <span class="fl">0.5</span> <span class="sc">-</span> fav_margin, <span class="at">mean =</span> new_mean, </span>
<span id="cb182-11"><a href="probability.html#cb182-11" aria-hidden="true" tabindex="-1"></a>                  <span class="at">sd =</span> new_sd, <span class="at">lower.tail =</span> <span class="cn">FALSE</span>)</span>
<span id="cb182-12"><a href="probability.html#cb182-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-13"><a href="probability.html#cb182-13" aria-hidden="true" tabindex="-1"></a>tie_prob <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="at">q =</span> <span class="fl">0.5</span> <span class="sc">-</span> fav_margin, <span class="at">mean =</span> new_mean, </span>
<span id="cb182-14"><a href="probability.html#cb182-14" aria-hidden="true" tabindex="-1"></a>                  <span class="at">sd =</span> new_sd, <span class="at">lower.tail =</span> <span class="cn">TRUE</span>) <span class="sc">-</span></span>
<span id="cb182-15"><a href="probability.html#cb182-15" aria-hidden="true" tabindex="-1"></a>            <span class="fu">pnorm</span>(<span class="at">q =</span> <span class="sc">-</span><span class="fl">0.5</span> <span class="sc">-</span> fav_margin, <span class="at">mean =</span> new_mean, </span>
<span id="cb182-16"><a href="probability.html#cb182-16" aria-hidden="true" tabindex="-1"></a>                  <span class="at">sd =</span> new_sd, <span class="at">lower.tail =</span> <span class="cn">TRUE</span>)</span>
<span id="cb182-17"><a href="probability.html#cb182-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-18"><a href="probability.html#cb182-18" aria-hidden="true" tabindex="-1"></a><span class="co"># win probability for favorite (panthers)</span></span>
<span id="cb182-19"><a href="probability.html#cb182-19" aria-hidden="true" tabindex="-1"></a>win_prob <span class="ot">&lt;-</span> win_prob <span class="sc">+</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span> <span class="sc">*</span> tie_prob</span>
<span id="cb182-20"><a href="probability.html#cb182-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-21"><a href="probability.html#cb182-21" aria-hidden="true" tabindex="-1"></a><span class="co"># win probability for underdog (broncos)</span></span>
<span id="cb182-22"><a href="probability.html#cb182-22" aria-hidden="true" tabindex="-1"></a>(broncos_win_prob <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> win_prob)</span></code></pre></div>
<pre><code>## [1] 0.6928385</code></pre>
<div style="page-break-after: always;"></div>
<p>The win probability models outlined above use only the Vegas line, the current score, and the time remaining in the game. More accurate estimation models will also consider possession, down, distance, and field-position conditions. Pro Football Reference offers an in-game win probability model with these additional factors.</p>
<p>Reference: <a href="https://www.pro-football-reference.com/boxscores/win_prob.cgi" class="uri">https://www.pro-football-reference.com/boxscores/win_prob.cgi</a></p>
<div class="example">
<p><span id="exm:unlabeled-div-107" class="example"><strong>Example 2.35  </strong></span>The Broncos led the Panthers 10-0 at the end of the first quarter. The Panthers had 2nd and 11 at their own 46 at the beginning of the second quarter. Calculate the Broncos win probability.</p>
<p>Reference: <a href="https://www.pro-football-reference.com/boxscores/201602070den.htm" class="uri">https://www.pro-football-reference.com/boxscores/201602070den.htm</a></p>
</div>
<div class="figure">
<img src="images/wp1" style="width:80.0%" alt="" />
<p class="caption">Pro Football Reference Win Probability Calculator Inputs</p>
</div>
<div class="figure">
<img src="images/wp2" style="width:50.0%" alt="" />
<p class="caption">Pro Football Reference Win Probability Calculator Output</p>
</div>
<p><strong>Class Reading:</strong> Chapters 6–7 in the <em>Hidden Game of Football</em> by Carroll, Palmer, Thorn</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="exploratory-data-analysis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="odds-and-bets.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/aaron-nielsen/SportsAnalyticsBook/edit/master/02-probability.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["textbook.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
