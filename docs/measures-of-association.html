<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Measures of Association | Sports Analytics</title>
  <meta name="description" content="Chapter 6 Measures of Association | Sports Analytics Notes" />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Measures of Association | Sports Analytics" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://aaron-nielsen.github.io/SportsAnalyticsBook/images/csu.png" />
  <meta property="og:description" content="Chapter 6 Measures of Association | Sports Analytics Notes" />
  <meta name="github-repo" content="aaron-nielsen.github.io/SportsAnalyticsBook/" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Measures of Association | Sports Analytics" />
  
  <meta name="twitter:description" content="Chapter 6 Measures of Association | Sports Analytics Notes" />
  <meta name="twitter:image" content="https://aaron-nielsen.github.io/SportsAnalyticsBook/images/csu.png" />

<meta name="author" content="Aaron Nielsen, Department of Statistics, Colorado State University" />


<meta name="date" content="2023-02-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<link rel="prev" href="inferential-statistics.html"/>
<link rel="next" href="pythagorean-record.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="lib/css/bootstrap.min.css" type="text/css" />
<link rel="stylesheet" href="lib/css/style.css" type="text/css" />
<link rel="stylesheet" href="lib/css/lesson.css" type="text/css" />
<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Sports Analytics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="" data-path="preliminaries.html"><a href="preliminaries.html"><i class="fa fa-check"></i>Preliminaries</a>
<ul>
<li class="chapter" data-level="" data-path="preliminaries.html"><a href="preliminaries.html#getting-started-with-r"><i class="fa fa-check"></i>Getting Started With R</a>
<ul>
<li class="chapter" data-level="" data-path="preliminaries.html"><a href="preliminaries.html#installing-r"><i class="fa fa-check"></i>Installing R</a></li>
<li class="chapter" data-level="" data-path="preliminaries.html"><a href="preliminaries.html#some-r-basics"><i class="fa fa-check"></i>Some R Basics</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preliminaries.html"><a href="preliminaries.html#which-sports"><i class="fa fa-check"></i>Which Sports?</a></li>
<li class="chapter" data-level="" data-path="preliminaries.html"><a href="preliminaries.html#challenges"><i class="fa fa-check"></i>Challenges</a></li>
<li class="chapter" data-level="" data-path="preliminaries.html"><a href="preliminaries.html#ethical-concerns"><i class="fa fa-check"></i>Ethical Concerns</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>1</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="1.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#descriptive-statistics"><i class="fa fa-check"></i><b>1.1</b> Descriptive Statistics</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#definitions"><i class="fa fa-check"></i><b>1.1.1</b> Definitions</a></li>
<li class="chapter" data-level="1.1.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#descriptive-statistics-1"><i class="fa fa-check"></i><b>1.1.2</b> Descriptive Statistics</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#visualizations"><i class="fa fa-check"></i><b>1.2</b> Visualizations</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#histograms"><i class="fa fa-check"></i><b>1.2.1</b> Histograms</a></li>
<li class="chapter" data-level="1.2.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#bar-plots"><i class="fa fa-check"></i><b>1.2.2</b> Bar Plots</a></li>
<li class="chapter" data-level="1.2.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#scatter-plots"><i class="fa fa-check"></i><b>1.2.3</b> Scatter Plots</a></li>
<li class="chapter" data-level="1.2.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#kable-tables"><i class="fa fa-check"></i><b>1.2.4</b> Kable Tables</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#baseball"><i class="fa fa-check"></i><b>1.3</b> Baseball</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#hitting-statistics"><i class="fa fa-check"></i><b>1.3.1</b> Hitting Statistics</a></li>
<li class="chapter" data-level="1.3.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#pitching-statistics"><i class="fa fa-check"></i><b>1.3.2</b> Pitching Statistics</a></li>
<li class="chapter" data-level="1.3.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#wins-above-replacement"><i class="fa fa-check"></i><b>1.3.3</b> Wins Above Replacement</a></li>
<li class="chapter" data-level="1.3.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#calculating-hitting-statistics"><i class="fa fa-check"></i><b>1.3.4</b> Calculating Hitting Statistics</a></li>
<li class="chapter" data-level="1.3.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#evaluating-pitching-statistics"><i class="fa fa-check"></i><b>1.3.5</b> Evaluating Pitching Statistics</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#football"><i class="fa fa-check"></i><b>1.4</b> Football</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#basic-football-statistics"><i class="fa fa-check"></i><b>1.4.1</b> Basic Football Statistics</a></li>
<li class="chapter" data-level="1.4.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#advanced-football-statistics"><i class="fa fa-check"></i><b>1.4.2</b> Advanced Football Statistics</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#basketball"><i class="fa fa-check"></i><b>1.5</b> Basketball</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#basic-basketball-statistics"><i class="fa fa-check"></i><b>1.5.1</b> Basic Basketball Statistics</a></li>
<li class="chapter" data-level="1.5.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#advanced-basketball-statistics"><i class="fa fa-check"></i><b>1.5.2</b> Advanced Basketball Statistics</a></li>
<li class="chapter" data-level="1.5.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#four-factors"><i class="fa fa-check"></i><b>1.5.3</b> Four Factors</a></li>
<li class="chapter" data-level="1.5.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#shot-charts"><i class="fa fa-check"></i><b>1.5.4</b> Shot Charts</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#hockey"><i class="fa fa-check"></i><b>1.6</b> Hockey</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#basic-hockey-statistics"><i class="fa fa-check"></i><b>1.6.1</b> Basic Hockey Statistics</a></li>
<li class="chapter" data-level="1.6.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#advanced-hockey-statistics"><i class="fa fa-check"></i><b>1.6.2</b> Advanced Hockey Statistics</a></li>
<li class="chapter" data-level="1.6.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#actual-vs.-expected-goals"><i class="fa fa-check"></i><b>1.6.3</b> Actual vs. Expected Goals</a></li>
<li class="chapter" data-level="1.6.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#goalie-statistics"><i class="fa fa-check"></i><b>1.6.4</b> Goalie Statistics</a></li>
<li class="chapter" data-level="1.6.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#correlation-plots"><i class="fa fa-check"></i><b>1.6.5</b> Correlation Plots</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#volleyball"><i class="fa fa-check"></i><b>1.7</b> Volleyball</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#basic-volleyball-statistics"><i class="fa fa-check"></i><b>1.7.1</b> Basic Volleyball Statistics</a></li>
<li class="chapter" data-level="1.7.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#scatter-plot"><i class="fa fa-check"></i><b>1.7.2</b> Scatter Plot</a></li>
<li class="chapter" data-level="1.7.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#box-plot"><i class="fa fa-check"></i><b>1.7.3</b> Box Plot</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#soccer"><i class="fa fa-check"></i><b>1.8</b> Soccer</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#basic-soccer-statistics"><i class="fa fa-check"></i><b>1.8.1</b> Basic Soccer Statistics</a></li>
<li class="chapter" data-level="1.8.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#advanced-soccer-statistics"><i class="fa fa-check"></i><b>1.8.2</b> Advanced Soccer Statistics</a></li>
<li class="chapter" data-level="1.8.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#bar-plot"><i class="fa fa-check"></i><b>1.8.3</b> Bar Plot</a></li>
<li class="chapter" data-level="1.8.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#scatter-plot-1"><i class="fa fa-check"></i><b>1.8.4</b> Scatter Plot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="probability.html"><a href="probability.html"><i class="fa fa-check"></i><b>2</b> Probability</a>
<ul>
<li class="chapter" data-level="2.1" data-path="probability.html"><a href="probability.html#definitions-1"><i class="fa fa-check"></i><b>2.1</b> Definitions</a></li>
<li class="chapter" data-level="2.2" data-path="probability.html"><a href="probability.html#set-theory"><i class="fa fa-check"></i><b>2.2</b> Set Theory</a></li>
<li class="chapter" data-level="2.3" data-path="probability.html"><a href="probability.html#axioms-properties-and-laws"><i class="fa fa-check"></i><b>2.3</b> Axioms, Properties, and Laws</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="probability.html"><a href="probability.html#axioms-of-probability"><i class="fa fa-check"></i><b>2.3.1</b> Axioms of Probability</a></li>
<li class="chapter" data-level="2.3.2" data-path="probability.html"><a href="probability.html#properties-of-probability"><i class="fa fa-check"></i><b>2.3.2</b> Properties of Probability</a></li>
<li class="chapter" data-level="2.3.3" data-path="probability.html"><a href="probability.html#laws-of-probability"><i class="fa fa-check"></i><b>2.3.3</b> Laws of Probability</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="probability.html"><a href="probability.html#combinatorics"><i class="fa fa-check"></i><b>2.4</b> Combinatorics</a></li>
<li class="chapter" data-level="2.5" data-path="probability.html"><a href="probability.html#random-variables"><i class="fa fa-check"></i><b>2.5</b> Random Variables</a></li>
<li class="chapter" data-level="2.6" data-path="probability.html"><a href="probability.html#common-random-variables"><i class="fa fa-check"></i><b>2.6</b> Common Random Variables</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="probability.html"><a href="probability.html#binomial-rvs"><i class="fa fa-check"></i><b>2.6.1</b> Binomial RVs</a></li>
<li class="chapter" data-level="2.6.2" data-path="probability.html"><a href="probability.html#geometric-rvs"><i class="fa fa-check"></i><b>2.6.2</b> Geometric RVs</a></li>
<li class="chapter" data-level="2.6.3" data-path="probability.html"><a href="probability.html#poisson-rvs"><i class="fa fa-check"></i><b>2.6.3</b> Poisson RVs</a></li>
<li class="chapter" data-level="2.6.4" data-path="probability.html"><a href="probability.html#negative-binomial-rvs"><i class="fa fa-check"></i><b>2.6.4</b> Negative Binomial RVs</a></li>
<li class="chapter" data-level="2.6.5" data-path="probability.html"><a href="probability.html#normal-rvs"><i class="fa fa-check"></i><b>2.6.5</b> Normal RVs</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="probability.html"><a href="probability.html#win-probability-models"><i class="fa fa-check"></i><b>2.7</b> Win Probability Models</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="probability.html"><a href="probability.html#estimating-pregame-win-probability"><i class="fa fa-check"></i><b>2.7.1</b> Estimating Pregame Win Probability</a></li>
<li class="chapter" data-level="2.7.2" data-path="probability.html"><a href="probability.html#estimating-in-game-win-probability"><i class="fa fa-check"></i><b>2.7.2</b> Estimating In-Game Win Probability</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="odds-and-bets.html"><a href="odds-and-bets.html"><i class="fa fa-check"></i><b>3</b> Odds and Bets</a>
<ul>
<li class="chapter" data-level="3.1" data-path="odds-and-bets.html"><a href="odds-and-bets.html#odds"><i class="fa fa-check"></i><b>3.1</b> Odds</a></li>
<li class="chapter" data-level="3.2" data-path="odds-and-bets.html"><a href="odds-and-bets.html#gambling-odds"><i class="fa fa-check"></i><b>3.2</b> Gambling Odds</a></li>
<li class="chapter" data-level="3.3" data-path="odds-and-bets.html"><a href="odds-and-bets.html#types-of-bets"><i class="fa fa-check"></i><b>3.3</b> Types of Bets</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html"><i class="fa fa-check"></i><b>4</b> Monte Carlo Simulation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#basics"><i class="fa fa-check"></i><b>4.1</b> Basics</a></li>
<li class="chapter" data-level="4.2" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#estimating-probabilities"><i class="fa fa-check"></i><b>4.2</b> Estimating Probabilities</a></li>
<li class="chapter" data-level="4.3" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#simulating-streaks"><i class="fa fa-check"></i><b>4.3</b> Simulating Streaks</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#winning-streak-simulation"><i class="fa fa-check"></i><b>4.3.1</b> Winning Streak Simulation</a></li>
<li class="chapter" data-level="4.3.2" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#hitting-streak-simulation"><i class="fa fa-check"></i><b>4.3.2</b> Hitting Streak Simulation</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#gambling-simulations"><i class="fa fa-check"></i><b>4.4</b> Gambling Simulations</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#martingale-system"><i class="fa fa-check"></i><b>4.4.1</b> Martingale System</a></li>
<li class="chapter" data-level="4.4.2" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#gamblers-ruin"><i class="fa fa-check"></i><b>4.4.2</b> Gambler’s Ruin</a></li>
<li class="chapter" data-level="4.4.3" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#simulating-a-winning-system"><i class="fa fa-check"></i><b>4.4.3</b> Simulating a Winning System</a></li>
<li class="chapter" data-level="4.4.4" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#using-the-kelly-growth-criterion"><i class="fa fa-check"></i><b>4.4.4</b> Using the Kelly Growth Criterion</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#simulating-censored-data"><i class="fa fa-check"></i><b>4.5</b> Simulating Censored Data</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#tony-gwynn-1994-batting-average-simulation"><i class="fa fa-check"></i><b>4.5.1</b> Tony Gwynn 1994 Batting Average Simulation</a></li>
<li class="chapter" data-level="4.5.2" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#matt-williams-1994-home-run-simulation"><i class="fa fa-check"></i><b>4.5.2</b> Matt Williams 1994 Home Run Simulation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="inferential-statistics.html"><a href="inferential-statistics.html"><i class="fa fa-check"></i><b>5</b> Inferential Statistics</a>
<ul>
<li class="chapter" data-level="5.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#defining-a-population"><i class="fa fa-check"></i><b>5.1</b> Defining a Population</a></li>
<li class="chapter" data-level="5.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#statistical-inference"><i class="fa fa-check"></i><b>5.2</b> Statistical Inference</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#confidence-intervals"><i class="fa fa-check"></i><b>5.2.1</b> Confidence Intervals</a></li>
<li class="chapter" data-level="5.2.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#hypothesis-tests"><i class="fa fa-check"></i><b>5.2.2</b> Hypothesis Tests</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="inferential-statistics.html"><a href="inferential-statistics.html#inference-for-population-mean"><i class="fa fa-check"></i><b>5.3</b> Inference for Population Mean</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#confidence-interval-for-population-mean"><i class="fa fa-check"></i><b>5.3.1</b> Confidence Interval for Population Mean</a></li>
<li class="chapter" data-level="5.3.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#hypothesis-test-for-population-mean"><i class="fa fa-check"></i><b>5.3.2</b> Hypothesis Test for Population Mean</a></li>
<li class="chapter" data-level="5.3.3" data-path="inferential-statistics.html"><a href="inferential-statistics.html#test-for-difference-in-means"><i class="fa fa-check"></i><b>5.3.3</b> Test for Difference in Means</a></li>
<li class="chapter" data-level="5.3.4" data-path="inferential-statistics.html"><a href="inferential-statistics.html#confidence-interval-for-difference-in-means"><i class="fa fa-check"></i><b>5.3.4</b> Confidence Interval for Difference in Means</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="inferential-statistics.html"><a href="inferential-statistics.html#inference-for-population-proportion"><i class="fa fa-check"></i><b>5.4</b> Inference for Population Proportion</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#confidence-interval-for-population-proportion"><i class="fa fa-check"></i><b>5.4.1</b> Confidence Interval for Population Proportion</a></li>
<li class="chapter" data-level="5.4.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#test-for-population-proportion"><i class="fa fa-check"></i><b>5.4.2</b> Test for Population Proportion</a></li>
<li class="chapter" data-level="5.4.3" data-path="inferential-statistics.html"><a href="inferential-statistics.html#confidence-interval-for-difference-in-proportions"><i class="fa fa-check"></i><b>5.4.3</b> Confidence Interval for Difference in Proportions</a></li>
<li class="chapter" data-level="5.4.4" data-path="inferential-statistics.html"><a href="inferential-statistics.html#test-for-difference-in-proportions"><i class="fa fa-check"></i><b>5.4.4</b> Test for Difference in Proportions</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="inferential-statistics.html"><a href="inferential-statistics.html#bootstrap"><i class="fa fa-check"></i><b>5.5</b> Bootstrap</a></li>
<li class="chapter" data-level="5.6" data-path="inferential-statistics.html"><a href="inferential-statistics.html#margin-of-error-calcuations"><i class="fa fa-check"></i><b>5.6</b> Margin of Error Calcuations</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#moe-for-probabilities"><i class="fa fa-check"></i><b>5.6.1</b> MOE for Probabilities</a></li>
<li class="chapter" data-level="5.6.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#moe-for-averages"><i class="fa fa-check"></i><b>5.6.2</b> MOE for Averages</a></li>
<li class="chapter" data-level="5.6.3" data-path="inferential-statistics.html"><a href="inferential-statistics.html#moe-estimation-using-simulation"><i class="fa fa-check"></i><b>5.6.3</b> MOE estimation using simulation</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="inferential-statistics.html"><a href="inferential-statistics.html#one-sample-and-two-sample-t-tests-and-confidence-intervals"><i class="fa fa-check"></i><b>5.7</b> One Sample and Two Sample t-tests and confidence intervals</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="inferential-statistics.html"><a href="inferential-statistics.html#hockey-faceoffs"><i class="fa fa-check"></i><b>5.7.1</b> Hockey Faceoffs</a></li>
<li class="chapter" data-level="5.7.2" data-path="inferential-statistics.html"><a href="inferential-statistics.html#hockey-penalty-scoring"><i class="fa fa-check"></i><b>5.7.2</b> Hockey Penalty Scoring</a></li>
<li class="chapter" data-level="5.7.3" data-path="inferential-statistics.html"><a href="inferential-statistics.html#nfl-overtime-winners"><i class="fa fa-check"></i><b>5.7.3</b> NFL Overtime Winners</a></li>
<li class="chapter" data-level="5.7.4" data-path="inferential-statistics.html"><a href="inferential-statistics.html#icing-the-kicker"><i class="fa fa-check"></i><b>5.7.4</b> Icing the Kicker</a></li>
<li class="chapter" data-level="5.7.5" data-path="inferential-statistics.html"><a href="inferential-statistics.html#example-football-one-vs.-two-point-conversion"><i class="fa fa-check"></i><b>5.7.5</b> Example: Football One vs. Two Point Conversion</a></li>
<li class="chapter" data-level="5.7.6" data-path="inferential-statistics.html"><a href="inferential-statistics.html#two-sample-tests"><i class="fa fa-check"></i><b>5.7.6</b> Two Sample Tests</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="inferential-statistics.html"><a href="inferential-statistics.html#permutation-tests"><i class="fa fa-check"></i><b>5.8</b> Permutation Tests</a></li>
<li class="chapter" data-level="5.9" data-path="inferential-statistics.html"><a href="inferential-statistics.html#bootstrap-1"><i class="fa fa-check"></i><b>5.9</b> Bootstrap</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="measures-of-association.html"><a href="measures-of-association.html"><i class="fa fa-check"></i><b>6</b> Measures of Association</a>
<ul>
<li class="chapter" data-level="6.1" data-path="measures-of-association.html"><a href="measures-of-association.html#pearson-correlation-coefficient"><i class="fa fa-check"></i><b>6.1</b> Pearson Correlation Coefficient</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="measures-of-association.html"><a href="measures-of-association.html#partial-correlation-and-confounding-variables"><i class="fa fa-check"></i><b>6.1.1</b> Partial Correlation and Confounding Variables</a></li>
<li class="chapter" data-level="6.1.2" data-path="measures-of-association.html"><a href="measures-of-association.html#properties-of-the-linear-correlation-coefficient"><i class="fa fa-check"></i><b>6.1.2</b> Properties of the Linear Correlation Coefficient</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="measures-of-association.html"><a href="measures-of-association.html#association-of-categorical-variables"><i class="fa fa-check"></i><b>6.2</b> Association of Categorical Variables</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="measures-of-association.html"><a href="measures-of-association.html#odds-ratios"><i class="fa fa-check"></i><b>6.2.1</b> Odds Ratios</a></li>
<li class="chapter" data-level="6.2.2" data-path="measures-of-association.html"><a href="measures-of-association.html#yules-q"><i class="fa fa-check"></i><b>6.2.2</b> Yule’s Q</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="measures-of-association.html"><a href="measures-of-association.html#rank-correlation"><i class="fa fa-check"></i><b>6.3</b> Rank Correlation</a></li>
<li class="chapter" data-level="6.4" data-path="measures-of-association.html"><a href="measures-of-association.html#autocorrelation"><i class="fa fa-check"></i><b>6.4</b> Autocorrelation</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="measures-of-association.html"><a href="measures-of-association.html#hot-hand"><i class="fa fa-check"></i><b>6.4.1</b> Hot Hand</a></li>
<li class="chapter" data-level="6.4.2" data-path="measures-of-association.html"><a href="measures-of-association.html#streakiness-in-sports"><i class="fa fa-check"></i><b>6.4.2</b> Streakiness in Sports</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="pythagorean-record.html"><a href="pythagorean-record.html"><i class="fa fa-check"></i><b>7</b> Pythagorean Record</a></li>
<li class="chapter" data-level="8" data-path="data-acquisition.html"><a href="data-acquisition.html"><i class="fa fa-check"></i><b>8</b> Data Acquisition</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-acquisition.html"><a href="data-acquisition.html#tabular-data-from-sports-reference"><i class="fa fa-check"></i><b>8.1</b> Tabular Data From Sports Reference</a></li>
<li class="chapter" data-level="8.2" data-path="data-acquisition.html"><a href="data-acquisition.html#downloading-datasets-from-internet"><i class="fa fa-check"></i><b>8.2</b> Downloading Datasets From Internet</a></li>
<li class="chapter" data-level="8.3" data-path="data-acquisition.html"><a href="data-acquisition.html#importing-data-using-r-libraries"><i class="fa fa-check"></i><b>8.3</b> Importing Data Using R Libraries</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="data-acquisition.html"><a href="data-acquisition.html#baseballr-package"><i class="fa fa-check"></i><b>8.3.1</b> BaseballR package</a></li>
<li class="chapter" data-level="8.3.2" data-path="data-acquisition.html"><a href="data-acquisition.html#nflfastr-package"><i class="fa fa-check"></i><b>8.3.2</b> nflfastR package</a></li>
<li class="chapter" data-level="8.3.3" data-path="data-acquisition.html"><a href="data-acquisition.html#hoopr-package"><i class="fa fa-check"></i><b>8.3.3</b> hoopR package</a></li>
<li class="chapter" data-level="8.3.4" data-path="data-acquisition.html"><a href="data-acquisition.html#hockeyr-package"><i class="fa fa-check"></i><b>8.3.4</b> hockeyR package</a></li>
<li class="chapter" data-level="8.3.5" data-path="data-acquisition.html"><a href="data-acquisition.html#worldfootballr"><i class="fa fa-check"></i><b>8.3.5</b> worldfootballR</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="data-acquisition.html"><a href="data-acquisition.html#data-scraping"><i class="fa fa-check"></i><b>8.4</b> Data Scraping</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="data-acquisition.html"><a href="data-acquisition.html#general-tips"><i class="fa fa-check"></i><b>8.4.1</b> General Tips</a></li>
<li class="chapter" data-level="8.4.2" data-path="data-acquisition.html"><a href="data-acquisition.html#introduction-to-html"><i class="fa fa-check"></i><b>8.4.2</b> Introduction to HTML</a></li>
<li class="chapter" data-level="8.4.3" data-path="data-acquisition.html"><a href="data-acquisition.html#rvest-package"><i class="fa fa-check"></i><b>8.4.3</b> rvest Package</a></li>
<li class="chapter" data-level="8.4.4" data-path="data-acquisition.html"><a href="data-acquisition.html#css-gadget-selector"><i class="fa fa-check"></i><b>8.4.4</b> CSS Gadget Selector</a></li>
<li class="chapter" data-level="8.4.5" data-path="data-acquisition.html"><a href="data-acquisition.html#scraping-examples"><i class="fa fa-check"></i><b>8.4.5</b> Scraping Examples</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>9</b> Linear Regression</a>
<ul>
<li class="chapter" data-level="9.1" data-path="linear-regression.html"><a href="linear-regression.html#simple-linear-regression"><i class="fa fa-check"></i><b>9.1</b> Simple Linear Regression</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="linear-regression.html"><a href="linear-regression.html#pythagorean-records"><i class="fa fa-check"></i><b>9.1.1</b> Pythagorean Records</a></li>
<li class="chapter" data-level="9.1.2" data-path="linear-regression.html"><a href="linear-regression.html#regression-to-the-mean"><i class="fa fa-check"></i><b>9.1.2</b> Regression to the Mean</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="linear-regression.html"><a href="linear-regression.html#variable-transformations"><i class="fa fa-check"></i><b>9.2</b> Variable Transformations</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="linear-regression.html"><a href="linear-regression.html#draft-pick-values"><i class="fa fa-check"></i><b>9.2.1</b> Draft Pick Values</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="linear-regression.html"><a href="linear-regression.html#multiple-linear-regression"><i class="fa fa-check"></i><b>9.3</b> Multiple Linear Regression</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="linear-regression.html"><a href="linear-regression.html#four-factors-and-winning"><i class="fa fa-check"></i><b>9.3.1</b> Four Factors and Winning</a></li>
<li class="chapter" data-level="9.3.2" data-path="linear-regression.html"><a href="linear-regression.html#linear-weights-in-baseball"><i class="fa fa-check"></i><b>9.3.2</b> Linear Weights in Baseball</a></li>
<li class="chapter" data-level="9.3.3" data-path="linear-regression.html"><a href="linear-regression.html#pass-air-yards-regression"><i class="fa fa-check"></i><b>9.3.3</b> Pass Air Yards Regression</a></li>
<li class="chapter" data-level="9.3.4" data-path="linear-regression.html"><a href="linear-regression.html#epl-passing-and-scoring"><i class="fa fa-check"></i><b>9.3.4</b> EPL Passing and Scoring</a></li>
<li class="chapter" data-level="9.3.5" data-path="linear-regression.html"><a href="linear-regression.html#hockey-ppg-vs-toi"><i class="fa fa-check"></i><b>9.3.5</b> Hockey PPG vs TOI</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="linear-regression.html"><a href="linear-regression.html#issues-with-multiyear-data"><i class="fa fa-check"></i><b>9.4</b> Issues with Multiyear Data</a></li>
<li class="chapter" data-level="9.5" data-path="linear-regression.html"><a href="linear-regression.html#interaction"><i class="fa fa-check"></i><b>9.5</b> Interaction</a></li>
<li class="chapter" data-level="9.6" data-path="linear-regression.html"><a href="linear-regression.html#confounding-variables"><i class="fa fa-check"></i><b>9.6</b> Confounding Variables</a></li>
<li class="chapter" data-level="9.7" data-path="linear-regression.html"><a href="linear-regression.html#logistic-regression"><i class="fa fa-check"></i><b>9.7</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="linear-regression.html"><a href="linear-regression.html#sack-and-interception-probability-models"><i class="fa fa-check"></i><b>9.7.1</b> Sack and Interception Probability Models</a></li>
<li class="chapter" data-level="9.7.2" data-path="linear-regression.html"><a href="linear-regression.html#soccer-goal-logistic-model"><i class="fa fa-check"></i><b>9.7.2</b> Soccer Goal Logistic Model</a></li>
<li class="chapter" data-level="9.7.3" data-path="linear-regression.html"><a href="linear-regression.html#field-goal-success"><i class="fa fa-check"></i><b>9.7.3</b> Field Goal Success</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-scraping-and-acquisition.html"><a href="data-scraping-and-acquisition.html"><i class="fa fa-check"></i><b>10</b> Data Scraping and Acquisition</a></li>
<li class="chapter" data-level="11" data-path="principal-component-analysis.html"><a href="principal-component-analysis.html"><i class="fa fa-check"></i><b>11</b> Principal Component Analysis</a></li>
<li class="chapter" data-level="12" data-path="clustering.html"><a href="clustering.html"><i class="fa fa-check"></i><b>12</b> Clustering</a></li>
<li class="chapter" data-level="13" data-path="classification.html"><a href="classification.html"><i class="fa fa-check"></i><b>13</b> Classification</a></li>
<li class="chapter" data-level="14" data-path="nonparametric-methods.html"><a href="nonparametric-methods.html"><i class="fa fa-check"></i><b>14</b> Nonparametric Methods</a></li>
<li class="chapter" data-level="15" data-path="sports-drafts.html"><a href="sports-drafts.html"><i class="fa fa-check"></i><b>15</b> Sports Drafts</a></li>
<li class="chapter" data-level="16" data-path="baseball-1.html"><a href="baseball-1.html"><i class="fa fa-check"></i><b>16</b> Baseball</a></li>
<li class="chapter" data-level="17" data-path="football-1.html"><a href="football-1.html"><i class="fa fa-check"></i><b>17</b> Football</a></li>
<li class="chapter" data-level="18" data-path="basketball-1.html"><a href="basketball-1.html"><i class="fa fa-check"></i><b>18</b> Basketball</a></li>
<li class="chapter" data-level="19" data-path="hockey-1.html"><a href="hockey-1.html"><i class="fa fa-check"></i><b>19</b> Hockey</a></li>
<li class="chapter" data-level="20" data-path="soccer-1.html"><a href="soccer-1.html"><i class="fa fa-check"></i><b>20</b> Soccer</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Sports Analytics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="measures-of-association" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">Chapter 6</span> Measures of Association<a href="measures-of-association.html#measures-of-association" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This chapter will examine various measures of association betweeen two or more variables. A popular measure of association is Pearson’s Correlation Coefficient for two continuous, quantitative variables. Other measures of association are more appropriate for other types of data like qualitative data.</p>
<div id="pearson-correlation-coefficient" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Pearson Correlation Coefficient<a href="measures-of-association.html#pearson-correlation-coefficient" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="definition">
<p><span id="def:unlabeled-div-160" class="definition"><strong>Definition 6.1  </strong></span>The <strong><em>Pearson correlation coefficient</em></strong> (also known as <strong><em>Pearson’s R</em></strong> or <strong><em>correlation coefficient</em></strong>) is a measure of linear relationship between two quantitative variables.</p>
<p>For two random variables, <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>, the Pearson correlation coefficient, <span class="math inline">\(\rho\)</span>, is:</p>
<p><span class="math inline">\(\rho = \frac{Cov(X,Y)}{\sigma_X \sigma_Y}\)</span></p>
<p>For two sets of sample data, <span class="math inline">\(\{x_1,x_2,\ldots,x_n\}\)</span> and <span class="math inline">\(\{y_1,y_2,\ldots,y_n\}\)</span>, the Pearson correlation coefficient is:</p>
<p><span class="math inline">\(r_{xy} = \frac{\sum_{i=1}^n (x_i-\bar{x})(y_i-\bar{y})}{\sqrt{\sum_{i=1}^n(x_i-\bar{x})^2}\sqrt{\sum_{i=1}^n(y_i-\bar{y})^2}}\)</span></p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-161" class="example"><strong>Example 6.1  </strong></span>Download pitching data for individual pitchers in the 2022 MLB season. Investigate the correlation between common pitching statistics.</p>
</div>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="measures-of-association.html#cb315-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb315-2"><a href="measures-of-association.html#cb315-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb315-3"><a href="measures-of-association.html#cb315-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(baseballr)</span>
<span id="cb315-4"><a href="measures-of-association.html#cb315-4" aria-hidden="true" tabindex="-1"></a>mlb22_all <span class="ot">&lt;-</span> <span class="fu">bref_daily_pitcher</span>(<span class="st">&quot;2022-01-01&quot;</span>, <span class="st">&quot;2022-12-31&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb315-5"><a href="measures-of-association.html#cb315-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fip_plus</span>()</span>
<span id="cb315-6"><a href="measures-of-association.html#cb315-6" aria-hidden="true" tabindex="-1"></a>mlb22_pitch <span class="ot">&lt;-</span> mlb22_all <span class="sc">%&gt;%</span>  </span>
<span id="cb315-7"><a href="measures-of-association.html#cb315-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Name, IP, SO, uBB, HR, ERA, FIP) <span class="sc">%&gt;%</span></span>
<span id="cb315-8"><a href="measures-of-association.html#cb315-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(dplyr<span class="sc">::</span><span class="fu">desc</span>(IP))</span>
<span id="cb315-9"><a href="measures-of-association.html#cb315-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb315-10"><a href="measures-of-association.html#cb315-10" aria-hidden="true" tabindex="-1"></a>mlb22_pitch <span class="sc">%&gt;%</span> </span>
<span id="cb315-11"><a href="measures-of-association.html#cb315-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n=</span><span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb315-12"><a href="measures-of-association.html#cb315-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">booktabs=</span>T)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Name
</th>
<th style="text-align:right;">
IP
</th>
<th style="text-align:right;">
SO
</th>
<th style="text-align:right;">
uBB
</th>
<th style="text-align:right;">
HR
</th>
<th style="text-align:right;">
ERA
</th>
<th style="text-align:right;">
FIP
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Sandy Alcantara
</td>
<td style="text-align:right;">
228.2
</td>
<td style="text-align:right;">
207
</td>
<td style="text-align:right;">
49
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
2.28
</td>
<td style="text-align:right;">
2.97
</td>
</tr>
<tr>
<td style="text-align:left;">
Aaron Nola
</td>
<td style="text-align:right;">
205.0
</td>
<td style="text-align:right;">
235
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
3.25
</td>
<td style="text-align:right;">
2.57
</td>
</tr>
<tr>
<td style="text-align:left;">
Miles Mikolas
</td>
<td style="text-align:right;">
202.1
</td>
<td style="text-align:right;">
153
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
3.29
</td>
<td style="text-align:right;">
3.87
</td>
</tr>
<tr>
<td style="text-align:left;">
Corbin Burnes
</td>
<td style="text-align:right;">
202.0
</td>
<td style="text-align:right;">
243
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
2.94
</td>
<td style="text-align:right;">
3.14
</td>
</tr>
<tr>
<td style="text-align:left;">
Framber Valdez
</td>
<td style="text-align:right;">
201.1
</td>
<td style="text-align:right;">
194
</td>
<td style="text-align:right;">
67
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
2.82
</td>
<td style="text-align:right;">
3.06
</td>
</tr>
<tr>
<td style="text-align:left;">
Gerrit Cole
</td>
<td style="text-align:right;">
200.2
</td>
<td style="text-align:right;">
257
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;">
3.50
</td>
<td style="text-align:right;">
3.47
</td>
</tr>
<tr>
<td style="text-align:left;">
Merrill Kelly
</td>
<td style="text-align:right;">
200.1
</td>
<td style="text-align:right;">
177
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
3.37
</td>
<td style="text-align:right;">
3.62
</td>
</tr>
<tr>
<td style="text-align:left;">
Shane Bieber
</td>
<td style="text-align:right;">
200.0
</td>
<td style="text-align:right;">
198
</td>
<td style="text-align:right;">
36
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
2.88
</td>
<td style="text-align:right;">
2.87
</td>
</tr>
<tr>
<td style="text-align:left;">
Alek Manoah
</td>
<td style="text-align:right;">
196.2
</td>
<td style="text-align:right;">
180
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
2.24
</td>
<td style="text-align:right;">
3.35
</td>
</tr>
<tr>
<td style="text-align:left;">
MartÃ­n PÃ©rez
</td>
<td style="text-align:right;">
196.1
</td>
<td style="text-align:right;">
169
</td>
<td style="text-align:right;">
69
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
2.89
</td>
<td style="text-align:right;">
3.26
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb316-1"><a href="measures-of-association.html#cb316-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb316-2"><a href="measures-of-association.html#cb316-2" aria-hidden="true" tabindex="-1"></a>mlb22_pitch <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>Name) <span class="sc">%&gt;%</span> <span class="fu">ggpairs</span>()</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-133-1.png" width="672" /></p>
<div style="page-break-after: always;"></div>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb317-1"><a href="measures-of-association.html#cb317-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ellipse)</span>
<span id="cb317-2"><a href="measures-of-association.html#cb317-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb317-3"><a href="measures-of-association.html#cb317-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb317-4"><a href="measures-of-association.html#cb317-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Use of the mtcars data proposed by R</span></span>
<span id="cb317-5"><a href="measures-of-association.html#cb317-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> mlb22_pitch <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>Name) <span class="sc">%&gt;%</span> <span class="fu">cor</span>()</span>
<span id="cb317-6"><a href="measures-of-association.html#cb317-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb317-7"><a href="measures-of-association.html#cb317-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Build a Pannel of 100 colors with Rcolor Brewer</span></span>
<span id="cb317-8"><a href="measures-of-association.html#cb317-8" aria-hidden="true" tabindex="-1"></a>my_colors <span class="ot">&lt;-</span> <span class="fu">brewer.pal</span>(<span class="dv">5</span>, <span class="st">&quot;Spectral&quot;</span>)</span>
<span id="cb317-9"><a href="measures-of-association.html#cb317-9" aria-hidden="true" tabindex="-1"></a>my_colors <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(my_colors)(<span class="dv">100</span>)</span>
<span id="cb317-10"><a href="measures-of-association.html#cb317-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb317-11"><a href="measures-of-association.html#cb317-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Order the correlation matrix</span></span>
<span id="cb317-12"><a href="measures-of-association.html#cb317-12" aria-hidden="true" tabindex="-1"></a>ord <span class="ot">&lt;-</span> <span class="fu">order</span>(data[<span class="dv">1</span>, ])</span>
<span id="cb317-13"><a href="measures-of-association.html#cb317-13" aria-hidden="true" tabindex="-1"></a>data_ord <span class="ot">&lt;-</span> data[ord, ord]</span>
<span id="cb317-14"><a href="measures-of-association.html#cb317-14" aria-hidden="true" tabindex="-1"></a><span class="fu">plotcorr</span>(data_ord, <span class="at">col=</span>my_colors[data_ord<span class="sc">*</span><span class="dv">50</span><span class="sc">+</span><span class="dv">50</span>], <span class="at">mar=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>))</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-134-1.png" width="672" /></p>
<div style="page-break-after: always;"></div>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="measures-of-association.html#cb318-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example adapted from: </span></span>
<span id="cb318-2"><a href="measures-of-association.html#cb318-2" aria-hidden="true" tabindex="-1"></a><span class="co"># https://r-graph-gallery.com/273-custom-your-scatterplot-ggplot2.html</span></span>
<span id="cb318-3"><a href="measures-of-association.html#cb318-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb318-4"><a href="measures-of-association.html#cb318-4" aria-hidden="true" tabindex="-1"></a>mlb22_pitch <span class="sc">%&gt;%</span></span>
<span id="cb318-5"><a href="measures-of-association.html#cb318-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>IP,<span class="at">y=</span>SO)) <span class="sc">+</span></span>
<span id="cb318-6"><a href="measures-of-association.html#cb318-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb318-7"><a href="measures-of-association.html#cb318-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">color=</span><span class="st">&quot;black&quot;</span>,</span>
<span id="cb318-8"><a href="measures-of-association.html#cb318-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill=</span><span class="st">&quot;#69b3a2&quot;</span>,</span>
<span id="cb318-9"><a href="measures-of-association.html#cb318-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape=</span><span class="dv">22</span>,</span>
<span id="cb318-10"><a href="measures-of-association.html#cb318-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha=</span><span class="fl">0.5</span>,</span>
<span id="cb318-11"><a href="measures-of-association.html#cb318-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">size=</span><span class="dv">2</span></span>
<span id="cb318-12"><a href="measures-of-association.html#cb318-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb318-13"><a href="measures-of-association.html#cb318-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm,<span class="at">se=</span>F,<span class="at">color=</span><span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb318-14"><a href="measures-of-association.html#cb318-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Innings Pitched vs. Strikeouts&quot;</span>,</span>
<span id="cb318-15"><a href="measures-of-association.html#cb318-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;2022 MLB Season | Individual Pitchers&quot;</span>,</span>
<span id="cb318-16"><a href="measures-of-association.html#cb318-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Data: Baseball Reference via baseballr&quot;</span>, </span>
<span id="cb318-17"><a href="measures-of-association.html#cb318-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Innings Pitched (IP)&quot;</span>,</span>
<span id="cb318-18"><a href="measures-of-association.html#cb318-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Strikeouts (SO)&quot;</span>) <span class="sc">+</span></span>
<span id="cb318-19"><a href="measures-of-association.html#cb318-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_cor</span>(<span class="at">method =</span> <span class="st">&quot;pearson&quot;</span>, <span class="at">label.x =</span> <span class="dv">155</span>, <span class="at">label.y =</span> <span class="dv">70</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-135-1.png" width="672" /></p>
<div style="page-break-after: always;"></div>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="measures-of-association.html#cb319-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggExtra)</span>
<span id="cb319-2"><a href="measures-of-association.html#cb319-2" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> mlb22_pitch <span class="sc">%&gt;%</span></span>
<span id="cb319-3"><a href="measures-of-association.html#cb319-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>SO,<span class="at">y=</span>ERA)) <span class="sc">+</span></span>
<span id="cb319-4"><a href="measures-of-association.html#cb319-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb319-5"><a href="measures-of-association.html#cb319-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggMarginal</span>(p, <span class="at">type=</span><span class="st">&quot;histogram&quot;</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-136-1.png" width="672" /></p>
<div style="page-break-after: always;"></div>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="measures-of-association.html#cb320-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb320-2"><a href="measures-of-association.html#cb320-2" aria-hidden="true" tabindex="-1"></a>color_pal <span class="ot">&lt;-</span> <span class="fu">brewer.pal</span>(<span class="at">n =</span> <span class="dv">8</span>, <span class="at">name =</span> <span class="st">&quot;Dark2&quot;</span>)</span>
<span id="cb320-3"><a href="measures-of-association.html#cb320-3" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> mlb22_pitch <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ERA <span class="sc">&lt;=</span> <span class="fl">10.00</span>) <span class="sc">%&gt;%</span></span>
<span id="cb320-4"><a href="measures-of-association.html#cb320-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>SO,<span class="at">y=</span>ERA)) <span class="sc">+</span></span>
<span id="cb320-5"><a href="measures-of-association.html#cb320-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.5</span>,<span class="at">color=</span>color_pal[<span class="dv">1</span>]) <span class="sc">+</span></span>
<span id="cb320-6"><a href="measures-of-association.html#cb320-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>,<span class="at">color=</span>color_pal[<span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb320-7"><a href="measures-of-association.html#cb320-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_cor</span>(<span class="at">method =</span> <span class="st">&quot;pearson&quot;</span>, <span class="at">label.x =</span> <span class="dv">185</span>, <span class="at">label.y =</span> <span class="fl">5.8</span>) <span class="sc">+</span></span>
<span id="cb320-8"><a href="measures-of-association.html#cb320-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Strikeouts (SO) vs. Earned Run Average (ERA)&quot;</span>,</span>
<span id="cb320-9"><a href="measures-of-association.html#cb320-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;2022 MLB Season | Individual Pitchers&quot;</span>,</span>
<span id="cb320-10"><a href="measures-of-association.html#cb320-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Data: Baseball Reference via baseballr&quot;</span>, </span>
<span id="cb320-11"><a href="measures-of-association.html#cb320-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Innings Pitched (IP)&quot;</span>,</span>
<span id="cb320-12"><a href="measures-of-association.html#cb320-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Earned Run Average (ERA)&quot;</span>)</span>
<span id="cb320-13"><a href="measures-of-association.html#cb320-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggMarginal</span>(p, <span class="at">type=</span><span class="st">&quot;histogram&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;
## `geom_smooth()` using formula = &#39;y ~ x&#39;
## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="textbook_files/figure-html/unnamed-chunk-137-1.png" width="672" /></p>
<div style="page-break-after: always;"></div>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="measures-of-association.html#cb322-1" aria-hidden="true" tabindex="-1"></a>mlb22_pitch <span class="sc">%&gt;%</span> </span>
<span id="cb322-2"><a href="measures-of-association.html#cb322-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>ERA,<span class="at">y=</span>FIP)) <span class="sc">+</span></span>
<span id="cb322-3"><a href="measures-of-association.html#cb322-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.5</span>,<span class="at">color=</span>color_pal[<span class="dv">1</span>]) <span class="sc">+</span></span>
<span id="cb322-4"><a href="measures-of-association.html#cb322-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb322-5"><a href="measures-of-association.html#cb322-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb322-6"><a href="measures-of-association.html#cb322-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb322-7"><a href="measures-of-association.html#cb322-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Earned Run Average (ERA) vs. Fielding Independent Pitching (FIP)&quot;</span>,</span>
<span id="cb322-8"><a href="measures-of-association.html#cb322-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;2022 MLB Season | Individual Pitchers&quot;</span>,</span>
<span id="cb322-9"><a href="measures-of-association.html#cb322-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Data: Baseball Reference via baseballr&quot;</span>, </span>
<span id="cb322-10"><a href="measures-of-association.html#cb322-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Earned Run Average (ERA)&quot;</span>,</span>
<span id="cb322-11"><a href="measures-of-association.html#cb322-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Fielding Independent Pitching (FIP)&quot;</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-138-1.png" width="672" /></p>
<div style="page-break-after: always;"></div>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="measures-of-association.html#cb323-1" aria-hidden="true" tabindex="-1"></a>rox22_pitch <span class="ot">&lt;-</span> mlb22_all <span class="sc">%&gt;%</span> </span>
<span id="cb323-2"><a href="measures-of-association.html#cb323-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name,Team,IP,H,uBB,ERA,FIP) <span class="sc">%&gt;%</span> </span>
<span id="cb323-3"><a href="measures-of-association.html#cb323-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Team<span class="sc">==</span><span class="st">&quot;Colorado&quot;</span>)</span>
<span id="cb323-4"><a href="measures-of-association.html#cb323-4" aria-hidden="true" tabindex="-1"></a>rox22_pitch <span class="sc">%&gt;%</span> </span>
<span id="cb323-5"><a href="measures-of-association.html#cb323-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(IP)) <span class="sc">%&gt;%</span> </span>
<span id="cb323-6"><a href="measures-of-association.html#cb323-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">booktabs=</span>T)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Name
</th>
<th style="text-align:left;">
Team
</th>
<th style="text-align:right;">
IP
</th>
<th style="text-align:right;">
H
</th>
<th style="text-align:right;">
uBB
</th>
<th style="text-align:right;">
ERA
</th>
<th style="text-align:right;">
FIP
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
GermÃ¡n MÃ¡rquez
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
181.2
</td>
<td style="text-align:right;">
185
</td>
<td style="text-align:right;">
63
</td>
<td style="text-align:right;">
4.95
</td>
<td style="text-align:right;">
4.72
</td>
</tr>
<tr>
<td style="text-align:left;">
Kyle Freeland
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
174.2
</td>
<td style="text-align:right;">
193
</td>
<td style="text-align:right;">
53
</td>
<td style="text-align:right;">
4.53
</td>
<td style="text-align:right;">
4.21
</td>
</tr>
<tr>
<td style="text-align:left;">
Chad Kuhl
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
137.0
</td>
<td style="text-align:right;">
155
</td>
<td style="text-align:right;">
57
</td>
<td style="text-align:right;">
5.72
</td>
<td style="text-align:right;">
5.24
</td>
</tr>
<tr>
<td style="text-align:left;">
Austin Gomber
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
124.2
</td>
<td style="text-align:right;">
137
</td>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;">
5.56
</td>
<td style="text-align:right;">
4.52
</td>
</tr>
<tr>
<td style="text-align:left;">
Ryan Feltner
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
97.1
</td>
<td style="text-align:right;">
102
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
5.83
</td>
<td style="text-align:right;">
4.76
</td>
</tr>
<tr>
<td style="text-align:left;">
Antonio Senzatela
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
92.1
</td>
<td style="text-align:right;">
133
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
5.07
</td>
<td style="text-align:right;">
4.06
</td>
</tr>
<tr>
<td style="text-align:left;">
Daniel Bard
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
60.1
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
1.79
</td>
<td style="text-align:right;">
2.81
</td>
</tr>
<tr>
<td style="text-align:left;">
Carlos EstÃ©vez
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
57.0
</td>
<td style="text-align:right;">
44
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
3.47
</td>
<td style="text-align:right;">
4.02
</td>
</tr>
<tr>
<td style="text-align:left;">
Jake Bird
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
47.2
</td>
<td style="text-align:right;">
45
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
4.91
</td>
<td style="text-align:right;">
4.79
</td>
</tr>
<tr>
<td style="text-align:left;">
Jhoulys ChacÃ­n
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
47.1
</td>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
7.61
</td>
<td style="text-align:right;">
4.94
</td>
</tr>
<tr>
<td style="text-align:left;">
Alex ColomÃ©
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
47.0
</td>
<td style="text-align:right;">
57
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
5.74
</td>
<td style="text-align:right;">
4.41
</td>
</tr>
<tr>
<td style="text-align:left;">
Ty Blach
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
44.1
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
5.89
</td>
<td style="text-align:right;">
3.72
</td>
</tr>
<tr>
<td style="text-align:left;">
Lucas Gilbreath
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
43.0
</td>
<td style="text-align:right;">
37
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
4.19
</td>
<td style="text-align:right;">
3.53
</td>
</tr>
<tr>
<td style="text-align:left;">
Justin Lawrence
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
42.2
</td>
<td style="text-align:right;">
44
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
5.70
</td>
<td style="text-align:right;">
3.40
</td>
</tr>
<tr>
<td style="text-align:left;">
Tyler Kinley
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
24.0
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0.75
</td>
<td style="text-align:right;">
1.74
</td>
</tr>
<tr>
<td style="text-align:left;">
Ashton Goudeau
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
20.1
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
7.08
</td>
<td style="text-align:right;">
4.95
</td>
</tr>
<tr>
<td style="text-align:left;">
Chad Smith
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
18.0
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
7.50
</td>
<td style="text-align:right;">
4.83
</td>
</tr>
<tr>
<td style="text-align:left;">
Gavin Hollowell
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
7.0
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
7.71
</td>
<td style="text-align:right;">
4.40
</td>
</tr>
<tr>
<td style="text-align:left;">
Jordan Sheffield
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
5.11
</td>
</tr>
<tr>
<td style="text-align:left;">
Noah Davis
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
18.00
</td>
<td style="text-align:right;">
15.11
</td>
</tr>
<tr>
<td style="text-align:left;">
Brian Serven
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
6.11
</td>
</tr>
<tr>
<td style="text-align:left;">
Randal Grichuk
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
3.11
</td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb324-1"><a href="measures-of-association.html#cb324-1" aria-hidden="true" tabindex="-1"></a>rox22_pitch <span class="sc">%&gt;%</span> </span>
<span id="cb324-2"><a href="measures-of-association.html#cb324-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>H,<span class="at">y=</span>uBB,<span class="at">size=</span>IP)) <span class="sc">+</span></span>
<span id="cb324-3"><a href="measures-of-association.html#cb324-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.5</span>,<span class="at">color=</span>color_pal[<span class="dv">1</span>]) <span class="sc">+</span></span>
<span id="cb324-4"><a href="measures-of-association.html#cb324-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Colorado Rockies Pitchers: Hits Allowed vs. Unintentional Walks&quot;</span>,</span>
<span id="cb324-5"><a href="measures-of-association.html#cb324-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;2022 MLB Season | Individual Pitchers&quot;</span>,</span>
<span id="cb324-6"><a href="measures-of-association.html#cb324-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Data: Baseball Reference via baseballr&quot;</span>, </span>
<span id="cb324-7"><a href="measures-of-association.html#cb324-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Hits Allowed (H)&quot;</span>,</span>
<span id="cb324-8"><a href="measures-of-association.html#cb324-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Unintentional Walks (uBB)&quot;</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-140-1.png" width="672" /></p>
<div style="page-break-after: always;"></div>
<div id="partial-correlation-and-confounding-variables" class="section level3 hasAnchor" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> Partial Correlation and Confounding Variables<a href="measures-of-association.html#partial-correlation-and-confounding-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As seen in the previous example, counting statistics are often highly correlated. In particular, we may want to speculate that pitchers with poor control (high walks) tend to give up lots of hits due to poor control. This is only due to the presence of a <strong><em>lurking variable</em></strong> (innings pitched). To account for a lurking variable, one can calculate partial correlation coefficient in such situations.</p>
<div class="example">
<p><span id="exm:unlabeled-div-162" class="example"><strong>Example 6.2  </strong></span>Let <span class="math inline">\(X,Y,Z\)</span> be random variables and let <span class="math inline">\(r_{XY}\)</span> be the (standard) correlation coefficient between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>. The <strong><em>partial correlation coefficient</em></strong> of <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>, controlling for <span class="math inline">\(Z\)</span> is:</p>
<p><span class="math inline">\(r_{XY \bullet Z} = \frac{r_{XY}-r_{XZ}r_{YZ}}{\sqrt{1-r_{XZ}^2}\sqrt{1-r_{YZ}^2}}\)</span></p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-163" class="example"><strong>Example 6.3  </strong></span>Calculate the correlation between strikeouts and (unintentional) walks for pitchers with at least 20 IP during the 2022 season, with and without controlling for innings pitched.</p>
</div>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="measures-of-association.html#cb325-1" aria-hidden="true" tabindex="-1"></a>( cor_matrix <span class="ot">&lt;-</span> mlb22_all <span class="sc">%&gt;%</span> <span class="fu">select</span>(H,uBB,IP) <span class="sc">%&gt;%</span> <span class="fu">cor</span>() )</span></code></pre></div>
<pre><code>##             H       uBB        IP
## H   1.0000000 0.8766316 0.9698289
## uBB 0.8766316 1.0000000 0.8927844
## IP  0.9698289 0.8927844 1.0000000</code></pre>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="measures-of-association.html#cb327-1" aria-hidden="true" tabindex="-1"></a>( cor_without <span class="ot">&lt;-</span> cor_matrix[<span class="dv">1</span>,<span class="dv">2</span>] )</span></code></pre></div>
<pre><code>## [1] 0.8766316</code></pre>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="measures-of-association.html#cb329-1" aria-hidden="true" tabindex="-1"></a>( cor_with <span class="ot">&lt;-</span> (cor_matrix[<span class="dv">1</span>,<span class="dv">2</span>] <span class="sc">-</span> cor_matrix[<span class="dv">1</span>,<span class="dv">3</span>]<span class="sc">*</span>cor_matrix[<span class="dv">2</span>,<span class="dv">3</span>]) <span class="sc">/</span></span>
<span id="cb329-2"><a href="measures-of-association.html#cb329-2" aria-hidden="true" tabindex="-1"></a>    (<span class="fu">sqrt</span>(<span class="dv">1</span><span class="sc">-</span>cor_matrix[<span class="dv">1</span>,<span class="dv">3</span>]<span class="sc">^</span><span class="dv">2</span>)<span class="sc">*</span><span class="fu">sqrt</span>(<span class="dv">1</span><span class="sc">-</span>cor_matrix[<span class="dv">2</span>,<span class="dv">3</span>]<span class="sc">^</span><span class="dv">2</span>)) )</span></code></pre></div>
<pre><code>## [1] 0.09819068</code></pre>
<div style="page-break-after: always;"></div>
</div>
<div id="properties-of-the-linear-correlation-coefficient" class="section level3 hasAnchor" number="6.1.2">
<h3><span class="header-section-number">6.1.2</span> Properties of the Linear Correlation Coefficient<a href="measures-of-association.html#properties-of-the-linear-correlation-coefficient" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Pearson’s correlation coefficient is unaffected by changes in location (adding a constant) or scale (multiplying by a constant) of data. To illustrate this concept, let’s consider the correlation between the number of points scored by the winning team of the Super Bowl and 1) the number of the Super Bowl {1, 2, 3, … , 56} and 2) the year of the Super Bowl {1967, 1968, 1969, … , 2022}.</p>
<p><img src="textbook_files/figure-html/correlation%20properties%202-1.png" width="672" /></p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="measures-of-association.html#cb331-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(Super_Bowl_Number, Winning_Team_Points)</span></code></pre></div>
<pre><code>## [1] 0.1063479</code></pre>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="measures-of-association.html#cb333-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(Super_Bowl_Year, Winning_Team_Points)</span></code></pre></div>
<pre><code>## [1] 0.1063479</code></pre>
<p>The only difference between the two plots is that the x-axis is shifted. Since the change is essentially a linear (location) transformation, the correlations are identical.</p>
<p>Note: The correlations were equal only because there has been a one-to-one relationship between Super Bowl number and year since 1967. Major League Baseball has had years in which no World Series was held (1904 - boycott, 1994 - players’ strike); thus, the same example applied to the MLB would produce slightly different correlation coefficients.</p>
<!-- Q: The correlation coefficient is positive. What does this mean in terms of the trend of number of points scored by Super Bowl winners over time? -->
<!-- A: Winners of more recent Super Bowls are more likely to have scored more points than winners of older Super Bowls. -->
<!-- In a similar way to the example above, the correlation between a basketball player's career field goal attempts and three-pointers made and the correlation between the same player's career FGA and points scored from three-point field goals are exactly the same, due to the scale invariance property of correlation. -->
<!-- Note to Aaron: This could be a good homework exercise. Find data or simulate career FGA and 3PM for basketball players, then show that the two correlations described above are equal. -->
<div style="page-break-after: always;"></div>
</div>
</div>
<div id="association-of-categorical-variables" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Association of Categorical Variables<a href="measures-of-association.html#association-of-categorical-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While Pearson’s correlations can be used to find associations between categorical variables, there are better measures to be used.</p>
<div class="example">
<p><span id="exm:unlabeled-div-164" class="example"><strong>Example 6.4  </strong></span>(From <em>Analytic Methods in Sports</em>) Suppose we are given the following partial contingency table that tabulates the number of “complete games” for a starting pitcher by league.</p>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
Yes
</th>
<th style="text-align:left;">
No
</th>
<th style="text-align:right;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
NL
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
2592
</td>
</tr>
<tr>
<td style="text-align:left;">
AL
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
2268
</td>
</tr>
<tr>
<td style="text-align:left;">
Total
</td>
<td style="text-align:left;">
128
</td>
<td style="text-align:left;">
4732
</td>
<td style="text-align:right;">
4860
</td>
</tr>
</tbody>
</table>
<p>Choose values to give the largest and smallest correlations.</p>
</div>
<p><strong><em>Example 1: Small correlation</em></strong><br />
</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="measures-of-association.html#cb335-1" aria-hidden="true" tabindex="-1"></a>League <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">2592</span>),<span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">2268</span>))</span>
<span id="cb335-2"><a href="measures-of-association.html#cb335-2" aria-hidden="true" tabindex="-1"></a>Complete <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">4860</span>)</span>
<span id="cb335-3"><a href="measures-of-association.html#cb335-3" aria-hidden="true" tabindex="-1"></a>Complete[<span class="dv">1</span><span class="sc">:</span><span class="dv">68</span>] <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb335-4"><a href="measures-of-association.html#cb335-4" aria-hidden="true" tabindex="-1"></a>Complete[<span class="dv">2593</span><span class="sc">:</span>(<span class="dv">2593</span><span class="sc">+</span><span class="dv">59</span>)]<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb335-5"><a href="measures-of-association.html#cb335-5" aria-hidden="true" tabindex="-1"></a>small_corr <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(League,Complete)</span>
<span id="cb335-6"><a href="measures-of-association.html#cb335-6" aria-hidden="true" tabindex="-1"></a>small_corr_table <span class="ot">&lt;-</span> <span class="fu">table</span>(small_corr)</span>
<span id="cb335-7"><a href="measures-of-association.html#cb335-7" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(small_corr_table) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;NL&quot;</span>,<span class="st">&quot;AL&quot;</span>)</span>
<span id="cb335-8"><a href="measures-of-association.html#cb335-8" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(small_corr_table) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;No&quot;</span>,<span class="st">&quot;Yes&quot;</span>)</span>
<span id="cb335-9"><a href="measures-of-association.html#cb335-9" aria-hidden="true" tabindex="-1"></a>small_corr_table <span class="sc">%&gt;%</span> <span class="fu">kable</span>(<span class="at">booktabs=</span>T,<span class="at">digits =</span> <span class="dv">3</span>)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
No
</th>
<th style="text-align:right;">
Yes
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
NL
</td>
<td style="text-align:right;">
2524
</td>
<td style="text-align:right;">
68
</td>
</tr>
<tr>
<td style="text-align:left;">
AL
</td>
<td style="text-align:right;">
2208
</td>
<td style="text-align:right;">
60
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb336-1"><a href="measures-of-association.html#cb336-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(small_corr) <span class="sc">%&gt;%</span> <span class="fu">kable</span>(<span class="at">booktabs=</span>T,<span class="at">digits =</span> <span class="dv">3</span>)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
League
</th>
<th style="text-align:right;">
Complete
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
League
</td>
<td style="text-align:right;">
1.000
</td>
<td style="text-align:right;">
0.001
</td>
</tr>
<tr>
<td style="text-align:left;">
Complete
</td>
<td style="text-align:right;">
0.001
</td>
<td style="text-align:right;">
1.000
</td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<p><strong><em>Example 2: Large correlation (1)</em></strong><br />
</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="measures-of-association.html#cb337-1" aria-hidden="true" tabindex="-1"></a>Complete <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">4860</span>)</span>
<span id="cb337-2"><a href="measures-of-association.html#cb337-2" aria-hidden="true" tabindex="-1"></a>Complete[<span class="dv">1</span><span class="sc">:</span><span class="dv">128</span>] <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb337-3"><a href="measures-of-association.html#cb337-3" aria-hidden="true" tabindex="-1"></a>large_corr1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(League,Complete)</span>
<span id="cb337-4"><a href="measures-of-association.html#cb337-4" aria-hidden="true" tabindex="-1"></a>large_corr1_table <span class="ot">&lt;-</span> <span class="fu">table</span>(large_corr1)</span>
<span id="cb337-5"><a href="measures-of-association.html#cb337-5" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(large_corr1_table) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;NL&quot;</span>,<span class="st">&quot;AL&quot;</span>)</span>
<span id="cb337-6"><a href="measures-of-association.html#cb337-6" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(large_corr1_table) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;No&quot;</span>,<span class="st">&quot;Yes&quot;</span>)</span>
<span id="cb337-7"><a href="measures-of-association.html#cb337-7" aria-hidden="true" tabindex="-1"></a>large_corr1_table <span class="sc">%&gt;%</span> <span class="fu">kable</span>(<span class="at">booktabs=</span>T,<span class="at">digits =</span> <span class="dv">3</span>)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
No
</th>
<th style="text-align:right;">
Yes
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
NL
</td>
<td style="text-align:right;">
2464
</td>
<td style="text-align:right;">
128
</td>
</tr>
<tr>
<td style="text-align:left;">
AL
</td>
<td style="text-align:right;">
2268
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="measures-of-association.html#cb338-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(large_corr1) <span class="sc">%&gt;%</span> <span class="fu">kable</span>(<span class="at">booktabs=</span>T,<span class="at">digits =</span> <span class="dv">3</span>)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
League
</th>
<th style="text-align:right;">
Complete
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
League
</td>
<td style="text-align:right;">
1.000
</td>
<td style="text-align:right;">
-0.154
</td>
</tr>
<tr>
<td style="text-align:left;">
Complete
</td>
<td style="text-align:right;">
-0.154
</td>
<td style="text-align:right;">
1.000
</td>
</tr>
</tbody>
</table>
<p><strong><em>Example 3: Large correlation (2)</em></strong><br />
</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb339-1"><a href="measures-of-association.html#cb339-1" aria-hidden="true" tabindex="-1"></a>Complete <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">4860</span>)</span>
<span id="cb339-2"><a href="measures-of-association.html#cb339-2" aria-hidden="true" tabindex="-1"></a>Complete[<span class="dv">2593</span><span class="sc">:</span>(<span class="dv">2593</span><span class="sc">+</span><span class="dv">127</span>)] <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb339-3"><a href="measures-of-association.html#cb339-3" aria-hidden="true" tabindex="-1"></a>large_corr2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(League,Complete)</span>
<span id="cb339-4"><a href="measures-of-association.html#cb339-4" aria-hidden="true" tabindex="-1"></a>large_corr2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(League,Complete)</span>
<span id="cb339-5"><a href="measures-of-association.html#cb339-5" aria-hidden="true" tabindex="-1"></a>large_corr2_table <span class="ot">&lt;-</span> <span class="fu">table</span>(large_corr2)</span>
<span id="cb339-6"><a href="measures-of-association.html#cb339-6" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(large_corr2_table) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;NL&quot;</span>,<span class="st">&quot;AL&quot;</span>)</span>
<span id="cb339-7"><a href="measures-of-association.html#cb339-7" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(large_corr2_table) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;No&quot;</span>,<span class="st">&quot;Yes&quot;</span>)</span>
<span id="cb339-8"><a href="measures-of-association.html#cb339-8" aria-hidden="true" tabindex="-1"></a>large_corr2_table <span class="sc">%&gt;%</span> <span class="fu">kable</span>(<span class="at">booktabs=</span>T,<span class="at">digits =</span> <span class="dv">3</span>)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
No
</th>
<th style="text-align:right;">
Yes
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
NL
</td>
<td style="text-align:right;">
2592
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
AL
</td>
<td style="text-align:right;">
2140
</td>
<td style="text-align:right;">
128
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb340-1"><a href="measures-of-association.html#cb340-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(large_corr2) <span class="sc">%&gt;%</span> <span class="fu">kable</span>(<span class="at">booktabs=</span>T,<span class="at">digits =</span> <span class="dv">3</span>)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
League
</th>
<th style="text-align:right;">
Complete
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
League
</td>
<td style="text-align:right;">
1.000
</td>
<td style="text-align:right;">
0.176
</td>
</tr>
<tr>
<td style="text-align:left;">
Complete
</td>
<td style="text-align:right;">
0.176
</td>
<td style="text-align:right;">
1.000
</td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<div id="odds-ratios" class="section level3 hasAnchor" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> Odds Ratios<a href="measures-of-association.html#odds-ratios" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> be two binary, categorical variables with the following contingency table.</p>
<table>
<tbody>
<tr>
<td style="text-align:left;">
Y  X
</td>
<td style="text-align:left;">
Yes
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
Total
</td>
</tr>
<tr>
<td style="text-align:left;">
No
</td>
<td style="text-align:left;">
a
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
a+c
</td>
</tr>
<tr>
<td style="text-align:left;">
Yes
</td>
<td style="text-align:left;">
b
</td>
<td style="text-align:left;">
d
</td>
<td style="text-align:left;">
b+d
</td>
</tr>
<tr>
<td style="text-align:left;">
Total
</td>
<td style="text-align:left;">
a+b
</td>
<td style="text-align:left;">
c+d
</td>
<td style="text-align:left;">
a+b+c+d
</td>
</tr>
</tbody>
</table>
<p>One possible way to measure the association between two binary variables is to look at the odds ratio.</p>
<div class="definition">
<p><span id="def:unlabeled-div-165" class="definition"><strong>Definition 6.2  </strong></span>The odds ratio (OR) is a measure of association between two categorical variables of <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> and is:</p>
<p><span class="math inline">\(OR =\frac{ad}{bc}\)</span></p>
<p><span class="math inline">\(OR &gt; 1\)</span> means that <span class="math inline">\(Y=1\)</span> is more likely when <span class="math inline">\(X=1\)</span> than when <span class="math inline">\(X=0\)</span>.<br />
<span class="math inline">\(OR &lt; 1\)</span> means that <span class="math inline">\(Y=1\)</span> is less likely when <span class="math inline">\(X=1\)</span> than when <span class="math inline">\(X=0\)</span>.<br />
<span class="math inline">\(OR = 1\)</span> means that <span class="math inline">\(Y=1\)</span> is equally likely when <span class="math inline">\(X=1\)</span> than when <span class="math inline">\(X=0\)</span>.</p>
<p><span class="math inline">\(OR\)</span> ranges from 0 to <span class="math inline">\(\infty\)</span></p>
</div>
<p>The odds ratio allows one to compare the relative likelihoods of <span class="math inline">\(Y=1\)</span> given <span class="math inline">\(X=1\)</span> vs. <span class="math inline">\(X=0\)</span>.</p>
<p><span class="math inline">\(\text{Ratio of OR} = \frac{P(Y=1|X=1)/P(Y=0|X=1)}{P(Y=1|X=0)/P(Y=0|X=0)}\)</span></p>
<div class="example">
<p><span id="exm:unlabeled-div-166" class="example"><strong>Example 6.5  </strong></span>The following contingency table summarizes complete games by league during the 2012 MLB season.<br />
</p>
</div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
No
</th>
<th style="text-align:right;">
Yes
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
NL
</td>
<td style="text-align:right;">
2533
</td>
<td style="text-align:right;">
59
</td>
</tr>
<tr>
<td style="text-align:left;">
AL
</td>
<td style="text-align:right;">
2199
</td>
<td style="text-align:right;">
69
</td>
</tr>
</tbody>
</table>
<p>Calculate the following:<br />
(a) <span class="math inline">\(P(CG|AL)\)</span><br />
(b) <span class="math inline">\(P(CG|NL)\)</span><br />
(c) <span class="math inline">\(OR(CG)\)</span><br />
</p>
<div style="page-break-after: always;"></div>
</div>
<div id="yules-q" class="section level3 hasAnchor" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> Yule’s Q<a href="measures-of-association.html#yules-q" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="definition">
<p><span id="def:unlabeled-div-167" class="definition"><strong>Definition 6.3  </strong></span>Yule’s Q is a measure of association between two categorical variables and is defined by:</p>
<p><span class="math inline">\(Q = \frac{OR-1}{OR+1}\)</span></p>
<p><span class="math inline">\(Q\)</span> ranges from -1 to 1, where <span class="math inline">\(Q=0\)</span> implies no relationship between the variables.</p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-168" class="example"><strong>Example 6.6  </strong></span>Calculate Yule’s Q for the previous example and interpret the value in the context of the problem.</p>
</div>
<div style="page-break-after: always;"></div>
<p>(AM, page 143, Yule’s Q)</p>
<p>(AM, page 139, winning at halftime vs winning game)</p>
<p>(AM, page 144, Brady TD passes vs sacks)</p>
<p>(AM, page 145, Nadal clay courts)</p>
<div style="page-break-after: always;"></div>
</div>
</div>
<div id="rank-correlation" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Rank Correlation<a href="measures-of-association.html#rank-correlation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<!-- Used for nonlinear relationships -->
<p>(Example using team data)</p>
</div>
<div id="autocorrelation" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Autocorrelation<a href="measures-of-association.html#autocorrelation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>(AM, page 134, NFL team records, pre- and post- salary cap)</p>
<div id="hot-hand" class="section level3 hasAnchor" number="6.4.1">
<h3><span class="header-section-number">6.4.1</span> Hot Hand<a href="measures-of-association.html#hot-hand" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>(Scorecasting, page 215)</p>
</div>
<div id="streakiness-in-sports" class="section level3 hasAnchor" number="6.4.2">
<h3><span class="header-section-number">6.4.2</span> Streakiness in Sports<a href="measures-of-association.html#streakiness-in-sports" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>(Mathletics, chapter 11, page 105)</p>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="inferential-statistics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="pythagorean-record.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/aaron-nielsen/SportsAnalyticsBook/edit/master/06-correlation.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["textbook.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
