<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Monte Carlo Simulation | Sports Analytics</title>
  <meta name="description" content="Chapter 3 Monte Carlo Simulation | Sports Analytics Notes" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Monte Carlo Simulation | Sports Analytics" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://aaron-nielsen.github.io/SportsAnalyticsBook/images/csu.png" />
  <meta property="og:description" content="Chapter 3 Monte Carlo Simulation | Sports Analytics Notes" />
  <meta name="github-repo" content="aaron-nielsen.github.io/SportsAnalyticsBook/" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Monte Carlo Simulation | Sports Analytics" />
  
  <meta name="twitter:description" content="Chapter 3 Monte Carlo Simulation | Sports Analytics Notes" />
  <meta name="twitter:image" content="https://aaron-nielsen.github.io/SportsAnalyticsBook/images/csu.png" />

<meta name="author" content="Aaron Nielsen, Department of Statistics, Colorado State University" />


<meta name="date" content="2022-06-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<link rel="prev" href="probability.html"/>
<link rel="next" href="statistical-inference.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="lib/css/bootstrap.min.css" type="text/css" />
<link rel="stylesheet" href="lib/css/style.css" type="text/css" />
<link rel="stylesheet" href="lib/css/lesson.css" type="text/css" />
<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Sports Analytics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="" data-path="current-tasks.html"><a href="current-tasks.html"><i class="fa fa-check"></i>Current Tasks</a></li>
<li class="chapter" data-level="1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>1</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="1.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#getting-started-with-r"><i class="fa fa-check"></i><b>1.1</b> Getting Started With R</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#installing-r"><i class="fa fa-check"></i><b>1.1.1</b> Installing R</a></li>
<li class="chapter" data-level="1.1.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#some-r-basics"><i class="fa fa-check"></i><b>1.1.2</b> Some R Basics</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#descriptive-statistics"><i class="fa fa-check"></i><b>1.2</b> Descriptive Statistics</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#definitions"><i class="fa fa-check"></i><b>1.2.1</b> Definitions</a></li>
<li class="chapter" data-level="1.2.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#descriptive-statistics-1"><i class="fa fa-check"></i><b>1.2.2</b> Descriptive Statistics</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#visualizations"><i class="fa fa-check"></i><b>1.3</b> Visualizations</a></li>
<li class="chapter" data-level="1.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#baseball"><i class="fa fa-check"></i><b>1.4</b> Baseball</a></li>
<li class="chapter" data-level="1.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#football"><i class="fa fa-check"></i><b>1.5</b> Football</a></li>
<li class="chapter" data-level="1.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#basketball"><i class="fa fa-check"></i><b>1.6</b> Basketball</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#four-factors"><i class="fa fa-check"></i><b>1.6.1</b> Four Factors</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#soccer"><i class="fa fa-check"></i><b>1.7</b> Soccer</a>
<ul>
<li class="chapter" data-level="" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#example-1"><i class="fa fa-check"></i>Example 1</a></li>
<li class="chapter" data-level="" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#example-2"><i class="fa fa-check"></i>Example 2</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#volleyball"><i class="fa fa-check"></i><b>1.8</b> Volleyball</a></li>
<li class="chapter" data-level="1.9" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#hockey"><i class="fa fa-check"></i><b>1.9</b> Hockey</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="probability.html"><a href="probability.html"><i class="fa fa-check"></i><b>2</b> Probability</a>
<ul>
<li class="chapter" data-level="" data-path="probability.html"><a href="probability.html#chapter-preview"><i class="fa fa-check"></i>Chapter Preview</a></li>
<li class="chapter" data-level="2.1" data-path="probability.html"><a href="probability.html#definitions-1"><i class="fa fa-check"></i><b>2.1</b> Definitions</a></li>
<li class="chapter" data-level="2.2" data-path="probability.html"><a href="probability.html#set-theory"><i class="fa fa-check"></i><b>2.2</b> Set Theory</a></li>
<li class="chapter" data-level="2.3" data-path="probability.html"><a href="probability.html#probability-axioms-and-properties"><i class="fa fa-check"></i><b>2.3</b> Probability Axioms and Properties</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="probability.html"><a href="probability.html#axioms-of-probability"><i class="fa fa-check"></i><b>2.3.1</b> Axioms of Probability</a></li>
<li class="chapter" data-level="2.3.2" data-path="probability.html"><a href="probability.html#properties-of-probability"><i class="fa fa-check"></i><b>2.3.2</b> Properties of Probability</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="probability.html"><a href="probability.html#laws-of-probability"><i class="fa fa-check"></i><b>2.4</b> Laws of Probability</a></li>
<li class="chapter" data-level="2.5" data-path="probability.html"><a href="probability.html#combinatorics"><i class="fa fa-check"></i><b>2.5</b> Combinatorics</a></li>
<li class="chapter" data-level="2.6" data-path="probability.html"><a href="probability.html#odds-and-gambling"><i class="fa fa-check"></i><b>2.6</b> Odds and Gambling</a></li>
<li class="chapter" data-level="2.7" data-path="probability.html"><a href="probability.html#random-variables"><i class="fa fa-check"></i><b>2.7</b> Random Variables</a></li>
<li class="chapter" data-level="2.8" data-path="probability.html"><a href="probability.html#some-examples"><i class="fa fa-check"></i><b>2.8</b> Some examples</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="probability.html"><a href="probability.html#sets-and-conditional-probability"><i class="fa fa-check"></i><b>2.8.1</b> Sets and Conditional Probability</a></li>
<li class="chapter" data-level="2.8.2" data-path="probability.html"><a href="probability.html#binomial-probability"><i class="fa fa-check"></i><b>2.8.2</b> Binomial Probability</a></li>
<li class="chapter" data-level="2.8.3" data-path="probability.html"><a href="probability.html#binomial-coefficient-symmetry"><i class="fa fa-check"></i><b>2.8.3</b> Binomial Coefficient Symmetry</a></li>
<li class="chapter" data-level="2.8.4" data-path="probability.html"><a href="probability.html#binomials-and-multinomials"><i class="fa fa-check"></i><b>2.8.4</b> Binomials and Multinomials</a></li>
<li class="chapter" data-level="2.8.5" data-path="probability.html"><a href="probability.html#geometric-first-success-rvs"><i class="fa fa-check"></i><b>2.8.5</b> Geometric (First Success) RVs</a></li>
<li class="chapter" data-level="2.8.6" data-path="probability.html"><a href="probability.html#geometric-distribution---hockey"><i class="fa fa-check"></i><b>2.8.6</b> Geometric Distribution - Hockey</a></li>
<li class="chapter" data-level="2.8.7" data-path="probability.html"><a href="probability.html#expectation---baseball"><i class="fa fa-check"></i><b>2.8.7</b> Expectation - Baseball</a></li>
<li class="chapter" data-level="2.8.8" data-path="probability.html"><a href="probability.html#basketball-scenario"><i class="fa fa-check"></i><b>2.8.8</b> Basketball Scenario</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="probability.html"><a href="probability.html#multiple-probability-distributions---basketball"><i class="fa fa-check"></i><b>2.9</b> Multiple Probability Distributions - Basketball</a></li>
<li class="chapter" data-level="2.10" data-path="probability.html"><a href="probability.html#poisson-distribution---soccer"><i class="fa fa-check"></i><b>2.10</b> Poisson Distribution - Soccer</a></li>
<li class="chapter" data-level="2.11" data-path="probability.html"><a href="probability.html#law-of-total-probability---hockey"><i class="fa fa-check"></i><b>2.11</b> Law of Total Probability - Hockey</a></li>
<li class="chapter" data-level="2.12" data-path="probability.html"><a href="probability.html#law-of-total-probability---baseball"><i class="fa fa-check"></i><b>2.12</b> Law of Total Probability - Baseball</a></li>
<li class="chapter" data-level="2.13" data-path="probability.html"><a href="probability.html#sets-and-conditional-probability-1"><i class="fa fa-check"></i><b>2.13</b> Sets and Conditional Probability</a></li>
<li class="chapter" data-level="2.14" data-path="probability.html"><a href="probability.html#binomial-probability-1"><i class="fa fa-check"></i><b>2.14</b> Binomial Probability</a></li>
<li class="chapter" data-level="2.15" data-path="probability.html"><a href="probability.html#binomial-coefficient-symmetry-1"><i class="fa fa-check"></i><b>2.15</b> Binomial Coefficient Symmetry</a></li>
<li class="chapter" data-level="2.16" data-path="probability.html"><a href="probability.html#binomials-and-multinomials-1"><i class="fa fa-check"></i><b>2.16</b> Binomials and Multinomials</a></li>
<li class="chapter" data-level="2.17" data-path="probability.html"><a href="probability.html#geometric-first-success-rvs-1"><i class="fa fa-check"></i><b>2.17</b> Geometric (First Success) RVs</a></li>
<li class="chapter" data-level="2.18" data-path="probability.html"><a href="probability.html#geometric-distribution---hockey-1"><i class="fa fa-check"></i><b>2.18</b> Geometric Distribution - Hockey</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html"><i class="fa fa-check"></i><b>3</b> Monte Carlo Simulation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#a-few-reminderstips-for-simulation-and-a-basic-example"><i class="fa fa-check"></i><b>3.1</b> A few reminders/tips for simulation, and a basic example</a></li>
<li class="chapter" data-level="3.2" data-path="monte-carlo-simulation.html"><a href="monte-carlo-simulation.html#streak-simulation---basketball"><i class="fa fa-check"></i><b>3.2</b> Streak Simulation - Basketball</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="statistical-inference.html"><a href="statistical-inference.html"><i class="fa fa-check"></i><b>4</b> Statistical Inference</a>
<ul>
<li class="chapter" data-level="4.1" data-path="statistical-inference.html"><a href="statistical-inference.html#one-sample-and-two-sample-t-tests-and-confidence-intervals"><i class="fa fa-check"></i><b>4.1</b> One Sample and Two Sample t-tests and confidence intervals</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="correlation.html"><a href="correlation.html"><i class="fa fa-check"></i><b>5</b> Correlation</a></li>
<li class="chapter" data-level="6" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>6</b> Linear Regression</a></li>
<li class="chapter" data-level="7" data-path="data-scraping.html"><a href="data-scraping.html"><i class="fa fa-check"></i><b>7</b> Data Scraping</a></li>
<li class="chapter" data-level="8" data-path="principal-component-analysis.html"><a href="principal-component-analysis.html"><i class="fa fa-check"></i><b>8</b> Principal Component Analysis</a></li>
<li class="chapter" data-level="9" data-path="clustering.html"><a href="clustering.html"><i class="fa fa-check"></i><b>9</b> Clustering</a></li>
<li class="chapter" data-level="10" data-path="classification.html"><a href="classification.html"><i class="fa fa-check"></i><b>10</b> Classification</a></li>
<li class="chapter" data-level="11" data-path="decision-trees.html"><a href="decision-trees.html"><i class="fa fa-check"></i><b>11</b> Decision Trees</a>
<ul>
<li class="chapter" data-level="11.1" data-path="decision-trees.html"><a href="decision-trees.html#random-forests"><i class="fa fa-check"></i><b>11.1</b> Random Forests</a></li>
<li class="chapter" data-level="11.2" data-path="decision-trees.html"><a href="decision-trees.html#gradient-boosting"><i class="fa fa-check"></i><b>11.2</b> Gradient Boosting</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="non-parametric-statistics.html"><a href="non-parametric-statistics.html"><i class="fa fa-check"></i><b>12</b> Non-parametric Statistics</a></li>
<li class="chapter" data-level="13" data-path="baseball-1.html"><a href="baseball-1.html"><i class="fa fa-check"></i><b>13</b> Baseball</a></li>
<li class="chapter" data-level="14" data-path="football-1.html"><a href="football-1.html"><i class="fa fa-check"></i><b>14</b> Football</a></li>
<li class="chapter" data-level="15" data-path="basketball-1.html"><a href="basketball-1.html"><i class="fa fa-check"></i><b>15</b> Basketball</a></li>
<li class="chapter" data-level="16" data-path="soccer-1.html"><a href="soccer-1.html"><i class="fa fa-check"></i><b>16</b> Soccer</a></li>
<li class="chapter" data-level="17" data-path="hockey-1.html"><a href="hockey-1.html"><i class="fa fa-check"></i><b>17</b> Hockey</a></li>
<li class="chapter" data-level="18" data-path="volleyball-1.html"><a href="volleyball-1.html"><i class="fa fa-check"></i><b>18</b> Volleyball</a>
<ul>
<li class="chapter" data-level="18.1" data-path="volleyball-1.html"><a href="volleyball-1.html#resources"><i class="fa fa-check"></i><b>18.1</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="other-sports.html"><a href="other-sports.html"><i class="fa fa-check"></i><b>19</b> Other Sports</a></li>
<li class="chapter" data-level="20" data-path="aarons-stuff.html"><a href="aarons-stuff.html"><i class="fa fa-check"></i><b>20</b> Aaron’s stuff</a>
<ul>
<li class="chapter" data-level="20.1" data-path="aarons-stuff.html"><a href="aarons-stuff.html#notes-for-chapter-2-probability"><i class="fa fa-check"></i><b>20.1</b> Notes for Chapter 2 (Probability)</a></li>
<li class="chapter" data-level="20.2" data-path="aarons-stuff.html"><a href="aarons-stuff.html#suggested-readings"><i class="fa fa-check"></i><b>20.2</b> Suggested Readings</a>
<ul>
<li class="chapter" data-level="20.2.1" data-path="aarons-stuff.html"><a href="aarons-stuff.html#moneyball"><i class="fa fa-check"></i><b>20.2.1</b> Moneyball</a></li>
<li class="chapter" data-level="20.2.2" data-path="aarons-stuff.html"><a href="aarons-stuff.html#future-value"><i class="fa fa-check"></i><b>20.2.2</b> Future Value</a></li>
</ul></li>
<li class="chapter" data-level="20.3" data-path="aarons-stuff.html"><a href="aarons-stuff.html#notes-for-chapter-4-simulation"><i class="fa fa-check"></i><b>20.3</b> Notes for Chapter 4 (Simulation)</a>
<ul>
<li class="chapter" data-level="20.3.1" data-path="aarons-stuff.html"><a href="aarons-stuff.html#baseball-simulation-example"><i class="fa fa-check"></i><b>20.3.1</b> Baseball Simulation Example</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Sports Analytics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="monte-carlo-simulation" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Monte Carlo Simulation<a href="monte-carlo-simulation.html#monte-carlo-simulation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="a-few-reminderstips-for-simulation-and-a-basic-example" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> A few reminders/tips for simulation, and a basic example<a href="monte-carlo-simulation.html#a-few-reminderstips-for-simulation-and-a-basic-example" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The number of regulation goals scored in a game by Hockey Team A, <span class="math inline">\(X\)</span>, is a Poisson(4) random variable, and the same for Hockey Team B, <span class="math inline">\(Y\)</span>, is a Poisson(3.2) random variable.</p>
<p>A statistician is interested in the probability that Team A defeats Team B in regulation. This is <span class="math inline">\(P(X &gt; Y)\)</span>, which is difficult to calculate manually. However, using simulation, we can straightforwardly obtain an accurate estimation of this quantity.</p>
<p>There are many built-in functions in <code>R</code> that allow users to generate realizations from common probability distributions (<code>rnorm</code>, <code>rbinom</code>, <code>rexp</code>, etc.) Let’s use the <code>rpois</code> function to simulate the appropriate variables, remembering to set a seed so that our results are easily replicable.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="monte-carlo-simulation.html#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2022</span>)</span>
<span id="cb142-2"><a href="monte-carlo-simulation.html#cb142-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-3"><a href="monte-carlo-simulation.html#cb142-3" aria-hidden="true" tabindex="-1"></a>nReps <span class="ot">&lt;-</span> <span class="dv">10000</span></span>
<span id="cb142-4"><a href="monte-carlo-simulation.html#cb142-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-5"><a href="monte-carlo-simulation.html#cb142-5" aria-hidden="true" tabindex="-1"></a>team_A_goals <span class="ot">&lt;-</span> <span class="fu">rpois</span>(<span class="at">n =</span> nReps, <span class="at">lambda =</span> <span class="dv">4</span>)</span>
<span id="cb142-6"><a href="monte-carlo-simulation.html#cb142-6" aria-hidden="true" tabindex="-1"></a>team_B_goals <span class="ot">&lt;-</span> <span class="fu">rpois</span>(<span class="at">n =</span> nReps, <span class="at">lambda =</span> <span class="fl">3.2</span>)</span></code></pre></div>
<p>Now, to find <span class="math inline">\(P(X &gt; Y)\)</span>, we can use the following line of code:</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="monte-carlo-simulation.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(team_A_goals <span class="sc">&gt;</span> team_B_goals)</span></code></pre></div>
<pre><code>## [1] 0.5415</code></pre>
<p>Why does this work? First, operations to vectors are executed elementwise, meaning that <code>R</code> compares <code>team_A_goals[1]</code> to <code>team_B_goals[1]</code>, then <code>team_A_goals[2]</code> to <code>team_B_goals[2]</code>, and so on. Second, logical operators are stored as zeroes (when the condition is false) and ones (when the condition is true). The mean of a vector of zeroes and ones is the proportion of ones, which is the frequency of the logical statement being true. In our simulation, it was 0.5415. The true value is 0.5427, meaning that the simulation was quite accurate.</p>
<p>These tips will help you be more efficient when performing simulation tasks in <code>R</code>.</p>
</div>
<div id="streak-simulation---basketball" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Streak Simulation - Basketball<a href="monte-carlo-simulation.html#streak-simulation---basketball" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Suppose an NBA team is in the middle of a rebuild and has a 25% probability of winning each of its games in the following 82-game season.</p>
<p>Q: What is the probability that the team will go on at least one winning streak of four or more games over the course of the 82-game season?</p>
<p>A: We can simulate a season for the team, find the longest winning streak in that season, and store it in a vector. After repeating that process 10,000 times, we can then find the proportion of the values in that vector that are greater than or equal to 4.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="monte-carlo-simulation.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2022</span>)</span>
<span id="cb145-2"><a href="monte-carlo-simulation.html#cb145-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-3"><a href="monte-carlo-simulation.html#cb145-3" aria-hidden="true" tabindex="-1"></a>nReps <span class="ot">&lt;-</span> <span class="dv">10000</span></span>
<span id="cb145-4"><a href="monte-carlo-simulation.html#cb145-4" aria-hidden="true" tabindex="-1"></a>longest_streak <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, nReps)</span>
<span id="cb145-5"><a href="monte-carlo-simulation.html#cb145-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-6"><a href="monte-carlo-simulation.html#cb145-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>nReps) {</span>
<span id="cb145-7"><a href="monte-carlo-simulation.html#cb145-7" aria-hidden="true" tabindex="-1"></a>    game_results <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(<span class="at">size =</span> <span class="dv">1</span>, <span class="at">n =</span> <span class="dv">82</span>, <span class="at">prob =</span> <span class="fl">0.25</span>)  <span class="co"># 1=win, 0=loss</span></span>
<span id="cb145-8"><a href="monte-carlo-simulation.html#cb145-8" aria-hidden="true" tabindex="-1"></a>    streaks <span class="ot">&lt;-</span> <span class="fu">rle</span>(game_results)</span>
<span id="cb145-9"><a href="monte-carlo-simulation.html#cb145-9" aria-hidden="true" tabindex="-1"></a>    longest_streak[i] <span class="ot">&lt;-</span> <span class="fu">max</span>(streaks<span class="sc">$</span>lengths[streaks<span class="sc">$</span>values <span class="sc">==</span> <span class="dv">1</span>])</span>
<span id="cb145-10"><a href="monte-carlo-simulation.html#cb145-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb145-11"><a href="monte-carlo-simulation.html#cb145-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-12"><a href="monte-carlo-simulation.html#cb145-12" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(longest_streak)</span></code></pre></div>
<pre><code>## longest_streak
##    1    2    3    4    5    6    7    8    9 
##  116 3626 4233 1480  410  105   21    7    2</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="monte-carlo-simulation.html#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(longest_streak <span class="sc">&gt;=</span> <span class="dv">4</span>)</span></code></pre></div>
<pre><code>## [1] 0.2025</code></pre>
<!-- https://stackoverflow.com/questions/28731582/maximum-consecutive-repeats-in-a-vector-in-r -->
<p>The team had a 4+ game winning streak in about 20% of the simulations.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="probability.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="statistical-inference.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/aaron-nielsen/SportsAnalyticsBook/edit/master/03-simulation.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["series.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
