<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="2.7 Common Random Variables | Sports Analytics" />
<meta property="og:type" content="book" />
<meta property="og:image" content="https://aaron-nielsen.github.io/SportsAnalyticsBook/images/csu.png" />
<meta property="og:description" content="2.7 Common Random Variables | Sports Analytics Notes" />
<meta name="github-repo" content="aaron-nielsen.github.io/SportsAnalyticsBook/" />

<meta name="author" content="Aaron Nielsen, Department of Statistics, Colorado State University" />

<meta name="date" content="2022-07-21" />

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<meta name="description" content="2.7 Common Random Variables | Sports Analytics Notes">

<title>2.7 Common Random Variables | Sports Analytics</title>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/navigation-1.1/tabsets.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



<link rel="stylesheet" href="toc.css" type="text/css" />

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
/* show arrow before summary tag as in bootstrap
TODO: remove if boostrap in updated in html_document (rmarkdown#1485) */
details > summary {
  display: list-item;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="index.html#about">About</a></li>
<li class="has-sub"><a href="1-exploratory-data-analysis.html#exploratory-data-analysis"><span class="toc-section-number">1</span> Exploratory Data Analysis</a>
<ul>
<li class="has-sub"><a href="1.1-getting-started-with-r.html#getting-started-with-r"><span class="toc-section-number">1.1</span> Getting Started With R</a>
<ul>
<li><a href="1.1-getting-started-with-r.html#installing-r"><span class="toc-section-number">1.1.1</span> Installing R</a></li>
<li><a href="1.1-getting-started-with-r.html#some-r-basics"><span class="toc-section-number">1.1.2</span> Some R Basics</a></li>
</ul></li>
<li class="has-sub"><a href="1.2-descriptive-statistics.html#descriptive-statistics"><span class="toc-section-number">1.2</span> Descriptive Statistics</a>
<ul>
<li><a href="1.2-descriptive-statistics.html#definitions"><span class="toc-section-number">1.2.1</span> Definitions</a></li>
<li><a href="1.2-descriptive-statistics.html#descriptive-statistics-1"><span class="toc-section-number">1.2.2</span> Descriptive Statistics</a></li>
</ul></li>
<li class="has-sub"><a href="1.3-visualizations.html#visualizations"><span class="toc-section-number">1.3</span> Visualizations</a>
<ul>
<li><a href="1.3-visualizations.html#histograms"><span class="toc-section-number">1.3.1</span> Histograms</a></li>
<li><a href="1.3-visualizations.html#bar-plots"><span class="toc-section-number">1.3.2</span> Bar Plots</a></li>
<li><a href="1.3-visualizations.html#scatter-plots"><span class="toc-section-number">1.3.3</span> Scatter Plots</a></li>
<li><a href="1.3-visualizations.html#kable-tables"><span class="toc-section-number">1.3.4</span> Kable Tables</a></li>
</ul></li>
<li class="has-sub"><a href="1.4-baseball.html#baseball"><span class="toc-section-number">1.4</span> Baseball</a>
<ul>
<li><a href="1.4-baseball.html#basic-hitting-statistics"><span class="toc-section-number">1.4.1</span> Basic Hitting Statistics</a></li>
<li><a href="1.4-baseball.html#basic-pitching-statistics"><span class="toc-section-number">1.4.2</span> Basic Pitching Statistics</a></li>
<li><a href="1.4-baseball.html#advanced-baseball-hitting-statistics"><span class="toc-section-number">1.4.3</span> Advanced Baseball Hitting Statistics</a></li>
<li><a href="1.4-baseball.html#advanced-baseball-pitching-statistics"><span class="toc-section-number">1.4.4</span> Advanced Baseball Pitching Statistics</a></li>
<li><a href="1.4-baseball.html#wins-above-replacement"><span class="toc-section-number">1.4.5</span> Wins Above Replacement</a></li>
<li><a href="1.4-baseball.html#calculating-advanced-hitting-statistics"><span class="toc-section-number">1.4.6</span> Calculating Advanced Hitting Statistics</a></li>
<li><a href="1.4-baseball.html#evaluating-advanced-pitching-statistics"><span class="toc-section-number">1.4.7</span> Evaluating Advanced Pitching Statistics</a></li>
</ul></li>
<li class="has-sub"><a href="1.5-football.html#football"><span class="toc-section-number">1.5</span> Football</a>
<ul>
<li><a href="1.5-football.html#basic-football-statistics"><span class="toc-section-number">1.5.1</span> Basic Football Statistics</a></li>
<li><a href="1.5-football.html#advanced-football-statistics"><span class="toc-section-number">1.5.2</span> Advanced Football Statistics</a></li>
</ul></li>
<li class="has-sub"><a href="1.6-basketball.html#basketball"><span class="toc-section-number">1.6</span> Basketball</a>
<ul>
<li><a href="1.6-basketball.html#basic-basketball-statistics"><span class="toc-section-number">1.6.1</span> Basic Basketball Statistics</a></li>
<li><a href="1.6-basketball.html#advanced-basketball-statistics"><span class="toc-section-number">1.6.2</span> Advanced Basketball Statistics</a></li>
<li><a href="1.6-basketball.html#four-factors"><span class="toc-section-number">1.6.3</span> Four Factors</a></li>
<li><a href="1.6-basketball.html#shot-charts"><span class="toc-section-number">1.6.4</span> Shot Charts</a></li>
</ul></li>
<li class="has-sub"><a href="1.7-hockey.html#hockey"><span class="toc-section-number">1.7</span> Hockey</a>
<ul>
<li><a href="1.7-hockey.html#basic-hockey-statistics"><span class="toc-section-number">1.7.1</span> Basic Hockey Statistics</a></li>
<li><a href="1.7-hockey.html#advanced-hockey-statistics"><span class="toc-section-number">1.7.2</span> Advanced Hockey Statistics</a></li>
<li><a href="1.7-hockey.html#actual-vs.-expected-goals"><span class="toc-section-number">1.7.3</span> Actual vs. Expected Goals</a></li>
<li><a href="1.7-hockey.html#goalie-statistics"><span class="toc-section-number">1.7.4</span> Goalie Statistics</a></li>
<li><a href="1.7-hockey.html#correlation-plots"><span class="toc-section-number">1.7.5</span> Correlation Plots</a></li>
</ul></li>
<li class="has-sub"><a href="1.8-volleyball.html#volleyball"><span class="toc-section-number">1.8</span> Volleyball</a>
<ul>
<li><a href="1.8-volleyball.html#basic-volleyball-statistics"><span class="toc-section-number">1.8.1</span> Basic Volleyball Statistics</a></li>
<li><a href="1.8-volleyball.html#scatter-plot"><span class="toc-section-number">1.8.2</span> Scatter Plot</a></li>
<li><a href="1.8-volleyball.html#box-plot"><span class="toc-section-number">1.8.3</span> Box Plot</a></li>
</ul></li>
<li class="has-sub"><a href="1.9-soccer.html#soccer"><span class="toc-section-number">1.9</span> Soccer</a>
<ul>
<li><a href="1.9-soccer.html#basic-soccer-statistics"><span class="toc-section-number">1.9.1</span> Basic Soccer Statistics</a></li>
<li><a href="1.9-soccer.html#advanced-soccer-statistics"><span class="toc-section-number">1.9.2</span> Advanced Soccer Statistics</a></li>
<li><a href="1.9-soccer.html#bar-plot"><span class="toc-section-number">1.9.3</span> Bar Plot</a></li>
<li><a href="1.9-soccer.html#scatter-plot-1"><span class="toc-section-number">1.9.4</span> Scatter Plot</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="2-probability.html#probability"><span class="toc-section-number">2</span> Probability</a>
<ul>
<li><a href="chapter-preview.html#chapter-preview">Chapter Preview</a></li>
<li><a href="2.1-definitions-1.html#definitions-1"><span class="toc-section-number">2.1</span> Definitions</a></li>
<li><a href="2.2-set-theory.html#set-theory"><span class="toc-section-number">2.2</span> Set Theory</a></li>
<li class="has-sub"><a href="2.3-axioms-properties-and-laws.html#axioms-properties-and-laws"><span class="toc-section-number">2.3</span> Axioms, Properties, and Laws</a>
<ul>
<li><a href="2.3-axioms-properties-and-laws.html#axioms-of-probability"><span class="toc-section-number">2.3.1</span> Axioms of Probability</a></li>
<li><a href="2.3-axioms-properties-and-laws.html#properties-of-probability"><span class="toc-section-number">2.3.2</span> Properties of Probability</a></li>
<li><a href="2.3-axioms-properties-and-laws.html#laws-of-probability"><span class="toc-section-number">2.3.3</span> Laws of Probability</a></li>
</ul></li>
<li><a href="2.4-combinatorics.html#combinatorics"><span class="toc-section-number">2.4</span> Combinatorics</a></li>
<li class="has-sub"><a href="2.5-odds-and-gambling.html#odds-and-gambling"><span class="toc-section-number">2.5</span> Odds and Gambling</a>
<ul>
<li><a href="2.5-odds-and-gambling.html#sports-betting-in-usa"><span class="toc-section-number">2.5.1</span> Sports Betting in USA</a></li>
<li><a href="2.5-odds-and-gambling.html#gambling-addiction"><span class="toc-section-number">2.5.2</span> Gambling Addiction</a></li>
<li><a href="2.5-odds-and-gambling.html#odds-definition"><span class="toc-section-number">2.5.3</span> Odds Definition</a></li>
<li><a href="2.5-odds-and-gambling.html#gambling-odds"><span class="toc-section-number">2.5.4</span> Gambling Odds</a></li>
</ul></li>
<li><a href="2.6-random-variables.html#random-variables"><span class="toc-section-number">2.6</span> Random Variables</a></li>
<li class="has-sub"><a href="2.7-common-random-variables.html#common-random-variables"><span class="toc-section-number">2.7</span> Common Random Variables</a>
<ul>
<li><a href="2.7-common-random-variables.html#binomial-rvs"><span class="toc-section-number">2.7.1</span> Binomial RVs</a></li>
<li><a href="2.7-common-random-variables.html#geometric-rvs"><span class="toc-section-number">2.7.2</span> Geometric RVs</a></li>
<li><a href="2.7-common-random-variables.html#poisson-rvs"><span class="toc-section-number">2.7.3</span> Poisson RVs</a></li>
<li><a href="2.7-common-random-variables.html#negative-binomial-rvs"><span class="toc-section-number">2.7.4</span> Negative Binomial RVs</a></li>
<li><a href="2.7-common-random-variables.html#normal-rvs"><span class="toc-section-number">2.7.5</span> Normal RVs</a></li>
</ul></li>
<li class="has-sub"><a href="2.8-extra-stuff.html#extra-stuff"><span class="toc-section-number">2.8</span> Extra Stuff</a>
<ul>
<li><a href="2.8-extra-stuff.html#sets-and-conditional-probability"><span class="toc-section-number">2.8.1</span> Sets and Conditional Probability</a></li>
<li><a href="2.8-extra-stuff.html#binomials-and-multinomials"><span class="toc-section-number">2.8.2</span> Binomials and Multinomials</a></li>
<li><a href="2.8-extra-stuff.html#expectation---baseball"><span class="toc-section-number">2.8.3</span> Expectation - Baseball</a></li>
<li><a href="2.8-extra-stuff.html#basketball-scenario"><span class="toc-section-number">2.8.4</span> Basketball Scenario</a></li>
<li><a href="2.8-extra-stuff.html#multiple-probability-distributions---basketball"><span class="toc-section-number">2.8.5</span> Multiple Probability Distributions - Basketball</a></li>
<li><a href="2.8-extra-stuff.html#law-of-total-probability---baseball"><span class="toc-section-number">2.8.6</span> Law of Total Probability - Baseball</a></li>
<li><a href="2.8-extra-stuff.html#multinomial-distribution---baseball"><span class="toc-section-number">2.8.7</span> Multinomial Distribution - Baseball</a></li>
<li><a href="2.8-extra-stuff.html#bayes---injured-baseball-player"><span class="toc-section-number">2.8.8</span> Bayes - injured baseball player</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="3-monte-carlo-simulation.html#monte-carlo-simulation"><span class="toc-section-number">3</span> Monte Carlo Simulation</a>
<ul>
<li><a href="3.1-basics.html#basics"><span class="toc-section-number">3.1</span> Basics</a></li>
<li><a href="3.2-estimating-probabilities.html#estimating-probabilities"><span class="toc-section-number">3.2</span> Estimating Probabilities</a></li>
<li class="has-sub"><a href="3.3-simulating-streaks.html#simulating-streaks"><span class="toc-section-number">3.3</span> Simulating Streaks</a>
<ul>
<li><a href="3.3-simulating-streaks.html#winning-streak-simulation"><span class="toc-section-number">3.3.1</span> Winning Streak Simulation</a></li>
<li><a href="3.3-simulating-streaks.html#hitting-streak-simulation"><span class="toc-section-number">3.3.2</span> Hitting Streak Simulation</a></li>
</ul></li>
<li class="has-sub"><a href="3.4-gambling-simulations.html#gambling-simulations"><span class="toc-section-number">3.4</span> Gambling Simulations</a>
<ul>
<li><a href="3.4-gambling-simulations.html#martingale-system"><span class="toc-section-number">3.4.1</span> Martingale System</a></li>
</ul></li>
<li class="has-sub"><a href="3.5-extra-stuff-1.html#extra-stuff-1"><span class="toc-section-number">3.5</span> Extra stuff</a>
<ul>
<li><a href="3.5-extra-stuff-1.html#shaq-ft-simulation"><span class="toc-section-number">3.5.1</span> Shaq FT simulation</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="4-statistical-inference.html#statistical-inference"><span class="toc-section-number">4</span> Statistical Inference</a>
<ul>
<li><a href="4.1-one-sample-and-two-sample-t-tests-and-confidence-intervals.html#one-sample-and-two-sample-t-tests-and-confidence-intervals"><span class="toc-section-number">4.1</span> One Sample and Two Sample t-tests and confidence intervals</a></li>
</ul></li>
<li class="has-sub"><a href="5-correlation.html#correlation"><span class="toc-section-number">5</span> Correlation</a>
<ul>
<li class="has-sub"><a href="5.1-pearsons-correlation-coefficient.html#pearsons-correlation-coefficient"><span class="toc-section-number">5.1</span> Pearson’s Correlation Coefficient</a>
<ul>
<li><a href="5.1-pearsons-correlation-coefficient.html#properties-of-the-linear-correlation-coefficient"><span class="toc-section-number">5.1.1</span> Properties of the Linear Correlation Coefficient</a></li>
</ul></li>
<li><a href="5.2-rank-correlation.html#rank-correlation"><span class="toc-section-number">5.2</span> Rank Correlation</a></li>
<li><a href="5.3-autocorrelation.html#autocorrelation"><span class="toc-section-number">5.3</span> Autocorrelation</a></li>
<li><a href="5.4-association-of-categorical-variables.html#association-of-categorical-variables"><span class="toc-section-number">5.4</span> Association of Categorical Variables</a></li>
</ul></li>
<li class="has-sub"><a href="6-linear-regression.html#linear-regression"><span class="toc-section-number">6</span> Linear Regression</a>
<ul>
<li><a href="6.1-simple-linear-regression.html#simple-linear-regression"><span class="toc-section-number">6.1</span> Simple Linear Regression</a></li>
<li><a href="6.2-multiple-linear-regression.html#multiple-linear-regression"><span class="toc-section-number">6.2</span> Multiple Linear Regression</a></li>
<li><a href="6.3-confounding-variables.html#confounding-variables"><span class="toc-section-number">6.3</span> Confounding Variables</a></li>
</ul></li>
<li><a href="references.html#references">References</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="common-random-variables" class="section level2" number="2.7">
<h2><span class="header-section-number">2.7</span> Common Random Variables</h2>
<p>There are several families of random variables that show up frequently in applications. Some of these random variables include:
- Binomial
- Geometric
- Poisson
- Normal</p>
<div id="binomial-rvs" class="section level3" number="2.7.1">
<h3><span class="header-section-number">2.7.1</span> Binomial RVs</h3>
<div class="definition">
<p><span id="def:unlabeled-div-103" class="definition"><strong>Definition 2.24  </strong></span>A <strong><em>binomial(n,p) random variable</em></strong> is a discrete random variable that counts the numbers of “successes” over a fixed number of trials, <span class="math inline">\(n\)</span>, with each trial having an equal probability of success, <span class="math inline">\(p\)</span>.</p>
<p><span class="math inline">\(P(X=k) = \binom{n}{k} p^k(1-p)^{n-k} = \frac{n!}{k!\ \cdot\ (n-k)!} p^k(1-p)^{n-k}\)</span>, where <span class="math inline">\(0 \leq k \leq n, 0 \leq p \leq 1\)</span></p>
<p>If <span class="math inline">\(X \sim Binomial(n,p)\)</span>, then <span class="math inline">\(E[X]=np\)</span> and <span class="math inline">\(Var(X)=np(1-p)\)</span></p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-104" class="example"><strong>Example 2.34  </strong></span>The Cubs and Rockies are playing a 4-game series. The Rockies have a 0.65 probability of winning each game, and the Cubs have a 0.35 probability. Assume each game is independent. Solve for the following quantities.</p>
</div>
<ol style="list-style-type: lower-alpha">
<li><p>The Cubs wins exactly 1 game.<br />
<br />
<br />
<br />
</p></li>
<li><p>The Rockies win exactly 2 games.<br />
<br />
<br />
<br />
</p></li>
<li><p>The Cubs win at least 2 games.<br />
<br />
<br />
<br />
</p></li>
<li><p>The series ends in a sweep.<br />
<br />
<br />
<br />
</p></li>
<li><p>The expected number of wins for the Rockies.<br />
<br />
<br />
<br />
</p></li>
<li><p>The variance and standard deviations of wins for the Rockies.<br />
<br />
<br />
<br />
</p></li>
</ol>
<div class="example">
<p><span id="exm:unlabeled-div-105" class="example"><strong>Example 2.35  </strong></span>Complete 10,000 simulations of the four game series between the Rockies and Cubs. For the number of Rockies wins, calculate the sample mean and sample variance and compare these to the population values. Also, plot a histogram of the sample data.</p>
</div>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="2.7-common-random-variables.html#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2020</span>)</span>
<span id="cb113-2"><a href="2.7-common-random-variables.html#cb113-2" aria-hidden="true" tabindex="-1"></a>rockies_wins <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(<span class="at">n=</span><span class="dv">10000</span>,<span class="at">size=</span><span class="dv">4</span>,<span class="at">prob=</span><span class="fl">0.65</span>)</span>
<span id="cb113-3"><a href="2.7-common-random-variables.html#cb113-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(rockies_wins)</span></code></pre></div>
<pre><code>## [1] 2.6123</code></pre>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="2.7-common-random-variables.html#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(rockies_wins)</span></code></pre></div>
<pre><code>## [1] 0.9110798</code></pre>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="2.7-common-random-variables.html#cb117-1" aria-hidden="true" tabindex="-1"></a>rockies_wins_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Wins=</span>rockies_wins)</span>
<span id="cb117-2"><a href="2.7-common-random-variables.html#cb117-2" aria-hidden="true" tabindex="-1"></a>rockies_wins_df <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(Wins)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>,<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;purple&quot;</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-48-1.png" width="672" /></p>
<div id="binomial-coefficient-symmetry" class="section level4" number="2.7.1.1">
<h4><span class="header-section-number">2.7.1.1</span> Binomial Coefficient Symmetry</h4>
<p>Playoff series for a certain sports league are played as a best-of-seven series, with one team hosting four games and the opposing team hosing three. An executive for the league wishes to know the number of ways the home and away games can be assigned. (One such combination is A-A-B-B-A-B-A, the format used by the NBA and NHL for their best-of-seven series.) What is the total number of combinations?<br />
<br />
<br />
<br />
</p>
<p>However, instead of thinking about the number of ways to assign the games to the team that gets four home games, what if we thought about the number of ways to assign games to the team that gets three home games?</p>
<p>That would be <span class="math inline">\(\binom{7}{3}\)</span>. We can use the <code>choose</code> command in R to find this quantity.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="2.7-common-random-variables.html#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">choose</span>(<span class="dv">7</span>,<span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 35</code></pre>
<p>It turns out that this binomial coefficient is also equal to 35.</p>
<p>Theorem: <span class="math inline">\(\binom{n}{k} = \binom{n}{n-k}\)</span></p>
<p><span class="math inline">\(\binom{n}{k} = \frac{n!}{k!\ \cdot\ (n-k)!}\)</span></p>
<p><span class="math inline">\(\binom{n}{n-k} = \frac{n!}{(n-k)!\ \cdot\ (n-(n-k))!} = \frac{n!}{(n-k)!\ \cdot\ k!} = \binom{n}{k}\)</span></p>
<div style="page-break-after: always;"></div>
</div>
</div>
<div id="geometric-rvs" class="section level3" number="2.7.2">
<h3><span class="header-section-number">2.7.2</span> Geometric RVs</h3>
<div class="definition">
<p><span id="def:unlabeled-div-106" class="definition"><strong>Definition 2.25  </strong></span>A <strong><em>Geometric(p) random variable</em></strong> is a discrete random variable that counts the numbers of trials until a “success” occurs, where the probability of success, <span class="math inline">\(p\)</span>, is constant across all trials.</p>
<p><span class="math inline">\(P(X=k) = p(1-p)^{k-1}\)</span>, where <span class="math inline">\(k \geq 1, 0 \leq p \leq 1\)</span></p>
<p>If <span class="math inline">\(X \sim Geometric(p)\)</span>, then <span class="math inline">\(E[X]=\frac{1}{p}\)</span> and <span class="math inline">\(Var(X)=\frac{p}{1-p}\)</span></p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-107" class="example"><strong>Example 2.36  </strong></span>Suppose the number of shots needed by a hockey team in order to score their first goal, X, is modeled by a Geometric(<span class="math inline">\(\frac{1}{10}\)</span>) random variable. Use this information to answer the following questions.</p>
</div>
<ol style="list-style-type: lower-alpha">
<li><p>What is the probability that it takes exactly 3 shots to score the first goal?<br />
<br />
<br />
<br />
</p></li>
<li><p>What is the probability that it takes less than 3 shots to score the first goal?<br />
<br />
<br />
<br />
</p></li>
<li><p>What is the probability that it takes more than 3 shots to score the first goal?<br />
<br />
<br />
<br />
</p></li>
</ol>
<p><strong>Caution:</strong> Some references parameterize the Geometric distribution based on the number of failures before the first success, rather than the trial on which the first success occurs. This changes the PMF, mean, and variance, so be careful.</p>
<p>Let’s simulate the number of shot attempts required to score the first goal (Geometric(<span class="math inline">\(p=1/10\)</span>)) from the previous example.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="2.7-common-random-variables.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2020</span>)</span>
<span id="cb120-2"><a href="2.7-common-random-variables.html#cb120-2" aria-hidden="true" tabindex="-1"></a>geometric <span class="ot">&lt;-</span> <span class="fu">rgeom</span>(<span class="dv">10000</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)</span>
<span id="cb120-3"><a href="2.7-common-random-variables.html#cb120-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(geometric, <span class="dv">20</span>)</span></code></pre></div>
<pre><code>##  [1]  2  2  7 55  6 11  2 11  2  5  0 50 17  2  7  0  7 19 17  1</code></pre>
<p>Some of the values were 0, which could not happen if R was considering the number of the trial on which the first success occurred. You can add 1 to the values given by <code>R</code> to arrive at the first success distribution.</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="2.7-common-random-variables.html#cb122-1" aria-hidden="true" tabindex="-1"></a>first_success <span class="ot">&lt;-</span> geometric <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb122-2"><a href="2.7-common-random-variables.html#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(first_success, <span class="dv">20</span>)</span></code></pre></div>
<pre><code>##  [1]  3  3  8 56  7 12  3 12  3  6  1 51 18  3  8  1  8 20 18  2</code></pre>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="2.7-common-random-variables.html#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(first_success)</span></code></pre></div>
<pre><code>## [1] 10.0669</code></pre>
<p>The mean of this sample of variables is 10.827, which is close to the expected mean of <span class="math inline">\(\frac{1}{p} = 10\)</span>.</p>
<p>Let’s plot the sample distribution of shots required to score a goal from the simulation as well.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="2.7-common-random-variables.html#cb126-1" aria-hidden="true" tabindex="-1"></a>first_success_df <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">Shots =</span> first_success)</span>
<span id="cb126-2"><a href="2.7-common-random-variables.html#cb126-2" aria-hidden="true" tabindex="-1"></a>first_success_df <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Shots)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-52-1.png" width="672" /></p>
<div style="page-break-after: always;"></div>
</div>
<div id="poisson-rvs" class="section level3" number="2.7.3">
<h3><span class="header-section-number">2.7.3</span> Poisson RVs</h3>
<div class="definition">
<p><span id="def:unlabeled-div-108" class="definition"><strong>Definition 2.26  </strong></span>A <strong><em>Poisson(<span class="math inline">\(\lambda\)</span>) random variable</em></strong> is a discrete random variable that counts the numbers of “successes” for a given rate parameter, <span class="math inline">\(\lambda\)</span>, for a given interval.</p>
<p><span class="math inline">\(P(X=k) = \frac{e^{-\lambda}\lambda^k}{k!}\)</span>, where <span class="math inline">\(k \geq 0,\)</span></p>
<p>If <span class="math inline">\(X \sim Poisson(\lambda)\)</span>, then <span class="math inline">\(E[X]=\lambda\)</span> and <span class="math inline">\(Var(X)=\lambda\)</span></p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-109" class="example"><strong>Example 2.37  </strong></span>During the 2021 Major League Soccer season, the Colorado Rapids scored 51 goals in 34 games on their way to a first-place finish in the Western Conference regular season standings.</p>
<p>The team scored <span class="math inline">\(\frac{51}{34} = 1.5\)</span> goals per game. Let’s model the distribution of Rapids goals using a Poisson(1.5) random variable that we’ll call Y.</p>
</div>
<ol style="list-style-type: lower-alpha">
<li>Which is more likely: Y taking on the value 0 or Y taking on the value 2?<br />
<br />
<br />
<br />
</li>
</ol>
<p>We can calculate these probabilities in R using the <code>dpois</code> command.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="2.7-common-random-variables.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dpois</span>(<span class="at">x=</span><span class="dv">0</span>, <span class="at">lambda=</span><span class="fl">1.5</span>)</span></code></pre></div>
<pre><code>## [1] 0.2231302</code></pre>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="2.7-common-random-variables.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dpois</span>(<span class="at">x=</span><span class="dv">2</span>, <span class="at">lambda=</span><span class="fl">1.5</span>)</span></code></pre></div>
<pre><code>## [1] 0.2510214</code></pre>
<p>We can also plot the PMF of Y to check visually.</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="2.7-common-random-variables.html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">transform</span>(<span class="fu">data.frame</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">8</span>)), <span class="at">y=</span><span class="fu">dpois</span>(x, <span class="at">lambda =</span> <span class="fl">1.5</span>)), <span class="fu">aes</span>(x, y)) <span class="sc">+</span> </span>
<span id="cb131-2"><a href="2.7-common-random-variables.html#cb131-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>) <span class="sc">+</span> </span>
<span id="cb131-3"><a href="2.7-common-random-variables.html#cb131-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Value&quot;</span>, <span class="at">y=</span><span class="st">&quot;Frequency&quot;</span>, <span class="at">title=</span><span class="st">&quot;Probability mass function of Poisson(1.5) random variable&quot;</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-54-1.png" width="672" /></p>
<p>Let’s check whether using a Poisson distribution was appropriate by comparing it to the actual 2021 Colorado Rapids match results.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="2.7-common-random-variables.html#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data: https://www.espn.com/soccer/team/results/_/id/184/season/2021</span></span>
<span id="cb132-2"><a href="2.7-common-random-variables.html#cb132-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-3"><a href="2.7-common-random-variables.html#cb132-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;kableExtra&quot;</span>)</span>
<span id="cb132-4"><a href="2.7-common-random-variables.html#cb132-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-5"><a href="2.7-common-random-variables.html#cb132-5" aria-hidden="true" tabindex="-1"></a>goals <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">4</span>, <span class="st">&quot;5 or more&quot;</span>)</span>
<span id="cb132-6"><a href="2.7-common-random-variables.html#cb132-6" aria-hidden="true" tabindex="-1"></a>actual_frequency <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">14</span>, <span class="dv">7</span>, <span class="dv">6</span>, <span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb132-7"><a href="2.7-common-random-variables.html#cb132-7" aria-hidden="true" tabindex="-1"></a>actual_proportion <span class="ot">&lt;-</span> actual_frequency <span class="sc">/</span> <span class="fu">sum</span>(actual_frequency)</span>
<span id="cb132-8"><a href="2.7-common-random-variables.html#cb132-8" aria-hidden="true" tabindex="-1"></a>expected_proportion <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">dpois</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">lambda=</span><span class="fl">1.5</span>), <span class="fu">ppois</span>(<span class="dv">4</span>, <span class="at">lambda=</span><span class="fl">1.5</span>, <span class="at">lower.tail=</span><span class="cn">FALSE</span>))</span>
<span id="cb132-9"><a href="2.7-common-random-variables.html#cb132-9" aria-hidden="true" tabindex="-1"></a>expected_frequency <span class="ot">&lt;-</span> <span class="fu">round</span>(expected_proportion <span class="sc">*</span> <span class="dv">34</span>, <span class="dv">1</span>)</span>
<span id="cb132-10"><a href="2.7-common-random-variables.html#cb132-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-11"><a href="2.7-common-random-variables.html#cb132-11" aria-hidden="true" tabindex="-1"></a>rapids.data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(goals, actual_frequency, actual_proportion, expected_frequency, expected_proportion)</span>
<span id="cb132-12"><a href="2.7-common-random-variables.html#cb132-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-13"><a href="2.7-common-random-variables.html#cb132-13" aria-hidden="true" tabindex="-1"></a>rapids.data <span class="sc">%&gt;%</span></span>
<span id="cb132-14"><a href="2.7-common-random-variables.html#cb132-14" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb132-15"><a href="2.7-common-random-variables.html#cb132-15" aria-hidden="true" tabindex="-1"></a><span class="fu">kable_styling</span>()</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
goals
</th>
<th style="text-align:right;">
actual_frequency
</th>
<th style="text-align:right;">
actual_proportion
</th>
<th style="text-align:right;">
expected_frequency
</th>
<th style="text-align:right;">
expected_proportion
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
0
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0.1764706
</td>
<td style="text-align:right;">
7.6
</td>
<td style="text-align:right;">
0.2231302
</td>
</tr>
<tr>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
0.4117647
</td>
<td style="text-align:right;">
11.4
</td>
<td style="text-align:right;">
0.3346952
</td>
</tr>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0.2058824
</td>
<td style="text-align:right;">
8.5
</td>
<td style="text-align:right;">
0.2510214
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0.1764706
</td>
<td style="text-align:right;">
4.3
</td>
<td style="text-align:right;">
0.1255107
</td>
</tr>
<tr>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.0000000
</td>
<td style="text-align:right;">
1.6
</td>
<td style="text-align:right;">
0.0470665
</td>
</tr>
<tr>
<td style="text-align:left;">
5 or more
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.0294118
</td>
<td style="text-align:right;">
0.6
</td>
<td style="text-align:right;">
0.0185759
</td>
</tr>
</tbody>
</table>
<ol start="2" style="list-style-type: lower-alpha">
<li>What differences do you notice between the actual results and the expected values based on the Poisson random variable?<br />
<br />
<br />
<br />
</li>
</ol>
<!-- There were fewer games in which the Rapids scored 4 or more goals than the model would indicate, yet the Rapids were shut out less often than the model would indicate. -->
<ol start="3" style="list-style-type: lower-alpha">
<li>Even if the true population distribution of 2021 Rapids goals was truly a Poisson(1.5) random variable, why might the actual distribution of their goals differ from the probability mass function?<br />
<br />
<br />
<br />
</li>
</ol>
<!-- 34 is a relatively small sample size; random variables may not coincide with their expected values for finite sample sizes. -->
<ol start="4" style="list-style-type: lower-alpha">
<li>What are the advantages of using the Poisson distribution to model Major League soccer goals? What are the disadvantages?<br />
<br />
<br />
<br />
</li>
</ol>
<!-- Poisson random variables can take on the natural numbers (including zero), which aligns with the number of goals that can be scored in a match. One disadvantage is that it is possible for a Poisson to take on values that are not realistic for the situation, such as double-digit integers or higher. Only one game in MLS history has had a team score more than seven goals in a game. However, when $\lambda$ is small (such as 1.5), these extreme values are relatively unlikely. -->
<div class="example">
<p><span id="exm:unlabeled-div-110" class="example"><strong>Example 2.38  </strong></span>In 1997-1998 with the Los Angeles Lakers, Shaquille O’Neal attempted an average of 11.35 free throws per game with a standard deviation of 4.04. Is it appropriate to model Shaq’s per game free throw attempts as a Poisson(11.35) random variable?</p>
</div>
<ol style="list-style-type: lower-alpha">
<li>Plot the data.</li>
</ol>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="2.7-common-random-variables.html#cb133-1" aria-hidden="true" tabindex="-1"></a>shaq9798 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/shaq9798.csv&quot;</span>)</span>
<span id="cb133-2"><a href="2.7-common-random-variables.html#cb133-2" aria-hidden="true" tabindex="-1"></a>shaq9798 <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>FTA))  <span class="sc">+</span> </span>
<span id="cb133-3"><a href="2.7-common-random-variables.html#cb133-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">color =</span> <span class="st">&quot;yellow&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;purple&quot;</span>) <span class="sc">+</span></span>
<span id="cb133-4"><a href="2.7-common-random-variables.html#cb133-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Per Game FT Attempt Totals by Shaq in 1997-1998&quot;</span>) <span class="sc">+</span></span>
<span id="cb133-5"><a href="2.7-common-random-variables.html#cb133-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>,<span class="dv">25</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-56-1.png" width="672" />
(b) Plot the PMF of a Poisson(11.35) random variable.</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="2.7-common-random-variables.html#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">transform</span>(<span class="fu">data.frame</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">25</span>)), <span class="at">y=</span><span class="fu">dpois</span>(x, <span class="at">lambda =</span> <span class="fl">11.35</span>)), <span class="fu">aes</span>(x, y)) <span class="sc">+</span> </span>
<span id="cb134-2"><a href="2.7-common-random-variables.html#cb134-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>) <span class="sc">+</span> </span>
<span id="cb134-3"><a href="2.7-common-random-variables.html#cb134-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Value&quot;</span>, <span class="at">y=</span><span class="st">&quot;Frequency&quot;</span>, <span class="at">title=</span><span class="st">&quot;Probability mass function of Poisson(11.35) random variable&quot;</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-57-1.png" width="672" /></p>
<ol start="3" style="list-style-type: lower-alpha">
<li><p>What similarities and what differences do you notice?<br />
<br />
<br />
<br />
</p></li>
<li><p>Calculate the variance of the two distributions and compare them.</p></li>
</ol>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="2.7-common-random-variables.html#cb135-1" aria-hidden="true" tabindex="-1"></a>shaqFTA <span class="ot">&lt;-</span> shaq9798 <span class="sc">%&gt;%</span> <span class="fu">select</span>(FTA)</span>
<span id="cb135-2"><a href="2.7-common-random-variables.html#cb135-2" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(shaqFTA)</span></code></pre></div>
<pre><code>##          FTA
## FTA 16.33305</code></pre>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="2.7-common-random-variables.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Var(Poisson(11.35)) = 11.35</span></span></code></pre></div>
<ol start="5" style="list-style-type: lower-alpha">
<li>Calculate the probability that Shaq had 20 or more free throws and compare it to <span class="math inline">\(P(Poisson(11.35) \geq 20)\)</span></li>
</ol>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="2.7-common-random-variables.html#cb138-1" aria-hidden="true" tabindex="-1"></a>shaq20 <span class="ot">&lt;-</span> <span class="fu">sum</span>(shaqFTA <span class="sc">&gt;=</span> <span class="dv">20</span>)<span class="sc">/</span><span class="fu">nrow</span>(shaqFTA); shaq20</span></code></pre></div>
<pre><code>## [1] 0.06666667</code></pre>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="2.7-common-random-variables.html#cb140-1" aria-hidden="true" tabindex="-1"></a>poisson20 <span class="ot">&lt;-</span> <span class="fu">ppois</span>(<span class="dv">20</span>, <span class="at">lambda=</span><span class="fl">11.35</span>, <span class="at">lower.tail=</span><span class="cn">FALSE</span>); poisson20</span></code></pre></div>
<pre><code>## [1] 0.006536079</code></pre>
<ol start="6" style="list-style-type: lower-alpha">
<li>Is the Poisson distribution appropriate to model Shaq’s FTA per game? Explain.<br />
<br />
<br />
<br />
</li>
</ol>
<div style="page-break-after: always;"></div>
</div>
<div id="negative-binomial-rvs" class="section level3" number="2.7.4">
<h3><span class="header-section-number">2.7.4</span> Negative Binomial RVs</h3>
<div class="definition">
<p><span id="def:unlabeled-div-111" class="definition"><strong>Definition 2.27  </strong></span>A <strong><em>Negative Binomial(<span class="math inline">\(r\)</span>,<span class="math inline">\(p\)</span>) random variable</em></strong> is a discrete random variable that counts the numbers of “successes” for given parameters, <span class="math inline">\(r\)</span> and <span class="math inline">\(p\)</span>.</p>
<p><span class="math inline">\(P(X=k) = {k+r-1 \choose k}(1-p)^rp^k\)</span>, where <span class="math inline">\(k \geq 0,\)</span></p>
<p>If <span class="math inline">\(X \sim NB(r,p)\)</span>, then <span class="math inline">\(E[X]=\frac{rp}{1-p}\)</span> and <span class="math inline">\(Var(X)=\frac{rp}{(1-p)^2}\)</span></p>
</div>
<p>The Negative Binomial distribution is often used to model count data that is “overdispersed”. A property of the Poisson distribution is that the mean and variance are equal. If you are analyzing count data such that the variance is much greater than the mean (i.e., overdispersed), then the Negative Binomial distribution may be an appropriate substitute.</p>
<p>Given sample count data, we can estimate appropriate parameters for a Negative Binomial in many ways. One such way is to use the “method of moments” estimator.</p>
<p>These estimators are given by:</p>
<p><span class="math inline">\(\hat{p} = \frac{s^2-\bar{x}}{s^2}\)</span> and <span class="math inline">\(\hat{r} = \frac{\bar{x}^2}{s^2-\bar{x}}\)</span></p>
<div class="example">
<p><span id="exm:unlabeled-div-112" class="example"><strong>Example 2.39  </strong></span>Using Shaq’s 1997-1998 data, model his per game free throw attempts as a Negative Binomial random variable.</p>
</div>
<ol style="list-style-type: lower-alpha">
<li>Find an appropriate choice of parameters, <span class="math inline">\(r\)</span> and <span class="math inline">\(p\)</span>.</li>
</ol>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="2.7-common-random-variables.html#cb142-1" aria-hidden="true" tabindex="-1"></a>shaq.mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(shaqFTA<span class="sc">$</span>FTA)</span>
<span id="cb142-2"><a href="2.7-common-random-variables.html#cb142-2" aria-hidden="true" tabindex="-1"></a>shaq.var <span class="ot">&lt;-</span> <span class="fu">var</span>(shaqFTA<span class="sc">$</span>FTA)</span>
<span id="cb142-3"><a href="2.7-common-random-variables.html#cb142-3" aria-hidden="true" tabindex="-1"></a>rhat <span class="ot">&lt;-</span> shaq.mean<span class="sc">^</span><span class="dv">2</span><span class="sc">/</span>(shaq.var<span class="sc">-</span>shaq.mean)</span>
<span id="cb142-4"><a href="2.7-common-random-variables.html#cb142-4" aria-hidden="true" tabindex="-1"></a>phat <span class="ot">&lt;-</span> (shaq.var<span class="sc">-</span>shaq.mean)<span class="sc">/</span>shaq.var</span>
<span id="cb142-5"><a href="2.7-common-random-variables.html#cb142-5" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(rhat,phat)</span></code></pre></div>
<pre><code>## [1] 25.85213  0.30509</code></pre>
<ol start="2" style="list-style-type: lower-alpha">
<li>Plot the Negative Binomial distribution. Note that R uses an alternative parameterization for <span class="math inline">\(p\)</span>. Use <span class="math inline">\(prob = 1-p\)</span>.</li>
</ol>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="2.7-common-random-variables.html#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">transform</span>(<span class="fu">data.frame</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">25</span>)), <span class="at">y=</span><span class="fu">dnbinom</span>(x,<span class="at">size=</span>rhat,<span class="at">prob=</span><span class="dv">1</span><span class="sc">-</span>phat)), <span class="fu">aes</span>(x, y)) <span class="sc">+</span> </span>
<span id="cb144-2"><a href="2.7-common-random-variables.html#cb144-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>) <span class="sc">+</span> </span>
<span id="cb144-3"><a href="2.7-common-random-variables.html#cb144-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Value&quot;</span>, <span class="at">y=</span><span class="st">&quot;Frequency&quot;</span>, <span class="at">title=</span><span class="st">&quot;Probability mass function of NB(r=25.852,p=0.305) random variable&quot;</span>)</span></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-61-1.png" width="672" /></p>
<ol start="3" style="list-style-type: lower-alpha">
<li>Calculate the mean and variance of the Negative Binomial and Shaq’s dataset.</li>
</ol>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="2.7-common-random-variables.html#cb145-1" aria-hidden="true" tabindex="-1"></a>shaq.mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(shaqFTA<span class="sc">$</span>FTA)</span>
<span id="cb145-2"><a href="2.7-common-random-variables.html#cb145-2" aria-hidden="true" tabindex="-1"></a>shaq.var <span class="ot">&lt;-</span> <span class="fu">var</span>(shaqFTA<span class="sc">$</span>FTA)</span>
<span id="cb145-3"><a href="2.7-common-random-variables.html#cb145-3" aria-hidden="true" tabindex="-1"></a>NB.mean <span class="ot">&lt;-</span> (rhat<span class="sc">*</span>phat)<span class="sc">/</span>(<span class="dv">1</span><span class="sc">-</span>phat)</span>
<span id="cb145-4"><a href="2.7-common-random-variables.html#cb145-4" aria-hidden="true" tabindex="-1"></a>NB.var <span class="ot">&lt;-</span> (rhat<span class="sc">*</span>phat)<span class="sc">/</span>(<span class="dv">1</span><span class="sc">-</span>phat)<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb145-5"><a href="2.7-common-random-variables.html#cb145-5" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(shaq.mean,shaq.var)</span></code></pre></div>
<pre><code>## [1] 11.35000 16.33305</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="2.7-common-random-variables.html#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(NB.mean,NB.var)</span></code></pre></div>
<pre><code>## [1] 11.35000 16.33305</code></pre>
<ol start="4" style="list-style-type: lower-alpha">
<li>Calculate the probability that Shaq had 20 or more free throws and compare it to <span class="math inline">\(P(NB(r=25.852,p=0.305) \geq 20)\)</span></li>
</ol>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="2.7-common-random-variables.html#cb149-1" aria-hidden="true" tabindex="-1"></a>shaq20 <span class="ot">&lt;-</span> <span class="fu">sum</span>(shaqFTA <span class="sc">&gt;=</span> <span class="dv">20</span>)<span class="sc">/</span><span class="fu">nrow</span>(shaqFTA); shaq20</span></code></pre></div>
<pre><code>## [1] 0.06666667</code></pre>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="2.7-common-random-variables.html#cb151-1" aria-hidden="true" tabindex="-1"></a>nb20 <span class="ot">&lt;-</span> <span class="fu">pnbinom</span>(<span class="dv">20</span>,<span class="at">size=</span>rhat,<span class="at">prob=</span><span class="dv">1</span><span class="sc">-</span>phat,<span class="at">lower.tail=</span><span class="cn">FALSE</span>); nb20</span></code></pre></div>
<pre><code>## [1] 0.0208711</code></pre>
<ol start="5" style="list-style-type: lower-alpha">
<li>Is the Negative Binomial distribution appropriate to model Shaq’s FTA per game? How does it compare to using the Poisson distribution? Explain.<br />
<br />
<br />
<br />
</li>
</ol>
<div style="page-break-after: always;"></div>
</div>
<div id="normal-rvs" class="section level3" number="2.7.5">
<h3><span class="header-section-number">2.7.5</span> Normal RVs</h3>
<div class="definition">
<p><span id="def:unlabeled-div-113" class="definition"><strong>Definition 2.28  </strong></span>A <strong><em>Normal(<span class="math inline">\(\mu\)</span>,<span class="math inline">\(\sigma^2\)</span>) random variable</em></strong> is a continuous random variable that is bell-shaped with mean <span class="math inline">\(\mu\)</span> and variance <span class="math inline">\(\sigma^2\)</span>.</p>
<p>To calculate probabilities under the normal curve, you need either to integrate, use a table, or a computer.</p>
<p>Note that a normal random variable can be standardized by using: <span class="math inline">\(z = \frac{x-\mu}{\sigma}\)</span></p>
</div>
<div class="theorem">
<p><span id="thm:unlabeled-div-114" class="theorem"><strong>Theorem 2.8  </strong></span>For a normal(<span class="math inline">\(\mu\)</span>,<span class="math inline">\(\sigma^2\)</span>) random variable, we have the following approximations:<br />
- About 68% of the data falls within one standard deviation of the mean (i.e., <span class="math inline">\(\mu \pm \sigma\)</span>)<br />
- About 95% of the data falls within two standard deviations of the mean (i.e., <span class="math inline">\(\mu \pm 2\sigma\)</span>)<br />
- About 99.7% of the data falls within three standard deviations of the mean (i.e., <span class="math inline">\(\mu \pm 3\sigma\)</span>)</p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-115" class="example"><strong>Example 2.40  </strong></span>The skills (or tools) of a baseball player are often rated on a scale of 20-80, where 50 is an average grade, 20 is the lowest grade, and 80 is the highest grade. The distribution of tool grades is approximately normally distributed (<span class="math inline">\(\mu=50, \sigma =10\)</span>).</p>
<p>See <a href="https://blogs.fangraphs.com/scouting-explained-the-20-80-scouting-scale/">https://blogs.fangraphs.com/scouting-explained-the-20-80-scouting-scale/</a> for more details. Calculate the following probabilities.</p>
</div>
<ol style="list-style-type: lower-alpha">
<li><p>Former Rockie Nolan Arenado has been graded to have game power of 70. Game power estimates a player’s ability to hit home runs. Approximately what percentage of baseball players have equal or greater game power than Arenado?<br />
<br />
<br />
<br />
</p></li>
<li><p>Mike Trout has been graded to have raw power of 55. Raw power estimates a player’s ability to hit baseballs hard (i.e., hard hit rate). Approximately what percentage of baseball players have equal or less raw power than Arenado?<br />
<br />
<br />
<br />
</p></li>
<li><p>Suppose a Rockies prospect is said to be in the top 10% of all baseball players in terms of their speed. What approximate speed grade would correspond to the player?<br />
<br />
<br />
<br />
</p></li>
<li><p>Suppose a Rockies prospect is said to be in the bottom 20% of all baseball players in terms of their hit ability. What approximate hit grade would correspond to the player?<br />
<br />
<br />
<br />
</p></li>
<li><p>Between what two grades do approximately 95% of all players lie for a given tool?<br />
<br />
<br />
<br />
</p></li>
</ol>
<p>Let’s check our answers:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="2.7-common-random-variables.html#cb153-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span><span class="fu">pnorm</span>(<span class="at">q=</span><span class="dv">70</span>,<span class="at">mean=</span><span class="dv">50</span>,<span class="at">sd=</span><span class="dv">10</span>); a</span></code></pre></div>
<pre><code>## [1] 0.02275013</code></pre>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="2.7-common-random-variables.html#cb155-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="at">q=</span><span class="dv">55</span>,<span class="at">mean=</span><span class="dv">50</span>,<span class="at">sd=</span><span class="dv">10</span>); b</span></code></pre></div>
<pre><code>## [1] 0.6914625</code></pre>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="2.7-common-random-variables.html#cb157-1" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(<span class="fl">0.1</span>,<span class="at">mean=</span><span class="dv">50</span>,<span class="at">sd=</span><span class="dv">10</span>,<span class="at">lower.tail =</span> F); c</span></code></pre></div>
<pre><code>## [1] 62.81552</code></pre>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="2.7-common-random-variables.html#cb159-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(<span class="fl">0.2</span>,<span class="at">mean=</span><span class="dv">50</span>,<span class="at">sd=</span><span class="dv">10</span>,<span class="at">lower.tail =</span> T); d</span></code></pre></div>
<pre><code>## [1] 41.58379</code></pre>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="2.7-common-random-variables.html#cb161-1" aria-hidden="true" tabindex="-1"></a>e <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="at">q=</span><span class="dv">70</span>,<span class="at">mean=</span><span class="dv">50</span>,<span class="at">sd=</span><span class="dv">10</span>) <span class="sc">-</span> <span class="fu">pnorm</span>(<span class="at">q=</span><span class="dv">30</span>,<span class="at">mean=</span><span class="dv">50</span>,<span class="at">sd=</span><span class="dv">10</span>); e</span></code></pre></div>
<pre><code>## [1] 0.9544997</code></pre>
<div style="page-break-after: always;"></div>
<div class="example">
<p><span id="exm:unlabeled-div-116" class="example"><strong>Example 2.41  </strong></span>Player X has a projected mean WAR of 3 with standard deviation of 2 and player Y has a projected mean WAR of 1.5 with a standard deviation of 3. Assume projected WAR is normally distributed. What is the probability that Player X outperforms Player Y?</p>
<p>Link to WAR explaination: <a href="https://www.mlb.com/glossary/advanced-stats/wins-above-replacement" class="uri">https://www.mlb.com/glossary/advanced-stats/wins-above-replacement</a></p>
</div>
<p>We want Pr(X&gt;Y) or Pr(X-Y&gt;0).<br />
Let Z = X-Y.<br />
E[Z]=1.5
Var(Z)=5
Pr(Z&gt;0)=1-Pr(Z <span class="math inline">\(\leq\)</span> 0)</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="2.7-common-random-variables.html#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Calculate probability Z&lt;=0</span></span>
<span id="cb163-2"><a href="2.7-common-random-variables.html#cb163-2" aria-hidden="true" tabindex="-1"></a>pr <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="dv">0</span>,<span class="fl">1.5</span>,<span class="fu">sqrt</span>(<span class="dv">5</span>))</span>
<span id="cb163-3"><a href="2.7-common-random-variables.html#cb163-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">1</span><span class="sc">-</span>pr)</span></code></pre></div>
<pre><code>## [1] 0.7488325</code></pre>
<p>The Probability that Player X outperforms Player Y is 0.7488.</p>
<div style="page-break-after: always;"></div>
</div>
</div>
<p style="text-align: center;">
<a href="2.6-random-variables.html"><button class="btn btn-default">Previous</button></a>
<a href="2.8-extra-stuff.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
